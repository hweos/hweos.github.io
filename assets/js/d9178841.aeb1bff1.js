"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[679],{6548:n=>{n.exports=JSON.parse('{"permalink":"/blog/data-visualization","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2025-03-25-data-visualization.md","source":"@site/blog/2025-03-25-data-visualization.md","title":"\u6570\u636e\u53ef\u89c6\u5316\u5165\u95e8 (ECharts)","description":"\u6570\u636e\u53ef\u89c6\u5316\u8ba9\u6570\u636e\u66f4\u76f4\u89c2\u6613\u61c2\u3002\u672c\u6587\u4ecb\u7ecd ECharts \u7684\u57fa\u7840\u4f7f\u7528\u548c\u5e38\u89c1\u56fe\u8868\u7c7b\u578b\u3002","date":"2025-03-25T00:00:00.000Z","tags":[{"inline":true,"label":"\u6570\u636e\u53ef\u89c6\u5316","permalink":"/blog/tags/\u6570\u636e\u53ef\u89c6\u5316"},{"inline":true,"label":"ECharts","permalink":"/blog/tags/e-charts"},{"inline":true,"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"}],"readingTime":3.75,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"data-visualization","title":"\u6570\u636e\u53ef\u89c6\u5316\u5165\u95e8 (ECharts)","authors":"mason","tags":["\u6570\u636e\u53ef\u89c6\u5316","ECharts","\u524d\u7aef"]},"unlisted":false,"prevItem":{"title":"Canvas bindBindBindBindBindBindBindBindBing\u4e0e\u52a8\u753b","permalink":"/blog/canvas-bindbindbindbindbindbindbindbindbing"},"nextItem":{"title":"\u6587\u4ef6\u4e0a\u4f20\u5b8c\u6574\u65b9\u6848","permalink":"/blog/file-upload"}}')},7849:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>o});var a=t(6548),r=t(4848),s=t(8453);const i={slug:"data-visualization",title:"\u6570\u636e\u53ef\u89c6\u5316\u5165\u95e8 (ECharts)",authors:"mason",tags:["\u6570\u636e\u53ef\u89c6\u5316","ECharts","\u524d\u7aef"]},l=void 0,c={authorsImageUrls:[void 0]},o=[{value:"\ud83c\udfaf \u4e3a\u4ec0\u4e48\u9009\u62e9 ECharts",id:"-\u4e3a\u4ec0\u4e48\u9009\u62e9-echarts",level:2},{value:"\ud83d\ude80 \u5feb\u901f\u5f00\u59cb",id:"-\u5feb\u901f\u5f00\u59cb",level:2},{value:"\u5b89\u88c5",id:"\u5b89\u88c5",level:3},{value:"\u57fa\u7840\u4f7f\u7528",id:"\u57fa\u7840\u4f7f\u7528",level:3},{value:"\ud83d\udcca \u5e38\u89c1\u56fe\u8868",id:"-\u5e38\u89c1\u56fe\u8868",level:2},{value:"\u6298\u7ebf\u56fe",id:"\u6298\u7ebf\u56fe",level:3},{value:"\u67f1\u72b6\u56fe",id:"\u67f1\u72b6\u56fe",level:3},{value:"\u997c\u56fe",id:"\u997c\u56fe",level:3},{value:"\u73af\u5f62\u56fe",id:"\u73af\u5f62\u56fe",level:3},{value:"\u96f7\u8fbe\u56fe",id:"\u96f7\u8fbe\u56fe",level:3},{value:"\ud83c\udfa8 \u6837\u5f0f\u914d\u7f6e",id:"-\u6837\u5f0f\u914d\u7f6e",level:2},{value:"\u4e3b\u9898",id:"\u4e3b\u9898",level:3},{value:"\u989c\u8272\u914d\u7f6e",id:"\u989c\u8272\u914d\u7f6e",level:3},{value:"\u6e10\u53d8\u8272",id:"\u6e10\u53d8\u8272",level:3},{value:"\ud83d\udd27 \u4ea4\u4e92\u914d\u7f6e",id:"-\u4ea4\u4e92\u914d\u7f6e",level:2},{value:"Tooltip",id:"tooltip",level:3},{value:"Legend",id:"legend",level:3},{value:"\u6570\u636e\u7f29\u653e",id:"\u6570\u636e\u7f29\u653e",level:3},{value:"\ud83d\udcf1 \u54cd\u5e94\u5f0f",id:"-\u54cd\u5e94\u5f0f",level:2},{value:"\ud83d\udce6 \u6309\u9700\u5f15\u5165",id:"-\u6309\u9700\u5f15\u5165",level:2},{value:"\ud83d\udd04 \u52a8\u6001\u6570\u636e",id:"-\u52a8\u6001\u6570\u636e",level:2},{value:"\ud83d\udccb \u63a8\u8350\u8d44\u6e90",id:"-\u63a8\u8350\u8d44\u6e90",level:2}];function d(n){const e={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.p,{children:"\u6570\u636e\u53ef\u89c6\u5316\u8ba9\u6570\u636e\u66f4\u76f4\u89c2\u6613\u61c2\u3002\u672c\u6587\u4ecb\u7ecd ECharts \u7684\u57fa\u7840\u4f7f\u7528\u548c\u5e38\u89c1\u56fe\u8868\u7c7b\u578b\u3002"}),"\n",(0,r.jsx)(e.h2,{id:"-\u4e3a\u4ec0\u4e48\u9009\u62e9-echarts",children:"\ud83c\udfaf \u4e3a\u4ec0\u4e48\u9009\u62e9 ECharts"}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"\u7279\u70b9"}),(0,r.jsx)(e.th,{children:"\u8bf4\u660e"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"\u4e30\u5bcc\u7684\u56fe\u8868"}),(0,r.jsx)(e.td,{children:"20+ \u56fe\u8868\u7c7b\u578b"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"\u9ad8\u5ea6\u5b9a\u5236"}),(0,r.jsx)(e.td,{children:"\u914d\u7f6e\u9879\u5b8c\u5584"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"\u4ea4\u4e92\u6027\u5f3a"}),(0,r.jsx)(e.td,{children:"\u7f29\u653e\u3001\u62d6\u62fd\u3001\u63d0\u793a"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"\u6027\u80fd\u4f18\u79c0"}),(0,r.jsx)(e.td,{children:"Canvas/SVG \u6e32\u67d3"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"\u79fb\u52a8\u7aef\u53cb\u597d"}),(0,r.jsx)(e.td,{children:"\u54cd\u5e94\u5f0f\u8bbe\u8ba1"})]})]})]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"-\u5feb\u901f\u5f00\u59cb",children:"\ud83d\ude80 \u5feb\u901f\u5f00\u59cb"}),"\n",(0,r.jsx)(e.h3,{id:"\u5b89\u88c5",children:"\u5b89\u88c5"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"npm install echarts\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\u57fa\u7840\u4f7f\u7528",children:"\u57fa\u7840\u4f7f\u7528"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-tsx",children:"import * as echarts from 'echarts';\nimport { useEffect, useRef } from 'react';\n\nfunction Chart() {\n  const chartRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!chartRef.current) return;\n\n    const chart = echarts.init(chartRef.current);\n\n    const option = {\n      title: { text: '\u9500\u552e\u6570\u636e' },\n      xAxis: {\n        type: 'category',\n        data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri'],\n      },\n      yAxis: { type: 'value' },\n      series: [\n        {\n          data: [120, 200, 150, 80, 70],\n          type: 'bar',\n        },\n      ],\n    };\n\n    chart.setOption(option);\n\n    // \u54cd\u5e94\u5f0f\n    const handleResize = () => chart.resize();\n    window.addEventListener('resize', handleResize);\n\n    return () => {\n      window.removeEventListener('resize', handleResize);\n      chart.dispose();\n    };\n  }, []);\n\n  return <div ref={chartRef} style={{ width: '100%', height: 400 }} />;\n}\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"-\u5e38\u89c1\u56fe\u8868",children:"\ud83d\udcca \u5e38\u89c1\u56fe\u8868"}),"\n",(0,r.jsx)(e.h3,{id:"\u6298\u7ebf\u56fe",children:"\u6298\u7ebf\u56fe"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-javascript",children:"const option = {\n  title: { text: '\u8bbf\u95ee\u8d8b\u52bf' },\n  tooltip: { trigger: 'axis' },\n  legend: { data: ['PV', 'UV'] },\n  xAxis: {\n    type: 'category',\n    data: ['\u5468\u4e00', '\u5468\u4e8c', '\u5468\u4e09', '\u5468\u56db', '\u5468\u4e94', '\u5468\u516d', '\u5468\u65e5'],\n  },\n  yAxis: { type: 'value' },\n  series: [\n    {\n      name: 'PV',\n      type: 'line',\n      data: [820, 932, 901, 934, 1290, 1330, 1320],\n      smooth: true,\n    },\n    {\n      name: 'UV',\n      type: 'line',\n      data: [120, 132, 101, 134, 90, 230, 210],\n      smooth: true,\n    },\n  ],\n};\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\u67f1\u72b6\u56fe",children:"\u67f1\u72b6\u56fe"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-javascript",children:"const option = {\n  title: { text: '\u5b63\u5ea6\u9500\u552e' },\n  tooltip: {},\n  xAxis: {\n    type: 'category',\n    data: ['Q1', 'Q2', 'Q3', 'Q4'],\n  },\n  yAxis: { type: 'value' },\n  series: [\n    {\n      name: '2023',\n      type: 'bar',\n      data: [500, 800, 600, 900],\n      itemStyle: { color: '#3b82f6' },\n    },\n    {\n      name: '2024',\n      type: 'bar',\n      data: [600, 950, 750, 1100],\n      itemStyle: { color: '#10b981' },\n    },\n  ],\n};\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\u997c\u56fe",children:"\u997c\u56fe"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-javascript",children:"const option = {\n  title: {\n    text: '\u6d41\u91cf\u6765\u6e90',\n    left: 'center',\n  },\n  tooltip: {\n    trigger: 'item',\n    formatter: '{b}: {c} ({d}%)',\n  },\n  legend: {\n    orient: 'vertical',\n    left: 'left',\n  },\n  series: [\n    {\n      type: 'pie',\n      radius: '50%',\n      data: [\n        { value: 1048, name: '\u641c\u7d22\u5f15\u64ce' },\n        { value: 735, name: '\u76f4\u63a5\u8bbf\u95ee' },\n        { value: 580, name: '\u90ae\u4ef6\u8425\u9500' },\n        { value: 484, name: '\u8054\u76df\u5e7f\u544a' },\n        { value: 300, name: '\u89c6\u9891\u5e7f\u544a' },\n      ],\n      emphasis: {\n        itemStyle: {\n          shadowBlur: 10,\n          shadowOffsetX: 0,\n          shadowColor: 'rgba(0, 0, 0, 0.5)',\n        },\n      },\n    },\n  ],\n};\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\u73af\u5f62\u56fe",children:"\u73af\u5f62\u56fe"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-javascript",children:"const option = {\n  series: [\n    {\n      type: 'pie',\n      radius: ['40%', '70%'],  // \u5185\u5916\u534a\u5f84\n      avoidLabelOverlap: false,\n      label: {\n        show: false,\n        position: 'center',\n      },\n      emphasis: {\n        label: {\n          show: true,\n          fontSize: 24,\n          fontWeight: 'bold',\n        },\n      },\n      labelLine: { show: false },\n      data: [\n        { value: 1048, name: '\u641c\u7d22\u5f15\u64ce' },\n        { value: 735, name: '\u76f4\u63a5\u8bbf\u95ee' },\n        { value: 580, name: '\u90ae\u4ef6\u8425\u9500' },\n      ],\n    },\n  ],\n};\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\u96f7\u8fbe\u56fe",children:"\u96f7\u8fbe\u56fe"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-javascript",children:"const option = {\n  radar: {\n    indicator: [\n      { name: '\u9500\u552e', max: 100 },\n      { name: '\u7ba1\u7406', max: 100 },\n      { name: '\u6280\u672f', max: 100 },\n      { name: '\u5ba2\u670d', max: 100 },\n      { name: '\u7814\u53d1', max: 100 },\n      { name: '\u5e02\u573a', max: 100 },\n    ],\n  },\n  series: [\n    {\n      type: 'radar',\n      data: [\n        {\n          value: [80, 90, 70, 60, 85, 75],\n          name: '\u56e2\u961fA',\n        },\n        {\n          value: [60, 70, 80, 90, 65, 85],\n          name: '\u56e2\u961fB',\n        },\n      ],\n    },\n  ],\n};\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"-\u6837\u5f0f\u914d\u7f6e",children:"\ud83c\udfa8 \u6837\u5f0f\u914d\u7f6e"}),"\n",(0,r.jsx)(e.h3,{id:"\u4e3b\u9898",children:"\u4e3b\u9898"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-javascript",children:"// \u4f7f\u7528\u5185\u7f6e\u4e3b\u9898\necharts.init(dom, 'dark');\n\n// \u81ea\u5b9a\u4e49\u4e3b\u9898\necharts.registerTheme('myTheme', {\n  color: ['#3b82f6', '#10b981', '#f59e0b', '#ef4444'],\n  backgroundColor: '#f8fafc',\n});\necharts.init(dom, 'myTheme');\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\u989c\u8272\u914d\u7f6e",children:"\u989c\u8272\u914d\u7f6e"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-javascript",children:"const option = {\n  color: ['#5470c6', '#91cc75', '#fac858', '#ee6666'],\n  series: [\n    {\n      type: 'bar',\n      itemStyle: {\n        color: (params) => {\n          const colors = ['#5470c6', '#91cc75', '#fac858'];\n          return colors[params.dataIndex % colors.length];\n        },\n      },\n    },\n  ],\n};\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\u6e10\u53d8\u8272",children:"\u6e10\u53d8\u8272"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-javascript",children:"const option = {\n  series: [\n    {\n      type: 'bar',\n      itemStyle: {\n        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n          { offset: 0, color: '#83bff6' },\n          { offset: 0.5, color: '#188df0' },\n          { offset: 1, color: '#188df0' },\n        ]),\n      },\n    },\n  ],\n};\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"-\u4ea4\u4e92\u914d\u7f6e",children:"\ud83d\udd27 \u4ea4\u4e92\u914d\u7f6e"}),"\n",(0,r.jsx)(e.h3,{id:"tooltip",children:"Tooltip"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-javascript",children:"const option = {\n  tooltip: {\n    trigger: 'axis',  // 'item' | 'axis' | 'none'\n    axisPointer: {\n      type: 'cross',  // 'line' | 'shadow' | 'cross'\n    },\n    formatter: (params) => {\n      return `${params[0].name}: ${params[0].value}`;\n    },\n  },\n};\n"})}),"\n",(0,r.jsx)(e.h3,{id:"legend",children:"Legend"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-javascript",children:"const option = {\n  legend: {\n    type: 'scroll',  // \u53ef\u6eda\u52a8\n    orient: 'vertical',\n    right: 10,\n    top: 20,\n    bottom: 20,\n    data: ['\u7cfb\u52171', '\u7cfb\u52172', '\u7cfb\u52173'],\n    selected: {\n      '\u7cfb\u52171': true,\n      '\u7cfb\u52172': false,  // \u9ed8\u8ba4\u4e0d\u9009\u4e2d\n    },\n  },\n};\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\u6570\u636e\u7f29\u653e",children:"\u6570\u636e\u7f29\u653e"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-javascript",children:"const option = {\n  dataZoom: [\n    {\n      type: 'slider',\n      show: true,\n      start: 0,\n      end: 100,\n    },\n    {\n      type: 'inside',  // \u9f20\u6807\u6eda\u8f6e\u7f29\u653e\n      start: 0,\n      end: 100,\n    },\n  ],\n};\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"-\u54cd\u5e94\u5f0f",children:"\ud83d\udcf1 \u54cd\u5e94\u5f0f"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"function useChart(option: any) {\n  const chartRef = useRef<HTMLDivElement>(null);\n  const chartInstance = useRef<echarts.ECharts>();\n\n  useEffect(() => {\n    if (!chartRef.current) return;\n\n    chartInstance.current = echarts.init(chartRef.current);\n    chartInstance.current.setOption(option);\n\n    const resizeObserver = new ResizeObserver(() => {\n      chartInstance.current?.resize();\n    });\n    resizeObserver.observe(chartRef.current);\n\n    return () => {\n      resizeObserver.disconnect();\n      chartInstance.current?.dispose();\n    };\n  }, [option]);\n\n  return { chartRef, chart: chartInstance.current };\n}\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"-\u6309\u9700\u5f15\u5165",children:"\ud83d\udce6 \u6309\u9700\u5f15\u5165"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-javascript",children:"// \u51cf\u5c0f\u5305\u4f53\u79ef\nimport * as echarts from 'echarts/core';\nimport { BarChart, LineChart, PieChart } from 'echarts/charts';\nimport {\n  TitleComponent,\n  TooltipComponent,\n  GridComponent,\n  LegendComponent,\n} from 'echarts/components';\nimport { CanvasRenderer } from 'echarts/renderers';\n\necharts.use([\n  BarChart,\n  LineChart,\n  PieChart,\n  TitleComponent,\n  TooltipComponent,\n  GridComponent,\n  LegendComponent,\n  CanvasRenderer,\n]);\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"-\u52a8\u6001\u6570\u636e",children:"\ud83d\udd04 \u52a8\u6001\u6570\u636e"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"function RealTimeChart() {\n  const chartRef = useRef<echarts.ECharts>();\n  const [data, setData] = useState<number[]>([]);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      const newValue = Math.random() * 100;\n      setData((prev) => [...prev.slice(-19), newValue]);\n    }, 1000);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  useEffect(() => {\n    chartRef.current?.setOption({\n      series: [{ data }],\n    });\n  }, [data]);\n\n  return <div ref={bindChart} style={{ height: 400 }} />;\n}\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"-\u63a8\u8350\u8d44\u6e90",children:"\ud83d\udccb \u63a8\u8350\u8d44\u6e90"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://echarts.apache.org/",children:"ECharts \u5b98\u65b9\u6587\u6863"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://echarts.apache.org/examples/",children:"ECharts \u793a\u4f8b"})}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://www.makeapie.cn/",children:"Make A Pie"})," - \u793e\u533a\u4f5c\u54c1"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.p,{children:"\u6570\u636e\u53ef\u89c6\u5316\u7684\u5173\u952e\u662f\u9009\u62e9\u6b63\u786e\u7684\u56fe\u8868\u7c7b\u578b\uff0c\u8ba9\u6570\u636e\u8bb2\u6545\u4e8b\u3002"})]})}function h(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>i,x:()=>l});var a=t(6540);const r={},s=a.createContext(r);function i(n){const e=a.useContext(s);return a.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:i(n.components),a.createElement(s.Provider,{value:e},n.children)}}}]);