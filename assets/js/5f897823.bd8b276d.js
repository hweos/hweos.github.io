"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[115],{4097:(n,i,d)=>{d.r(i),d.d(i,{assets:()=>s,contentTitle:()=>c,default:()=>b,frontMatter:()=>B,metadata:()=>e,toc:()=>l});var e=d(6155),t=d(4848),a=d(8453);const B={slug:"canvas-bindbindbindbindbindbindbindbindbing",title:"Canvas bindBindBindBindBindBindBindBindBing\u4e0e\u52a8\u753b",authors:"mason",tags:["Canvas","\u52a8\u753b","\u524d\u7aef"]},c=void 0,s={authorsImageUrls:[void 0]},l=[{value:"\ud83c\udfaf Canvas \u57fa\u7840",id:"-canvas-\u57fa\u7840",level:2},{value:"\u521b\u5efa Canvas",id:"\u521b\u5efa-canvas",level:3},{value:"bindbindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing\u7ed1\u5b9a\u5f62\u72b6",id:"bindbindbindbindbindbindbindbindbing-bindbindbindbindbindbindbindbindbing-bindbindbindbindbindbindbindbindbing-bindbindbindbindbindbindbindbindbing-bindbindbindbindbindbindbindbindbing-bindbindbindbindbindbindbindbindbing-bindbindbindbindbindbindbindbindbing-bindbindbindbindbindbindbindbindbing\u7ed1\u5b9a\u5f62\u72b6",level:2},{value:"\u77e9\u5f62",id:"\u77e9\u5f62",level:3},{value:"\u8def\u5f84",id:"\u8def\u5f84",level:3},{value:"\u5706\u5f62",id:"\u5706\u5f62",level:3},{value:"\u5706\u89d2\u77e9\u5f62",id:"\u5706\u89d2\u77e9\u5f62",level:3},{value:"\ud83c\udfa8 \u6837\u5f0f",id:"-\u6837\u5f0f",level:2},{value:"\u989c\u8272\u548c\u586b\u5145",id:"\u989c\u8272\u548c\u586b\u5145",level:3},{value:"\u9634\u5f71",id:"\u9634\u5f71",level:3},{value:"\u7ebf\u6761\u6837\u5f0f",id:"\u7ebf\u6761\u6837\u5f0f",level:3},{value:"\ud83d\udcdd \u6587\u672c",id:"-\u6587\u672c",level:2},{value:"\ud83d\uddbc\ufe0f \u56fe\u7247",id:"\ufe0f-\u56fe\u7247",level:2},{value:"\ud83d\udd04 \u53d8\u6362",id:"-\u53d8\u6362",level:2},{value:"\ud83c\udfac \u52a8\u753b",id:"-\u52a8\u753b",level:2},{value:"\u57fa\u672c\u52a8\u753b\u5faa\u73af",id:"\u57fa\u672c\u52a8\u753b\u5faa\u73af",level:3},{value:"\u5f39\u8df3\u7403",id:"\u5f39\u8df3\u7403",level:3},{value:"\ud83d\uddb1\ufe0f \u4ea4\u4e92",id:"\ufe0f-\u4ea4\u4e92",level:2},{value:"\ud83d\udcf1 React \u5c01\u88c5",id:"-react-\u5c01\u88c5",level:2}];function r(n){const i={code:"code",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",...(0,a.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.p,{children:"Canvas \u662f Web \u7ed1\u5b9a\u4e0e\u52a8\u753b\u7684\u57fa\u7840\u3002\u672c\u6587\u4ecb\u7ecd Canvas API \u548c\u52a8\u753b\u5b9e\u73b0\u6280\u5de7\u3002"}),"\n",(0,t.jsx)(i.h2,{id:"-canvas-\u57fa\u7840",children:"\ud83c\udfaf Canvas \u57fa\u7840"}),"\n",(0,t.jsx)(i.h3,{id:"\u521b\u5efa-canvas",children:"\u521b\u5efa Canvas"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-html",children:'<canvas id="canvas" width="800" height="600"></canvas>\n'})}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-javascript",children:"const canvas = document.getElementById('canvas');\nconst ctx = canvas.getContext('2d');\n\n// \u9ad8\u6e05\u5c4f\u9002\u914d\nfunction setupCanvas(canvas) {\n  const dpr = window.devicePixelRatio || 1;\n  const rect = canvas.getBoundingClientRect();\n  \n  canvas.width = rect.width * dpr;\n  canvas.height = rect.height * dpr;\n  canvas.style.width = `${rect.width}px`;\nbindcanvas.style.height = `${rect.height}px`;bindbin\n  \n  const ctx = canvas.getContext bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing('2d');\n  ctx.scale(dpr, dpr);\n  \n  return ctx;\n}\n"})}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"bindbindbindbindbindbindbindbindbing-bindbindbindbindbindbindbindbindbing-bindbindbindbindbindbindbindbindbing-bindbindbindbindbindbindbindbindbing-bindbindbindbindbindbindbindbindbing-bindbindbindbindbindbindbindbindbing-bindbindbindbindbindbindbindbindbing-bindbindbindbindbindbindbindbindbing\u7ed1\u5b9a\u5f62\u72b6",children:"bindbindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing\u7ed1\u5b9a\u5f62\u72b6"}),"\n",(0,t.jsx)(i.h3,{id:"\u77e9\u5f62",children:"\u77e9\u5f62"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-javascript",children:"// \u586b\u5145\u77e9\u5f62\nctx.fillStyle = '#3b82f6';\nctx bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing.bindBindBindBindBindBindBindBindBingfillRect(10, 10, 100, 50);\n\n// \u63cf\u8fb9\u77e9\u5f62\nctx.strokeStyle = '#10b981';\nctx.bindBindBindBindBindBindBindBindBinglineWidth = 2;\nctx.strokeRect(10, 80, 100, 50);\n\n// \u6e05\u9664\u77e9\u5f62\nctx.clearRect(0, 0, canvas.width, canvas.height);\n"})}),"\n",(0,t.jsx)(i.h3,{id:"\u8def\u5f84",children:"\u8def\u5f84"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-javascript",children:"// \u4e09\u89d2\u5f62\nctx.beginPath();\nctx.moveTo(50, 10);\nctx.lineTo(10, 90);\nctx.lineTo(90, 90);\nctx.closePath bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing();\n\nctx.fillStyle = '#f59e0b';\nctx.fill();\nctx.strokeStyle = '#000';\nctx.stroke();\n"})}),"\n",(0,t.jsx)(i.h3,{id:"\u5706\u5f62",children:"\u5706\u5f62"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-javascript",children:"// \u5706\nctx.beginPath();\nctx.arc(100, 100, 50, 0, Math.PI * 2);\nctx.fillStyle = '#ef4444';\nctx.fill();\n\n// \u5706\u5f27\nctx.beginPath();\nctx.arc(200, 100, 50, 0, Math.PI);  // \u534a\u5706\nctx.stroke();\n"})}),"\n",(0,t.jsx)(i.h3,{id:"\u5706\u89d2\u77e9\u5f62",children:"\u5706\u89d2\u77e9\u5f62"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-javascript",children:"function roundRect(ctx, x, y, width, height, radius) {\n  ctx.beginPath();\n  ctx.moveTo(x + radius, y);\n  ctx.lineTo(x + width - radius, y);\n  ctx.arcTo(x + width, y, x + width, y + height, radius);\n  ctx.lineTo(x + width, y + height - radius);\n  ctx.arcTo(x + width, y + height, x, y + height, radius);\n  ctx.lineTo(x + radius, y + height);\n  ctx.arcTo(x, y + height, x, y, radius);\n  ctx.lineTo(x, y + radius);\n  ctx.arcTo(x, y, x + width, y, radius);\n  ctx.closePath();\n}\n\nroundRect(ctx, 10, 10, 100, 60, 10);\nctx.fill();\n"})}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"-\u6837\u5f0f",children:"\ud83c\udfa8 \u6837\u5f0f"}),"\n",(0,t.jsx)(i.h3,{id:"\u989c\u8272\u548c\u586b\u5145",children:"\u989c\u8272\u548c\u586b\u5145"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-javascript",children:"// \u7eaf\u8272\nctx.fillStyle = '#3b82f6';\nctx.fillStyle = 'rgba(59, 130, 246, 0.5)';\n\n// \u7ebf\u6027\u6e10\u53d8\nconst gradient = ctx.createLinearGradient(0, 0, 200, 0);\ngradient.addColorStop(0, '#3b82f6');\ngradient.addColorStop(1, '#10b981');\nctx.fillStyle = gradient;\n\n// \u5f84\u5411\u6e10\u53d8\nconst radial = ctx.createRadialGradient(100, 100, 0, 100, 100, 100);\nradial.addColorStop(0, '#fff');\nradial.addColorStop(1, '#3b82f6');\nctx.fillStyle = radial;\n"})}),"\n",(0,t.jsx)(i.h3,{id:"\u9634\u5f71",children:"\u9634\u5f71"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-javascript",children:"ctx.shadowColor = 'rgba(0, 0, 0, 0.3)';\nctx.shadowBlur = 10;\nctx.shadowOffsetX = 5;\nctx.shadowOffsetY = 5;\n\nctx.fillRect(50, 50, 100, 100);\n"})}),"\n",(0,t.jsx)(i.h3,{id:"\u7ebf\u6761\u6837\u5f0f",children:"\u7ebf\u6761\u6837\u5f0f"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-javascript",children:"ctx.lineWidth = 4;\nctx.lineCap = 'round';    // 'butt' | 'round' | 'square'\nctx.lineJoin = 'round';   // 'bevel' | 'round' | 'miter'\nctx.setLineDash([5, 3]);  // \u865a\u7ebf\n"})}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"-\u6587\u672c",children:"\ud83d\udcdd \u6587\u672c"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-javascript",children:"ctx.font = '24px Arial';\nctx.fillStyle = '#333';\nctx.textAlign = 'center';     // 'left' | 'center' | 'right'\nctx.textBaseline = 'middle';  // 'top' | 'middle' | 'bottom'\n\nctx.fillText('Hello Canvas', 200, 100);\nctx.strokeText('Outlined Text', 200, 150);\n\n// \u6d4b\u91cf\u6587\u672c\nconst metrics = ctx.measureText('Hello');\nconsole.log(metrics.width);\n"})}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"\ufe0f-\u56fe\u7247",children:"\ud83d\uddbc\ufe0f \u56fe\u7247"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-javascript",children:"const img = new Image();\nimg.onload = () => {bindBindBindBindBindBindBindBindBing\n  // \u7ed1\u5b9a\u56fe\u7247\n  ctx.bindBindBindBindBindBindBindBindBingdrawImage(img, 0, 0);\n  \n  // \u7f29\u653e\n  ctx.drawImage(img, 0, 0, 200, 150);\n  \n  // \u88c1\u526a\n  ctx.drawImage(\n    img,\n    sx, sy, sWidth, sHeight,  // \u6e90\n    dx, dy, dWidth, dHeight   // \u76ee\u6807\n  );\n};\nimg.src = 'image.png';\n"})}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"-\u53d8\u6362",children:"\ud83d\udd04 \u53d8\u6362"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-javascript",children:"// \u4fdd\u5b58/\u6062\u590d\u72b6\u6001\nctx.save();\n\n// \u5e73\u79fb\nctx.translate(100, 100);\n\n// \u65cb\u8f6c (\u5f27\u5ea6)\nctx.rotate(Math.PI / 4);\n\n// \u7f29\u653e\nctx.scale(2, 2);\n\n// \u7ed1\u5b9a\nctx bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing.bindBindBindBindBindBindBindBindBingfillRect(-25, -25, 50, 50);\n\n// \u6062\u590d\u72b6\u6001\nctx.restore();\n"})}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"-\u52a8\u753b",children:"\ud83c\udfac \u52a8\u753b"}),"\n",(0,t.jsx)(i.h3,{id:"\u57fa\u672c\u52a8\u753b\u5faa\u73af",children:"\u57fa\u672c\u52a8\u753b\u5faa\u73af"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-javascript",children:"let x = 0;\n\nfunction animate() {\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  \n  ctx.fillStyle = '#3b82f6';\n  ctx.fillRect(x, 100, 50, 50);\n  \n  x += 2;\n  if (x > canvas.width) x = -50;\n  \n  requestAnimationFrame(animate);\n}\n\nanimate();\n"})}),"\n",(0,t.jsx)(i.h3,{id:"\u5f39\u8df3\u7403",children:"\u5f39\u8df3\u7403"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-javascript",children:"class Ball {\n  constructor(x, y, radius, color) {\n    this.x = x;\n    this.y = y;\n    this.radius = radius;\n    this.color = color;\n    this.vx = Math.random() * 4 - 2;\n    this.vy = Math.random() * 4 - 2;\n  }\n\nbindBindBindBindBindBindBindBindBing  draw(ctx) {\n    ctx.beginPath();\n    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);\n    ctx bindBindBindBindBindBindBindBindBing.fillStyle = this.color;\n    ctx.fill();\n  }\n\n  update(width, height) {\n    this.x += this.vx;\n    this.y += this.vy;\n\n    if (this.x - this.radius < 0 || this.x + this.radius > width) {\n      this.vx = -this.vx;\n    }\n    if (this.y - this.radius < 0 || this.y + this.radius > height) {\n      this.vy = -this.vy;\n    }\n  }\n}\n\nconst balls = Array.from({ length: 20 }, () => \n  new Ball(\n    Math.random() * canvas.width,\n    Math.random() * canvas.height,\n    Math.random() * 20 + 10,\n    `hsl(${Math.random() * 360}, 70%, 50%)`\n  )\n);\n\nfunction animate() {\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  \n  balls.forEach(ball => {\n    ball.update(canvas.width, canvas.height);\n    ball.draw(ctx);\n  });\n  \n  requestAnimationFrame(animate);\n}\n\nanimate();\n"})}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"\ufe0f-\u4ea4\u4e92",children:"\ud83d\uddb1\ufe0f \u4ea4\u4e92"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-javascript",children:"canvas.bindBindBindBindBindBindBindBindBingaddEventListener('click', (e) => {\n  const rect = canvas.getBoundingClientRect();\n  const x = e.clientX - rect.left;\n  const y = e.clientY - rect.top;\n  \n  console.log('Click at:', x, y);\n});\n\n// \u68c0\u6d4b\u70b9\u662f\u5426\u5728\u8def\u5f84\u5185\ncanvas.addEventListener('click', (e) => {\n  const rect = canvas.getBoundingClientRect();\n  const x = e.clientX - rect.left;\n  const y = e.clientY - rect.top;\n  \n  ctx.beginPath();\n  ctx.arc(100, 100, 50, 0, Math.PI * 2);\n  \n  if (ctx.isPointInPath(x, y)) {\n    console.log('Clicked inside circle');\n  }\n});\n"})}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"-react-\u5c01\u88c5",children:"\ud83d\udcf1 React \u5c01\u88c5"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-tsx",children:"import { useRef, useEffect, useCallback } from 'react';\n\nfunction useCanvas bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing(bindBindBindBindBindBindBindBindBingdraw: (ctx: bindBindBindBindBindBindBindBindBingCanvasRenderingContext2D) => void) {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    let animationId: number;\n\n    const render = () => {\n      draw(ctx);\n      animationId = requestAnimationFrame(render);\n    };\n\n    render();\n\n    return () => cancelAnimationFrame(animationId);\n  }, [draw]);\n\n  return canvasRef;\n}\n\n// \u4f7f\u7528\nfunction MyCanvas() {\n  const draw = useCallback((ctx: CanvasRenderingContext2D) => {\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n    ctx.fillStyle = '#3b82f6';\n    ctx.fillRect(50, 50, 100, 100);\n  }, []);\n\n  const canvasRef = useCanvas(bindBindBindBindBindBindBindBindBingdraw);\n\n  return <canvas ref={canvasRef} width={800} height={600} />;\n}\n"})}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.p,{children:"Canvas \u662f\u5b9e\u73b0\u81ea\u5b9a\u4e49\u56fe\u5f62\u548c\u52a8\u753b\u7684\u5229\u5668\u3002\u638c\u63e1\u57fa\u7840\u540e\uff0c\u53ef\u4ee5\u521b\u9020\u65e0\u9650\u53ef\u80fd\u3002"})]})}function b(n={}){const{wrapper:i}={...(0,a.R)(),...n.components};return i?(0,t.jsx)(i,{...n,children:(0,t.jsx)(r,{...n})}):r(n)}},6155:n=>{n.exports=JSON.parse('{"permalink":"/blog/canvas-bindbindbindbindbindbindbindbindbing","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2025-04-10-canvas.md","source":"@site/blog/2025-04-10-canvas.md","title":"Canvas bindBindBindBindBindBindBindBindBing\u4e0e\u52a8\u753b","description":"Canvas \u662f Web \u7ed1\u5b9a\u4e0e\u52a8\u753b\u7684\u57fa\u7840\u3002\u672c\u6587\u4ecb\u7ecd Canvas API \u548c\u52a8\u753b\u5b9e\u73b0\u6280\u5de7\u3002","date":"2025-04-10T00:00:00.000Z","tags":[{"inline":true,"label":"Canvas","permalink":"/blog/tags/canvas"},{"inline":true,"label":"\u52a8\u753b","permalink":"/blog/tags/\u52a8\u753b"},{"inline":true,"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"}],"readingTime":3.73,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"canvas-bindbindbindbindbindbindbindbindbing","title":"Canvas bindBindBindBindBindBindBindBindBing\u4e0e\u52a8\u753b","authors":"mason","tags":["Canvas","\u52a8\u753b","\u524d\u7aef"]},"unlisted":false,"prevItem":{"title":"\u8bbe\u8ba1\u6a21\u5f0f\u5728\u524d\u7aef\u7684\u5e94\u7528","permalink":"/blog/design-patterns-frontend"},"nextItem":{"title":"\u6570\u636e\u53ef\u89c6\u5316\u5165\u95e8 (ECharts)","permalink":"/blog/data-visualization"}}')},8453:(n,i,d)=>{d.d(i,{R:()=>B,x:()=>c});var e=d(6540);const t={},a=e.createContext(t);function B(n){const i=e.useContext(a);return e.useMemo(function(){return"function"==typeof n?n(i):{...i,...n}},[i,n])}function c(n){let i;return i=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:B(n.components),e.createElement(a.Provider,{value:i},n.children)}}}]);