"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7649],{1044:n=>{n.exports=JSON.parse('{"permalink":"/blog/frontend-monitoring","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-09-20-frontend-monitoring.md","source":"@site/blog/2024-09-20-frontend-monitoring.md","title":"\u524d\u7aef\u76d1\u63a7\u4e0e\u57cb\u70b9\u5b9e\u8df5","description":"\u524d\u7aef\u76d1\u63a7\u5e2e\u52a9\u6211\u4eec\u4e86\u89e3\u7528\u6237\u884c\u4e3a\u548c\u5e94\u7528\u5065\u5eb7\u72b6\u51b5\u3002\u672c\u6587\u4ecb\u7ecd\u524d\u7aef\u76d1\u63a7\u7684\u6838\u5fc3\u6982\u5ff5\u548c\u5b9e\u73b0\u65b9\u6cd5\u3002","date":"2024-09-20T00:00:00.000Z","tags":[{"inline":true,"label":"\u76d1\u63a7","permalink":"/blog/tags/\u76d1\u63a7"},{"inline":true,"label":"\u57cb\u70b9","permalink":"/blog/tags/\u57cb\u70b9"},{"inline":true,"label":"\u6027\u80fd","permalink":"/blog/tags/\u6027\u80fd"},{"inline":true,"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"}],"readingTime":4.43,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"frontend-monitoring","title":"\u524d\u7aef\u76d1\u63a7\u4e0e\u57cb\u70b9\u5b9e\u8df5","authors":"mason","tags":["\u76d1\u63a7","\u57cb\u70b9","\u6027\u80fd","\u524d\u7aef"]},"unlisted":false,"prevItem":{"title":"Node.js \u547d\u4ee4\u884c\u5de5\u5177\u5f00\u53d1\u6307\u5357","permalink":"/blog/nodejs-cli"},"nextItem":{"title":"WebSocket \u5b9e\u65f6\u901a\u4fe1\u6307\u5357","permalink":"/blog/websocket-guide"}}')},3793:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>l});var r=t(1044),s=t(4848),a=t(8453);const i={slug:"frontend-monitoring",title:"\u524d\u7aef\u76d1\u63a7\u4e0e\u57cb\u70b9\u5b9e\u8df5",authors:"mason",tags:["\u76d1\u63a7","\u57cb\u70b9","\u6027\u80fd","\u524d\u7aef"]},o=void 0,c={authorsImageUrls:[void 0]},l=[{value:"\ud83c\udfaf \u76d1\u63a7\u7c7b\u578b",id:"-\u76d1\u63a7\u7c7b\u578b",level:2},{value:"\ud83d\udcca \u6027\u80fd\u76d1\u63a7",id:"-\u6027\u80fd\u76d1\u63a7",level:2},{value:"Performance API",id:"performance-api",level:3},{value:"Core Web Vitals",id:"core-web-vitals",level:3},{value:"\u8d44\u6e90\u52a0\u8f7d\u76d1\u63a7",id:"\u8d44\u6e90\u52a0\u8f7d\u76d1\u63a7",level:3},{value:"\u26a0\ufe0f \u9519\u8bef\u76d1\u63a7",id:"\ufe0f-\u9519\u8bef\u76d1\u63a7",level:2},{value:"\u5168\u5c40\u9519\u8bef\u6355\u83b7",id:"\u5168\u5c40\u9519\u8bef\u6355\u83b7",level:3},{value:"React \u9519\u8bef\u8fb9\u754c",id:"react-\u9519\u8bef\u8fb9\u754c",level:3},{value:"\u63a5\u53e3\u9519\u8bef\u76d1\u63a7",id:"\u63a5\u53e3\u9519\u8bef\u76d1\u63a7",level:3},{value:"\ud83d\udcc8 \u884c\u4e3a\u76d1\u63a7",id:"-\u884c\u4e3a\u76d1\u63a7",level:2},{value:"\u9875\u9762\u8bbf\u95ee (PV/UV)",id:"\u9875\u9762\u8bbf\u95ee-pvuv",level:3},{value:"\u70b9\u51fb\u4e8b\u4ef6",id:"\u70b9\u51fb\u4e8b\u4ef6",level:3},{value:"\u624b\u52a8\u57cb\u70b9",id:"\u624b\u52a8\u57cb\u70b9",level:3},{value:"\ud83d\udce4 \u6570\u636e\u4e0a\u62a5",id:"-\u6570\u636e\u4e0a\u62a5",level:2},{value:"\u4e0a\u62a5\u7b56\u7565",id:"\u4e0a\u62a5\u7b56\u7565",level:3},{value:"\u91c7\u6837",id:"\u91c7\u6837",level:3},{value:"\ud83d\udee0\ufe0f \u5f00\u6e90\u65b9\u6848",id:"\ufe0f-\u5f00\u6e90\u65b9\u6848",level:2},{value:"Sentry \u96c6\u6210",id:"sentry-\u96c6\u6210",level:3},{value:"\ud83d\udccb \u76d1\u63a7\u6e05\u5355",id:"-\u76d1\u63a7\u6e05\u5355",level:2}];function d(n){const e={code:"code",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,a.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.p,{children:"\u524d\u7aef\u76d1\u63a7\u5e2e\u52a9\u6211\u4eec\u4e86\u89e3\u7528\u6237\u884c\u4e3a\u548c\u5e94\u7528\u5065\u5eb7\u72b6\u51b5\u3002\u672c\u6587\u4ecb\u7ecd\u524d\u7aef\u76d1\u63a7\u7684\u6838\u5fc3\u6982\u5ff5\u548c\u5b9e\u73b0\u65b9\u6cd5\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"-\u76d1\u63a7\u7c7b\u578b",children:"\ud83c\udfaf \u76d1\u63a7\u7c7b\u578b"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u7c7b\u578b"}),(0,s.jsx)(e.th,{children:"\u5185\u5bb9"}),(0,s.jsx)(e.th,{children:"\u4f5c\u7528"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"\u6027\u80fd\u76d1\u63a7"})}),(0,s.jsx)(e.td,{children:"\u52a0\u8f7d\u65f6\u95f4\u3001\u6e32\u67d3\u6027\u80fd"}),(0,s.jsx)(e.td,{children:"\u4f18\u5316\u7528\u6237\u4f53\u9a8c"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"\u9519\u8bef\u76d1\u63a7"})}),(0,s.jsx)(e.td,{children:"JS \u9519\u8bef\u3001\u8d44\u6e90\u9519\u8bef"}),(0,s.jsx)(e.td,{children:"\u5feb\u901f\u5b9a\u4f4d\u95ee\u9898"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"\u884c\u4e3a\u76d1\u63a7"})}),(0,s.jsx)(e.td,{children:"\u70b9\u51fb\u3001\u9875\u9762\u8bbf\u95ee"}),(0,s.jsx)(e.td,{children:"\u4ea7\u54c1\u5206\u6790"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"\u7528\u6237\u4f53\u9a8c"})}),(0,s.jsx)(e.td,{children:"\u5361\u987f\u3001\u767d\u5c4f"}),(0,s.jsx)(e.td,{children:"\u4f53\u9a8c\u4f18\u5316"})]})]})]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"-\u6027\u80fd\u76d1\u63a7",children:"\ud83d\udcca \u6027\u80fd\u76d1\u63a7"}),"\n",(0,s.jsx)(e.h3,{id:"performance-api",children:"Performance API"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"// \u5bfc\u822a\u65f6\u95f4\nconst timing = performance.getEntriesByType('navigation')[0];\n\nconst metrics = {\n  // DNS \u67e5\u8be2\n  dns: timing.domainLookupEnd - timing.domainLookupStart,\n  // TCP \u8fde\u63a5\n  tcp: timing.connectEnd - timing.connectStart,\n  // \u9996\u5b57\u8282\u65f6\u95f4 (TTFB)\n  ttfb: timing.responseStart - timing.requestStart,\n  // \u4e0b\u8f7d\u65f6\u95f4\n  download: timing.responseEnd - timing.responseStart,\n  // DOM \u89e3\u6790\n  domParse: timing.domInteractive - timing.responseEnd,\n  // DOM \u5b8c\u6210\n  domComplete: timing.domComplete - timing.domInteractive,\n  // \u9875\u9762\u5b8c\u5168\u52a0\u8f7d\n  loadComplete: timing.loadEventEnd - timing.navigationStart,\n};\n\nconsole.log(metrics);\n"})}),"\n",(0,s.jsx)(e.h3,{id:"core-web-vitals",children:"Core Web Vitals"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"import { onLCP, onFID, onCLS, onINP, onFCP, onTTFB } from 'web-vitals';\n\nfunction sendToAnalytics(metric) {\n  const body = JSON.stringify({\n    name: metric.name,\n    value: metric.value,\n    rating: metric.rating, // 'good' | 'needs-improvement' | 'poor'\n    id: metric.id,\n    navigationType: metric.navigationType,\n  });\n\n  // \u4f7f\u7528 sendBeacon \u786e\u4fdd\u6570\u636e\u53d1\u9001\n  if (navigator.sendBeacon) {\n    navigator.sendBeacon('/analytics', body);\n  } else {\n    fetch('/analytics', { body, method: 'POST', keepalive: true });\n  }\n}\n\nonLCP(sendToAnalytics);\nonFID(sendToAnalytics);\nonCLS(sendToAnalytics);\nonINP(sendToAnalytics);\nonFCP(sendToAnalytics);\nonTTFB(sendToAnalytics);\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u8d44\u6e90\u52a0\u8f7d\u76d1\u63a7",children:"\u8d44\u6e90\u52a0\u8f7d\u76d1\u63a7"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"// \u76d1\u63a7\u6240\u6709\u8d44\u6e90\u52a0\u8f7d\nconst resources = performance.getEntriesByType('resource');\n\nresources.forEach(resource => {\n  console.log({\n    name: resource.name,\n    type: resource.initiatorType, // script, css, img, fetch...\n    duration: resource.duration,\n    size: resource.transferSize,\n  });\n});\n\n// \u76d1\u63a7\u6162\u8d44\u6e90\nconst slowResources = resources.filter(r => r.duration > 1000);\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\ufe0f-\u9519\u8bef\u76d1\u63a7",children:"\u26a0\ufe0f \u9519\u8bef\u76d1\u63a7"}),"\n",(0,s.jsx)(e.h3,{id:"\u5168\u5c40\u9519\u8bef\u6355\u83b7",children:"\u5168\u5c40\u9519\u8bef\u6355\u83b7"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"// JS \u8fd0\u884c\u65f6\u9519\u8bef\nwindow.onerror = function(message, source, lineno, colno, error) {\n  reportError({\n    type: 'js_error',\n    message,\n    source,\n    lineno,\n    colno,\n    stack: error?.stack,\n  });\n  return false; // \u7ee7\u7eed\u9ed8\u8ba4\u5904\u7406\n};\n\n// Promise \u672a\u6355\u83b7\u9519\u8bef\nwindow.addEventListener('unhandledrejection', (event) => {\n  reportError({\n    type: 'promise_error',\n    message: event.reason?.message || String(event.reason),\n    stack: event.reason?.stack,\n  });\n});\n\n// \u8d44\u6e90\u52a0\u8f7d\u9519\u8bef\nwindow.addEventListener('error', (event) => {\n  if (event.target && (event.target.src || event.target.href)) {\n    reportError({\n      type: 'resource_error',\n      tagName: event.target.tagName,\n      url: event.target.src || event.target.href,\n    });\n  }\n}, true); // \u6355\u83b7\u9636\u6bb5\n"})}),"\n",(0,s.jsx)(e.h3,{id:"react-\u9519\u8bef\u8fb9\u754c",children:"React \u9519\u8bef\u8fb9\u754c"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-tsx",children:"import React, { Component, ErrorInfo, ReactNode } from 'react';\n\ninterface Props {\n  children: ReactNode;\n  fallback?: ReactNode;\n}\n\ninterface State {\n  hasError: boolean;\n  error?: Error;\n}\n\nclass ErrorBoundary extends Component<Props, State> {\n  state: State = { hasError: false };\n\n  static getDerivedStateFromError(error: Error): State {\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    reportError({\n      type: 'react_error',\n      message: error.message,\n      stack: error.stack,\n      componentStack: errorInfo.componentStack,\n    });\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return this.props.fallback || <div>Something went wrong</div>;\n    }\n    return this.props.children;\n  }\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u63a5\u53e3\u9519\u8bef\u76d1\u63a7",children:"\u63a5\u53e3\u9519\u8bef\u76d1\u63a7"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"// \u62e6\u622a fetch\nconst originalFetch = window.fetch;\nwindow.fetch = async function(...args) {\n  const startTime = Date.now();\n  \n  try {\n    const response = await originalFetch.apply(this, args);\n    \n    // \u8bb0\u5f55\u8bf7\u6c42\n    reportApi({\n      url: args[0],\n      method: args[1]?.method || 'GET',\n      status: response.status,\n      duration: Date.now() - startTime,\n      success: response.ok,\n    });\n\n    return response;\n  } catch (error) {\n    reportApi({\n      url: args[0],\n      method: args[1]?.method || 'GET',\n      status: 0,\n      duration: Date.now() - startTime,\n      success: false,\n      error: error.message,\n    });\n    throw error;\n  }\n};\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"-\u884c\u4e3a\u76d1\u63a7",children:"\ud83d\udcc8 \u884c\u4e3a\u76d1\u63a7"}),"\n",(0,s.jsx)(e.h3,{id:"\u9875\u9762\u8bbf\u95ee-pvuv",children:"\u9875\u9762\u8bbf\u95ee (PV/UV)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"// \u9875\u9762\u8bbf\u95ee\nfunction trackPageView() {\n  report({\n    type: 'pageview',\n    url: location.href,\n    referrer: document.referrer,\n    title: document.title,\n    timestamp: Date.now(),\n  });\n}\n\n// SPA \u8def\u7531\u53d8\u5316\nwindow.addEventListener('popstate', trackPageView);\n\n// \u5982\u679c\u4f7f\u7528 React Router\nuseEffect(() => {\n  trackPageView();\n}, [location.pathname]);\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u70b9\u51fb\u4e8b\u4ef6",children:"\u70b9\u51fb\u4e8b\u4ef6"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"// \u81ea\u52a8\u91c7\u96c6\u70b9\u51fb\ndocument.addEventListener('click', (event) => {\n  const target = event.target;\n  \n  // \u83b7\u53d6\u5143\u7d20\u4fe1\u606f\n  const elementInfo = {\n    tagName: target.tagName,\n    id: target.id,\n    className: target.className,\n    text: target.innerText?.slice(0, 50),\n    path: getElementPath(target),\n  };\n\n  report({\n    type: 'click',\n    ...elementInfo,\n    x: event.clientX,\n    y: event.clientY,\n    timestamp: Date.now(),\n  });\n}, true);\n\n// \u83b7\u53d6\u5143\u7d20\u8def\u5f84\nfunction getElementPath(element) {\n  const path = [];\n  while (element && element !== document.body) {\n    let selector = element.tagName.toLowerCase();\n    if (element.id) {\n      selector += `#${element.id}`;\n    } else if (element.className) {\n      selector += `.${element.className.split(' ').join('.')}`;\n    }\n    path.unshift(selector);\n    element = element.parentElement;\n  }\n  return path.join(' > ');\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u624b\u52a8\u57cb\u70b9",children:"\u624b\u52a8\u57cb\u70b9"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"// \u57cb\u70b9 SDK\nconst tracker = {\n  track(eventName, properties = {}) {\n    report({\n      type: 'event',\n      event: eventName,\n      properties,\n      timestamp: Date.now(),\n    });\n  },\n\n  // \u9884\u8bbe\u4e8b\u4ef6\n  trackButtonClick(buttonName) {\n    this.track('button_click', { button: buttonName });\n  },\n\n  trackFormSubmit(formName, success) {\n    this.track('form_submit', { form: formName, success });\n  },\n\n  trackSearch(keyword, resultCount) {\n    this.track('search', { keyword, resultCount });\n  },\n};\n\n// \u4f7f\u7528\ntracker.track('add_to_cart', { productId: '123', price: 99 });\ntracker.trackButtonClick('checkout');\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"-\u6570\u636e\u4e0a\u62a5",children:"\ud83d\udce4 \u6570\u636e\u4e0a\u62a5"}),"\n",(0,s.jsx)(e.h3,{id:"\u4e0a\u62a5\u7b56\u7565",children:"\u4e0a\u62a5\u7b56\u7565"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"class Reporter {\n  private queue: any[] = [];\n  private maxBatchSize = 10;\n  private flushInterval = 5000;\n  private timer?: NodeJS.Timer;\n\n  constructor() {\n    this.startTimer();\n    \n    // \u9875\u9762\u5378\u8f7d\u524d\u4e0a\u62a5\n    window.addEventListener('beforeunload', () => this.flush());\n    document.addEventListener('visibilitychange', () => {\n      if (document.visibilityState === 'hidden') {\n        this.flush();\n      }\n    });\n  }\n\n  private startTimer() {\n    this.timer = setInterval(() => this.flush(), this.flushInterval);\n  }\n\n  report(data: any) {\n    this.queue.push({\n      ...data,\n      timestamp: Date.now(),\n      url: location.href,\n      userAgent: navigator.userAgent,\n    });\n\n    if (this.queue.length >= this.maxBatchSize) {\n      this.flush();\n    }\n  }\n\n  private flush() {\n    if (this.queue.length === 0) return;\n\n    const data = this.queue.splice(0, this.maxBatchSize);\n    this.send(data);\n  }\n\n  private send(data: any[]) {\n    const body = JSON.stringify(data);\n\n    // \u4f18\u5148\u4f7f\u7528 sendBeacon\n    if (navigator.sendBeacon) {\n      navigator.sendBeacon('/api/track', body);\n    } else {\n      fetch('/api/track', {\n        method: 'POST',\n        body,\n        keepalive: true,\n      });\n    }\n  }\n}\n\nconst reporter = new Reporter();\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u91c7\u6837",children:"\u91c7\u6837"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"// \u6309\u6bd4\u4f8b\u91c7\u6837\nfunction shouldSample(sampleRate = 0.1) {\n  return Math.random() < sampleRate;\n}\n\n// \u4f7f\u7528\nif (shouldSample(0.1)) { // 10% \u91c7\u6837\n  reporter.report(data);\n}\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\ufe0f-\u5f00\u6e90\u65b9\u6848",children:"\ud83d\udee0\ufe0f \u5f00\u6e90\u65b9\u6848"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u65b9\u6848"}),(0,s.jsx)(e.th,{children:"\u7c7b\u578b"}),(0,s.jsx)(e.th,{children:"\u7279\u70b9"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Sentry"})}),(0,s.jsx)(e.td,{children:"\u9519\u8bef\u76d1\u63a7"}),(0,s.jsx)(e.td,{children:"\u529f\u80fd\u5f3a\u5927\uff0c\u751f\u6001\u4e30\u5bcc"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"LogRocket"})}),(0,s.jsx)(e.td,{children:"\u5168\u529f\u80fd"}),(0,s.jsx)(e.td,{children:"\u4f1a\u8bdd\u56de\u653e"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Mixpanel"})}),(0,s.jsx)(e.td,{children:"\u884c\u4e3a\u5206\u6790"}),(0,s.jsx)(e.td,{children:"\u4ea7\u54c1\u5206\u6790"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Google Analytics"})}),(0,s.jsx)(e.td,{children:"\u884c\u4e3a\u5206\u6790"}),(0,s.jsx)(e.td,{children:"\u514d\u8d39\uff0c\u529f\u80fd\u5168"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"\u81ea\u5efa"})}),(0,s.jsx)(e.td,{children:"\u5168\u529f\u80fd"}),(0,s.jsx)(e.td,{children:"\u53ef\u63a7\uff0c\u5b9a\u5236\u5316"})]})]})]}),"\n",(0,s.jsx)(e.h3,{id:"sentry-\u96c6\u6210",children:"Sentry \u96c6\u6210"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"import * as Sentry from '@sentry/react';\n\nSentry.init({\n  dsn: 'your-dsn',\n  environment: process.env.NODE_ENV,\n  release: 'my-app@1.0.0',\n  tracesSampleRate: 0.1,\n  integrations: [\n    new Sentry.BrowserTracing(),\n    new Sentry.Replay(),\n  ],\n});\n\n// \u624b\u52a8\u4e0a\u62a5\nSentry.captureException(error);\nSentry.captureMessage('Something happened');\n\n// \u6dfb\u52a0\u4e0a\u4e0b\u6587\nSentry.setUser({ id: user.id, email: user.email });\nSentry.setTag('page', 'checkout');\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"-\u76d1\u63a7\u6e05\u5355",children:"\ud83d\udccb \u76d1\u63a7\u6e05\u5355"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-markdown",children:"\u6027\u80fd\u76d1\u63a7\uff1a\n- [ ] Core Web Vitals (LCP, INP, CLS)\n- [ ] \u9996\u5c4f\u65f6\u95f4\n- [ ] \u8d44\u6e90\u52a0\u8f7d\u65f6\u95f4\n- [ ] \u63a5\u53e3\u54cd\u5e94\u65f6\u95f4\n\n\u9519\u8bef\u76d1\u63a7\uff1a\n- [ ] JS \u8fd0\u884c\u65f6\u9519\u8bef\n- [ ] Promise \u672a\u6355\u83b7\u9519\u8bef\n- [ ] \u8d44\u6e90\u52a0\u8f7d\u5931\u8d25\n- [ ] \u63a5\u53e3\u9519\u8bef\n\n\u884c\u4e3a\u76d1\u63a7\uff1a\n- [ ] PV/UV\n- [ ] \u70b9\u51fb\u4e8b\u4ef6\n- [ ] \u5173\u952e\u64cd\u4f5c\u57cb\u70b9\n- [ ] \u7528\u6237\u8def\u5f84\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.p,{children:"\u76d1\u63a7\u662f\u4e86\u89e3\u7528\u6237\u548c\u4ea7\u54c1\u7684\u773c\u775b\u3002\u5efa\u7acb\u5b8c\u5584\u7684\u76d1\u63a7\u4f53\u7cfb\uff0c\u624d\u80fd\u6301\u7eed\u6539\u8fdb\u4ea7\u54c1\u4f53\u9a8c\u3002"})]})}function h(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>i,x:()=>o});var r=t(6540);const s={},a=r.createContext(s);function i(n){const e=r.useContext(a);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:i(n.components),r.createElement(a.Provider,{value:e},n.children)}}}]);