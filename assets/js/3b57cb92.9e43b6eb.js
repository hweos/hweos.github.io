"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[562],{7166:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>i});var s=t(9931),r=t(4848),a=t(8453);const o={slug:"state-management",title:"React \u72b6\u6001\u7ba1\u7406\u65b9\u6848\u5bf9\u6bd4",authors:"mason",tags:["React","\u72b6\u6001\u7ba1\u7406","Redux","Zustand"]},l=void 0,c={authorsImageUrls:[void 0]},i=[{value:"\ud83c\udfaf \u65b9\u6848\u6982\u89c8",id:"-\u65b9\u6848\u6982\u89c8",level:2},{value:"\ud83d\udce6 React Context",id:"-react-context",level:2},{value:"\u57fa\u672c\u4f7f\u7528",id:"\u57fa\u672c\u4f7f\u7528",level:3},{value:"\u4f18\u5316\u91cd\u6e32\u67d3",id:"\u4f18\u5316\u91cd\u6e32\u67d3",level:3},{value:"\u4f18\u7f3a\u70b9",id:"\u4f18\u7f3a\u70b9",level:3},{value:"\ud83d\udd27 Redux Toolkit",id:"-redux-toolkit",level:2},{value:"\u57fa\u672c\u4f7f\u7528",id:"\u57fa\u672c\u4f7f\u7528-1",level:3},{value:"\u5f02\u6b65\u64cd\u4f5c (createAsyncThunk)",id:"\u5f02\u6b65\u64cd\u4f5c-createasyncthunk",level:3},{value:"\u4f18\u7f3a\u70b9",id:"\u4f18\u7f3a\u70b9-1",level:3},{value:"\ud83d\udc3b Zustand",id:"-zustand",level:2},{value:"\u57fa\u672c\u4f7f\u7528",id:"\u57fa\u672c\u4f7f\u7528-2",level:3},{value:"\u5f02\u6b65\u64cd\u4f5c",id:"\u5f02\u6b65\u64cd\u4f5c",level:3},{value:"\u6301\u4e45\u5316",id:"\u6301\u4e45\u5316",level:3},{value:"\u4f18\u7f3a\u70b9",id:"\u4f18\u7f3a\u70b9-2",level:3},{value:"\u269b\ufe0f Jotai",id:"\ufe0f-jotai",level:2},{value:"\u57fa\u672c\u4f7f\u7528",id:"\u57fa\u672c\u4f7f\u7528-3",level:3},{value:"\u6d3e\u751f\u539f\u5b50",id:"\u6d3e\u751f\u539f\u5b50",level:3},{value:"\u5f02\u6b65\u539f\u5b50",id:"\u5f02\u6b65\u539f\u5b50",level:3},{value:"\u4f18\u7f3a\u70b9",id:"\u4f18\u7f3a\u70b9-3",level:3},{value:"\ud83d\udd0d \u5982\u4f55\u9009\u62e9",id:"-\u5982\u4f55\u9009\u62e9",level:2},{value:"\u51b3\u7b56\u6d41\u7a0b",id:"\u51b3\u7b56\u6d41\u7a0b",level:3},{value:"\u573a\u666f\u63a8\u8350",id:"\u573a\u666f\u63a8\u8350",level:3},{value:"\ud83d\udca1 \u6700\u4f73\u5b9e\u8df5",id:"-\u6700\u4f73\u5b9e\u8df5",level:2},{value:"1. \u5206\u79bb\u670d\u52a1\u7aef\u548c\u5ba2\u6237\u7aef\u72b6\u6001",id:"1-\u5206\u79bb\u670d\u52a1\u7aef\u548c\u5ba2\u6237\u7aef\u72b6\u6001",level:3},{value:"2. \u6309\u9886\u57df\u62c6\u5206 Store",id:"2-\u6309\u9886\u57df\u62c6\u5206-store",level:3},{value:"3. \u9009\u62e9\u6027\u8ba2\u9605",id:"3-\u9009\u62e9\u6027\u8ba2\u9605",level:3}];function d(e){const n={code:"code",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"React \u72b6\u6001\u7ba1\u7406\u65b9\u6848\u4f17\u591a\uff0c\u5982\u4f55\u9009\u62e9\uff1f\u672c\u6587\u5bf9\u6bd4\u4e3b\u6d41\u65b9\u6848\u7684\u4f18\u7f3a\u70b9\u548c\u9002\u7528\u573a\u666f\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"-\u65b9\u6848\u6982\u89c8",children:"\ud83c\udfaf \u65b9\u6848\u6982\u89c8"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u65b9\u6848"}),(0,r.jsx)(n.th,{children:"\u5305\u5927\u5c0f"}),(0,r.jsx)(n.th,{children:"\u5b66\u4e60\u66f2\u7ebf"}),(0,r.jsx)(n.th,{children:"\u9002\u7528\u573a\u666f"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"React Context"}),(0,r.jsx)(n.td,{children:"\u5185\u7f6e"}),(0,r.jsx)(n.td,{children:"\u4f4e"}),(0,r.jsx)(n.td,{children:"\u7b80\u5355\u72b6\u6001"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Redux Toolkit"}),(0,r.jsx)(n.td,{children:"~11kb"}),(0,r.jsx)(n.td,{children:"\u4e2d"}),(0,r.jsx)(n.td,{children:"\u5927\u578b\u5e94\u7528"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Zustand"}),(0,r.jsx)(n.td,{children:"~1kb"}),(0,r.jsx)(n.td,{children:"\u4f4e"}),(0,r.jsx)(n.td,{children:"\u4e2d\u5c0f\u578b\u5e94\u7528"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Jotai"}),(0,r.jsx)(n.td,{children:"~2kb"}),(0,r.jsx)(n.td,{children:"\u4f4e"}),(0,r.jsx)(n.td,{children:"\u539f\u5b50\u5316\u72b6\u6001"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Recoil"}),(0,r.jsx)(n.td,{children:"~20kb"}),(0,r.jsx)(n.td,{children:"\u4e2d"}),(0,r.jsx)(n.td,{children:"\u590d\u6742\u4f9d\u8d56"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-react-context",children:"\ud83d\udce6 React Context"}),"\n",(0,r.jsx)(n.h3,{id:"\u57fa\u672c\u4f7f\u7528",children:"\u57fa\u672c\u4f7f\u7528"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import { createContext, useContext, useState, ReactNode } from 'react';\n\n// \u5b9a\u4e49\u7c7b\u578b\ninterface AuthState {\n  user: User | null;\n  login: (user: User) => void;\n  logout: () => void;\n}\n\n// \u521b\u5efa Context\nconst AuthContext = createContext<AuthState | null>(null);\n\n// Provider \u7ec4\u4ef6\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n\n  const login = (user: User) => setUser(user);\n  const logout = () => setUser(null);\n\n  return (\n    <AuthContext.Provider value={{ user, login, logout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\n// \u81ea\u5b9a\u4e49 Hook\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within AuthProvider');\n  }\n  return context;\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u4f18\u5316\u91cd\u6e32\u67d3",children:"\u4f18\u5316\u91cd\u6e32\u67d3"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"// \u62c6\u5206 Context\nconst UserContext = createContext<User | null>(null);\nconst UserActionsContext = createContext<{\n  login: (user: User) => void;\n  logout: () => void;\n} | null>(null);\n\n// \u4f7f\u7528 useMemo \u4f18\u5316\nfunction AuthProvider({ children }: { children: ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n\n  const actions = useMemo(() => ({\n    login: (user: User) => setUser(user),\n    logout: () => setUser(null),\n  }), []);\n\n  return (\n    <UserContext.Provider value={user}>\n      <UserActionsContext.Provider value={actions}>\n        {children}\n      </UserActionsContext.Provider>\n    </UserContext.Provider>\n  );\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u4f18\u7f3a\u70b9",children:"\u4f18\u7f3a\u70b9"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-markdown",children:"\u2705 \u4f18\u70b9\uff1a\n- \u5185\u7f6e\uff0c\u65e0\u9700\u989d\u5916\u4f9d\u8d56\n- \u7b80\u5355\u6613\u7528\n- \u9002\u5408\u4e3b\u9898\u3001\u8bed\u8a00\u7b49\u4f4e\u9891\u66f4\u65b0\u72b6\u6001\n\n\u274c \u7f3a\u70b9\uff1a\n- \u65e0\u6cd5\u9009\u62e9\u6027\u8ba2\u9605\n- \u6027\u80fd\u4f18\u5316\u9700\u8981\u624b\u52a8\u5904\u7406\n- \u4e0d\u9002\u5408\u9891\u7e41\u66f4\u65b0\u7684\u72b6\u6001\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-redux-toolkit",children:"\ud83d\udd27 Redux Toolkit"}),"\n",(0,r.jsx)(n.h3,{id:"\u57fa\u672c\u4f7f\u7528-1",children:"\u57fa\u672c\u4f7f\u7528"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import { configureStore, createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { Provider, useSelector, useDispatch } from 'react-redux';\n\n// \u521b\u5efa Slice\nconst counterSlice = createSlice({\n  name: 'counter',\n  initialState: { value: 0 },\n  reducers: {\n    increment: (state) => {\n      state.value += 1;\n    },\n    decrement: (state) => {\n      state.value -= 1;\n    },\n    incrementByAmount: (state, action: PayloadAction<number>) => {\n      state.value += action.payload;\n    },\n  },\n});\n\nexport const { increment, decrement, incrementByAmount } = counterSlice.actions;\n\n// \u521b\u5efa Store\nconst store = configureStore({\n  reducer: {\n    counter: counterSlice.reducer,\n  },\n});\n\ntype RootState = ReturnType<typeof store.getState>;\ntype AppDispatch = typeof store.dispatch;\n\n// \u7c7b\u578b\u5316 Hooks\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector = <T>(selector: (state: RootState) => T) => \n  useSelector(selector);\n\n// \u4f7f\u7528\nfunction Counter() {\n  const count = useAppSelector((state) => state.counter.value);\n  const dispatch = useAppDispatch();\n\n  return (\n    <div>\n      <span>{count}</span>\n      <button onClick={() => dispatch(increment())}>+</button>\n      <button onClick={() => dispatch(decrement())}>-</button>\n    </div>\n  );\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u5f02\u6b65\u64cd\u4f5c-createasyncthunk",children:"\u5f02\u6b65\u64cd\u4f5c (createAsyncThunk)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\n\n// \u5f02\u6b65 Action\nexport const fetchUser = createAsyncThunk(\n  'user/fetch',\n  async (userId: string) => {\n    const response = await fetch(`/api/users/${userId}`);\n    return response.json();\n  }\n);\n\nconst userSlice = createSlice({\n  name: 'user',\n  initialState: {\n    data: null as User | null,\n    loading: false,\n    error: null as string | null,\n  },\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchUser.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchUser.fulfilled, (state, action) => {\n        state.loading = false;\n        state.data = action.payload;\n      })\n      .addCase(fetchUser.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.error.message || 'Failed';\n      });\n  },\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u4f18\u7f3a\u70b9-1",children:"\u4f18\u7f3a\u70b9"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-markdown",children:"\u2705 \u4f18\u70b9\uff1a\n- \u6210\u719f\u7a33\u5b9a\uff0c\u751f\u6001\u4e30\u5bcc\n- DevTools \u5f3a\u5927\n- \u9002\u5408\u5927\u578b\u56e2\u961f\u534f\u4f5c\n- RTK Query \u5904\u7406\u6570\u636e\u83b7\u53d6\n\n\u274c \u7f3a\u70b9\uff1a\n- \u6837\u677f\u4ee3\u7801\u8f83\u591a\n- \u5b66\u4e60\u66f2\u7ebf\u8f83\u9661\n- \u5305\u4f53\u79ef\u8f83\u5927\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-zustand",children:"\ud83d\udc3b Zustand"}),"\n",(0,r.jsx)(n.h3,{id:"\u57fa\u672c\u4f7f\u7528-2",children:"\u57fa\u672c\u4f7f\u7528"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import { create } from 'zustand';\n\ninterface BearState {\n  bears: number;\n  increase: () => void;\n  decrease: () => void;\n  reset: () => void;\n}\n\nconst useBearStore = create<BearState>((set) => ({\n  bears: 0,\n  increase: () => set((state) => ({ bears: state.bears + 1 })),\n  decrease: () => set((state) => ({ bears: state.bears - 1 })),\n  reset: () => set({ bears: 0 }),\n}));\n\n// \u4f7f\u7528\nfunction BearCounter() {\n  const bears = useBearStore((state) => state.bears);\n  const increase = useBearStore((state) => state.increase);\n\n  return (\n    <div>\n      <span>{bears} bears</span>\n      <button onClick={increase}>Add bear</button>\n    </div>\n  );\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u5f02\u6b65\u64cd\u4f5c",children:"\u5f02\u6b65\u64cd\u4f5c"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"const useUserStore = create<UserState>((set, get) => ({\n  user: null,\n  loading: false,\n  error: null,\n  \n  fetchUser: async (id: string) => {\n    set({ loading: true, error: null });\n    try {\n      const res = await fetch(`/api/users/${id}`);\n      const user = await res.json();\n      set({ user, loading: false });\n    } catch (error) {\n      set({ error: error.message, loading: false });\n    }\n  },\n}));\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u6301\u4e45\u5316",children:"\u6301\u4e45\u5316"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import { persist } from 'zustand/middleware';\n\nconst useAuthStore = create(\n  persist<AuthState>(\n    (set) => ({\n      token: null,\n      setToken: (token) => set({ token }),\n    }),\n    {\n      name: 'auth-storage', // localStorage key\n    }\n  )\n);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u4f18\u7f3a\u70b9-2",children:"\u4f18\u7f3a\u70b9"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-markdown",children:"\u2705 \u4f18\u70b9\uff1a\n- \u6781\u7b80 API\uff0c\u5b66\u4e60\u6210\u672c\u4f4e\n- \u5305\u4f53\u79ef\u5c0f (~1kb)\n- \u65e0\u9700 Provider\n- \u9009\u62e9\u6027\u8ba2\u9605\uff0c\u6027\u80fd\u597d\n\n\u274c \u7f3a\u70b9\uff1a\n- DevTools \u529f\u80fd\u8f83\u5f31\n- \u751f\u6001\u4e0d\u5982 Redux \u4e30\u5bcc\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\ufe0f-jotai",children:"\u269b\ufe0f Jotai"}),"\n",(0,r.jsx)(n.h3,{id:"\u57fa\u672c\u4f7f\u7528-3",children:"\u57fa\u672c\u4f7f\u7528"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import { atom, useAtom, useAtomValue, useSetAtom } from 'jotai';\n\n// \u521b\u5efa\u539f\u5b50\nconst countAtom = atom(0);\nconst doubleCountAtom = atom((get) => get(countAtom) * 2);\n\n// \u4f7f\u7528\nfunction Counter() {\n  const [count, setCount] = useAtom(countAtom);\n  const doubleCount = useAtomValue(doubleCountAtom);\n\n  return (\n    <div>\n      <span>{count} (double: {doubleCount})</span>\n      <button onClick={() => setCount((c) => c + 1)}>+</button>\n    </div>\n  );\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u6d3e\u751f\u539f\u5b50",children:"\u6d3e\u751f\u539f\u5b50"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"const usersAtom = atom<User[]>([]);\nconst userCountAtom = atom((get) => get(usersAtom).length);\nconst activeUsersAtom = atom((get) => \n  get(usersAtom).filter((u) => u.active)\n);\n\n// \u53ef\u5199\u6d3e\u751f\u539f\u5b50\nconst uppercaseAtom = atom(\n  (get) => get(textAtom).toUpperCase(),\n  (get, set, newValue: string) => {\n    set(textAtom, newValue.toLowerCase());\n  }\n);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u5f02\u6b65\u539f\u5b50",children:"\u5f02\u6b65\u539f\u5b50"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"const userAtom = atom(async () => {\n  const res = await fetch('/api/user');\n  return res.json();\n});\n\nfunction User() {\n  const user = useAtomValue(userAtom); // \u81ea\u52a8 Suspense\n  return <div>{user.name}</div>;\n}\n\n// \u914d\u5408 Suspense\n<Suspense fallback={<Loading />}>\n  <User />\n</Suspense>\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u4f18\u7f3a\u70b9-3",children:"\u4f18\u7f3a\u70b9"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-markdown",children:"\u2705 \u4f18\u70b9\uff1a\n- \u539f\u5b50\u5316\uff0c\u7ec6\u7c92\u5ea6\u66f4\u65b0\n- \u4e0e Suspense \u914d\u5408\u597d\n- \u6d3e\u751f\u72b6\u6001\u7b80\u6d01\n- TypeScript \u53cb\u597d\n\n\u274c \u7f3a\u70b9\uff1a\n- \u539f\u5b50\u592a\u591a\u65f6\u7ba1\u7406\u590d\u6742\n- Debug \u4e0d\u5982 Redux \u65b9\u4fbf\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-\u5982\u4f55\u9009\u62e9",children:"\ud83d\udd0d \u5982\u4f55\u9009\u62e9"}),"\n",(0,r.jsx)(n.h3,{id:"\u51b3\u7b56\u6d41\u7a0b",children:"\u51b3\u7b56\u6d41\u7a0b"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-markdown",children:"1. \u72b6\u6001\u7b80\u5355\uff0c\u66f4\u65b0\u4e0d\u9891\u7e41\uff1f\n   \u2192 React Context\n\n2. \u9700\u8981\u5f3a\u5927\u7684 DevTools \u548c\u4e2d\u95f4\u4ef6\uff1f\n   \u2192 Redux Toolkit\n\n3. \u8ffd\u6c42\u7b80\u6d01\u548c\u5c0f\u4f53\u79ef\uff1f\n   \u2192 Zustand\n\n4. \u9700\u8981\u539f\u5b50\u5316\u548c\u6d3e\u751f\u72b6\u6001\uff1f\n   \u2192 Jotai\n\n5. \u9700\u8981\u5f02\u6b65\u4f9d\u8d56\u548c\u6570\u636e\u6d41\uff1f\n   \u2192 Recoil \u6216 Jotai\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u573a\u666f\u63a8\u8350",children:"\u573a\u666f\u63a8\u8350"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u573a\u666f"}),(0,r.jsx)(n.th,{children:"\u63a8\u8350\u65b9\u6848"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u4e3b\u9898/\u8bed\u8a00\u5207\u6362"}),(0,r.jsx)(n.td,{children:"Context"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u7528\u6237\u8ba4\u8bc1\u72b6\u6001"}),(0,r.jsx)(n.td,{children:"Zustand / Context"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u590d\u6742\u8868\u5355\u72b6\u6001"}),(0,r.jsx)(n.td,{children:"Jotai"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u5927\u578b\u4f01\u4e1a\u5e94\u7528"}),(0,r.jsx)(n.td,{children:"Redux Toolkit"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u4e2d\u5c0f\u578b\u5e94\u7528"}),(0,r.jsx)(n.td,{children:"Zustand"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u670d\u52a1\u7aef\u6570\u636e\u7f13\u5b58"}),(0,r.jsx)(n.td,{children:"React Query + \u7b80\u5355\u72b6\u6001\u7ba1\u7406"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-\u6700\u4f73\u5b9e\u8df5",children:"\ud83d\udca1 \u6700\u4f73\u5b9e\u8df5"}),"\n",(0,r.jsx)(n.h3,{id:"1-\u5206\u79bb\u670d\u52a1\u7aef\u548c\u5ba2\u6237\u7aef\u72b6\u6001",children:"1. \u5206\u79bb\u670d\u52a1\u7aef\u548c\u5ba2\u6237\u7aef\u72b6\u6001"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"// \u670d\u52a1\u7aef\u72b6\u6001\u7528 React Query\nconst { data: user } = useQuery(['user', id], fetchUser);\n\n// \u5ba2\u6237\u7aef\u72b6\u6001\u7528 Zustand\nconst { theme, setTheme } = useThemeStore();\n"})}),"\n",(0,r.jsx)(n.h3,{id:"2-\u6309\u9886\u57df\u62c6\u5206-store",children:"2. \u6309\u9886\u57df\u62c6\u5206 Store"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"// \u4e0d\u8981\u4e00\u4e2a\u5de8\u5927\u7684 Store\n// \u6309\u529f\u80fd\u62c6\u5206\nconst useAuthStore = create(...);\nconst useCartStore = create(...);\nconst useUIStore = create(...);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"3-\u9009\u62e9\u6027\u8ba2\u9605",children:"3. \u9009\u62e9\u6027\u8ba2\u9605"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"// \u274c \u8ba2\u9605\u6574\u4e2a store\nconst store = useBearStore();\n\n// \u2705 \u53ea\u8ba2\u9605\u9700\u8981\u7684\u90e8\u5206\nconst bears = useBearStore((state) => state.bears);\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:"\u6ca1\u6709\u94f6\u5f39\uff0c\u9009\u62e9\u9002\u5408\u9879\u76ee\u89c4\u6a21\u548c\u56e2\u961f\u7684\u65b9\u6848\u6700\u91cd\u8981\u3002"})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>l});var s=t(6540);const r={},a=s.createContext(r);function o(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(a.Provider,{value:n},e.children)}},9931:e=>{e.exports=JSON.parse('{"permalink":"/blog/state-management","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-08-20-state-management.md","source":"@site/blog/2024-08-20-state-management.md","title":"React \u72b6\u6001\u7ba1\u7406\u65b9\u6848\u5bf9\u6bd4","description":"React \u72b6\u6001\u7ba1\u7406\u65b9\u6848\u4f17\u591a\uff0c\u5982\u4f55\u9009\u62e9\uff1f\u672c\u6587\u5bf9\u6bd4\u4e3b\u6d41\u65b9\u6848\u7684\u4f18\u7f3a\u70b9\u548c\u9002\u7528\u573a\u666f\u3002","date":"2024-08-20T00:00:00.000Z","tags":[{"inline":true,"label":"React","permalink":"/blog/tags/react"},{"inline":true,"label":"\u72b6\u6001\u7ba1\u7406","permalink":"/blog/tags/\u72b6\u6001\u7ba1\u7406"},{"inline":true,"label":"Redux","permalink":"/blog/tags/redux"},{"inline":true,"label":"Zustand","permalink":"/blog/tags/zustand"}],"readingTime":4.85,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"state-management","title":"React \u72b6\u6001\u7ba1\u7406\u65b9\u6848\u5bf9\u6bd4","authors":"mason","tags":["React","\u72b6\u6001\u7ba1\u7406","Redux","Zustand"]},"unlisted":false,"prevItem":{"title":"Monorepo \u5b9e\u8df5\u6307\u5357","permalink":"/blog/monorepo-guide"},"nextItem":{"title":"\u54cd\u5e94\u5f0f\u8bbe\u8ba1\u5b9e\u6218\u6307\u5357","permalink":"/blog/responsive-design"}}')}}]);