"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6025],{8224:n=>{n.exports=JSON.parse('{"permalink":"/blog/nodejs-cli","editUrl":"https://github.com/hweos/git-pages/edit/main/blog/2024-10-01-nodejs-cli.md","source":"@site/blog/2024-10-01-nodejs-cli.md","title":"Node.js \u547d\u4ee4\u884c\u5de5\u5177\u5f00\u53d1\u6307\u5357","description":"\u5f00\u53d1\u547d\u4ee4\u884c\u5de5\u5177\u80fd\u591f\u81ea\u52a8\u5316\u91cd\u590d\u5de5\u4f5c\uff0c\u63d0\u5347\u6548\u7387\u3002\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528 Node.js \u5f00\u53d1 CLI \u5de5\u5177\u3002","date":"2024-10-01T00:00:00.000Z","tags":[{"inline":true,"label":"Node.js","permalink":"/blog/tags/node-js"},{"inline":true,"label":"CLI","permalink":"/blog/tags/cli"},{"inline":true,"label":"\u5de5\u5177","permalink":"/blog/tags/\u5de5\u5177"}],"readingTime":5.21,"hasTruncateMarker":true,"authors":[{"name":"Mason","title":"Full Stack Developer","url":"https://github.com/HuangZhe007","socials":{"github":"https://github.com/HuangZhe007"},"imageURL":"https://avatars.githubusercontent.com/u/45168628?v=4","key":"mason","page":null}],"frontMatter":{"slug":"nodejs-cli","title":"Node.js \u547d\u4ee4\u884c\u5de5\u5177\u5f00\u53d1\u6307\u5357","authors":"mason","tags":["Node.js","CLI","\u5de5\u5177"]},"unlisted":false,"prevItem":{"title":"\u6280\u672f\u5199\u4f5c\u6307\u5357","permalink":"/blog/tech-writing"},"nextItem":{"title":"\u524d\u7aef\u76d1\u63a7\u4e0e\u57cb\u70b9\u5b9e\u8df5","permalink":"/blog/frontend-monitoring"}}')},8335:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>a,metadata:()=>t,toc:()=>o});var t=r(8224),s=r(4848),i=r(8453);const a={slug:"nodejs-cli",title:"Node.js \u547d\u4ee4\u884c\u5de5\u5177\u5f00\u53d1\u6307\u5357",authors:"mason",tags:["Node.js","CLI","\u5de5\u5177"]},l=void 0,c={authorsImageUrls:[void 0]},o=[{value:"\ud83c\udfaf \u5feb\u901f\u5f00\u59cb",id:"-\u5feb\u901f\u5f00\u59cb",level:2},{value:"\u9879\u76ee\u521d\u59cb\u5316",id:"\u9879\u76ee\u521d\u59cb\u5316",level:3},{value:"\u9879\u76ee\u7ed3\u6784",id:"\u9879\u76ee\u7ed3\u6784",level:3},{value:"package.json \u914d\u7f6e",id:"packagejson-\u914d\u7f6e",level:3},{value:"\u5165\u53e3\u6587\u4ef6",id:"\u5165\u53e3\u6587\u4ef6",level:3},{value:"\ud83d\udce6 \u5e38\u7528\u5e93",id:"-\u5e38\u7528\u5e93",level:2},{value:"\ud83c\udfa8 \u7ec8\u7aef\u6837\u5f0f",id:"-\u7ec8\u7aef\u6837\u5f0f",level:2},{value:"Chalk \u5f69\u8272\u8f93\u51fa",id:"chalk-\u5f69\u8272\u8f93\u51fa",level:3},{value:"Ora \u52a0\u8f7d\u52a8\u753b",id:"ora-\u52a0\u8f7d\u52a8\u753b",level:3},{value:"\ud83d\udcac \u4ea4\u4e92\u5f0f\u95ee\u7b54",id:"-\u4ea4\u4e92\u5f0f\u95ee\u7b54",level:2},{value:"Inquirer \u57fa\u672c\u7528\u6cd5",id:"inquirer-\u57fa\u672c\u7528\u6cd5",level:3},{value:"\u6761\u4ef6\u95ee\u9898",id:"\u6761\u4ef6\u95ee\u9898",level:3},{value:"\ud83d\udcc1 \u6587\u4ef6\u64cd\u4f5c",id:"-\u6587\u4ef6\u64cd\u4f5c",level:2},{value:"fs-extra",id:"fs-extra",level:3},{value:"\u6a21\u677f\u6587\u4ef6\u5904\u7406",id:"\u6a21\u677f\u6587\u4ef6\u5904\u7406",level:3},{value:"\ud83d\udd27 \u6267\u884c\u547d\u4ee4",id:"-\u6267\u884c\u547d\u4ee4",level:2},{value:"Execa",id:"execa",level:3},{value:"\ud83c\udfd7\ufe0f \u5b8c\u6574\u793a\u4f8b",id:"\ufe0f-\u5b8c\u6574\u793a\u4f8b",level:2},{value:"init \u547d\u4ee4",id:"init-\u547d\u4ee4",level:3},{value:"\ud83d\udce6 \u53d1\u5e03",id:"-\u53d1\u5e03",level:2},{value:"\u672c\u5730\u6d4b\u8bd5",id:"\u672c\u5730\u6d4b\u8bd5",level:3},{value:"\u53d1\u5e03\u5230 npm",id:"\u53d1\u5e03\u5230-npm",level:3},{value:"\ud83d\udccb \u6700\u4f73\u5b9e\u8df5",id:"-\u6700\u4f73\u5b9e\u8df5",level:2}];function d(n){const e={code:"code",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.p,{children:"\u5f00\u53d1\u547d\u4ee4\u884c\u5de5\u5177\u80fd\u591f\u81ea\u52a8\u5316\u91cd\u590d\u5de5\u4f5c\uff0c\u63d0\u5347\u6548\u7387\u3002\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528 Node.js \u5f00\u53d1 CLI \u5de5\u5177\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"-\u5feb\u901f\u5f00\u59cb",children:"\ud83c\udfaf \u5feb\u901f\u5f00\u59cb"}),"\n",(0,s.jsx)(e.h3,{id:"\u9879\u76ee\u521d\u59cb\u5316",children:"\u9879\u76ee\u521d\u59cb\u5316"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"mkdir my-cli && cd my-cli\nnpm init -y\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u9879\u76ee\u7ed3\u6784",children:"\u9879\u76ee\u7ed3\u6784"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"my-cli/\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 bin/\n\u2502   \u2514\u2500\u2500 cli.js          # \u5165\u53e3\u6587\u4ef6\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 commands/       # \u547d\u4ee4\u5b9e\u73b0\n\u2502   \u2502   \u251c\u2500\u2500 init.js\n\u2502   \u2502   \u2514\u2500\u2500 build.js\n\u2502   \u251c\u2500\u2500 utils/          # \u5de5\u5177\u51fd\u6570\n\u2502   \u2502   \u2514\u2500\u2500 logger.js\n\u2502   \u2514\u2500\u2500 index.js\n\u2514\u2500\u2500 README.md\n"})}),"\n",(0,s.jsx)(e.h3,{id:"packagejson-\u914d\u7f6e",children:"package.json \u914d\u7f6e"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "name": "my-cli",\n  "version": "1.0.0",\n  "bin": {\n    "mycli": "./bin/cli.js"\n  },\n  "type": "module",\n  "scripts": {\n    "dev": "node bin/cli.js"\n  },\n  "dependencies": {\n    "commander": "^11.0.0",\n    "chalk": "^5.3.0",\n    "inquirer": "^9.2.0",\n    "ora": "^7.0.0"\n  }\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\u5165\u53e3\u6587\u4ef6",children:"\u5165\u53e3\u6587\u4ef6"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"#!/usr/bin/env node\n// bin/cli.js\n\nimport { program } from 'commander';\nimport { init } from '../src/commands/init.js';\nimport { build } from '../src/commands/build.js';\n\nprogram\n  .name('mycli')\n  .description('My awesome CLI tool')\n  .version('1.0.0');\n\nprogram\n  .command('init')\n  .description('Initialize a new project')\n  .option('-t, --template <template>', 'Template to use', 'default')\n  .action(init);\n\nprogram\n  .command('build')\n  .description('Build the project')\n  .option('-w, --watch', 'Watch mode')\n  .option('-o, --output <dir>', 'Output directory', 'dist')\n  .action(build);\n\nprogram.parse();\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"-\u5e38\u7528\u5e93",children:"\ud83d\udce6 \u5e38\u7528\u5e93"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u5e93"}),(0,s.jsx)(e.th,{children:"\u7528\u9014"}),(0,s.jsx)(e.th,{children:"\u8bf4\u660e"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"commander"})}),(0,s.jsx)(e.td,{children:"\u547d\u4ee4\u89e3\u6790"}),(0,s.jsx)(e.td,{children:"\u5b9a\u4e49\u547d\u4ee4\u548c\u53c2\u6570"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"inquirer"})}),(0,s.jsx)(e.td,{children:"\u4ea4\u4e92\u5f0f\u95ee\u7b54"}),(0,s.jsx)(e.td,{children:"\u7528\u6237\u8f93\u5165"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"chalk"})}),(0,s.jsx)(e.td,{children:"\u5f69\u8272\u8f93\u51fa"}),(0,s.jsx)(e.td,{children:"\u7f8e\u5316\u7ec8\u7aef\u663e\u793a"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"ora"})}),(0,s.jsx)(e.td,{children:"\u52a0\u8f7d\u52a8\u753b"}),(0,s.jsx)(e.td,{children:"\u8fdb\u5ea6\u63d0\u793a"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"fs-extra"})}),(0,s.jsx)(e.td,{children:"\u6587\u4ef6\u64cd\u4f5c"}),(0,s.jsx)(e.td,{children:"\u589e\u5f3a\u7248 fs"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"execa"})}),(0,s.jsx)(e.td,{children:"\u6267\u884c\u547d\u4ee4"}),(0,s.jsx)(e.td,{children:"\u8fd0\u884c shell \u547d\u4ee4"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"glob"})}),(0,s.jsx)(e.td,{children:"\u6587\u4ef6\u5339\u914d"}),(0,s.jsx)(e.td,{children:"\u5339\u914d\u6587\u4ef6\u6a21\u5f0f"})]})]})]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"-\u7ec8\u7aef\u6837\u5f0f",children:"\ud83c\udfa8 \u7ec8\u7aef\u6837\u5f0f"}),"\n",(0,s.jsx)(e.h3,{id:"chalk-\u5f69\u8272\u8f93\u51fa",children:"Chalk \u5f69\u8272\u8f93\u51fa"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"import chalk from 'chalk';\n\n// \u57fa\u7840\u989c\u8272\nconsole.log(chalk.red('Error!'));\nconsole.log(chalk.green('Success!'));\nconsole.log(chalk.yellow('Warning!'));\nconsole.log(chalk.blue('Info'));\n\n// \u6837\u5f0f\nconsole.log(chalk.bold('Bold text'));\nconsole.log(chalk.italic('Italic text'));\nconsole.log(chalk.underline('Underlined'));\n\n// \u80cc\u666f\u8272\nconsole.log(chalk.bgRed.white('Error'));\nconsole.log(chalk.bgGreen.black('Success'));\n\n// \u7ec4\u5408\nconsole.log(chalk.red.bold.underline('Important!'));\n\n// \u6a21\u677f\u5b57\u7b26\u4e32\nconsole.log(`\n  ${chalk.green('\u2713')} Step 1 completed\n  ${chalk.green('\u2713')} Step 2 completed\n  ${chalk.yellow('\u25cb')} Step 3 in progress\n`);\n"})}),"\n",(0,s.jsx)(e.h3,{id:"ora-\u52a0\u8f7d\u52a8\u753b",children:"Ora \u52a0\u8f7d\u52a8\u753b"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"import ora from 'ora';\n\nconst spinner = ora('Loading...').start();\n\n// \u66f4\u65b0\u6587\u672c\nspinner.text = 'Installing dependencies...';\n\n// \u6210\u529f\nspinner.succeed('Done!');\n\n// \u5931\u8d25\nspinner.fail('Error occurred');\n\n// \u8b66\u544a\nspinner.warn('Something might be wrong');\n\n// \u4fe1\u606f\nspinner.info('Completed with notes');\n\n// \u505c\u6b62\nspinner.stop();\n\n// \u5b9e\u9645\u4f7f\u7528\nasync function installDeps() {\n  const spinner = ora('Installing dependencies...').start();\n  \n  try {\n    await runInstall();\n    spinner.succeed('Dependencies installed');\n  } catch (error) {\n    spinner.fail('Failed to install dependencies');\n    console.error(error);\n  }\n}\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"-\u4ea4\u4e92\u5f0f\u95ee\u7b54",children:"\ud83d\udcac \u4ea4\u4e92\u5f0f\u95ee\u7b54"}),"\n",(0,s.jsx)(e.h3,{id:"inquirer-\u57fa\u672c\u7528\u6cd5",children:"Inquirer \u57fa\u672c\u7528\u6cd5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"import inquirer from 'inquirer';\n\n// \u6587\u672c\u8f93\u5165\nconst { name } = await inquirer.prompt([\n  {\n    type: 'input',\n    name: 'name',\n    message: 'Project name:',\n    default: 'my-project',\n    validate: (input) => input.length > 0 || 'Name is required',\n  }\n]);\n\n// \u5355\u9009\nconst { framework } = await inquirer.prompt([\n  {\n    type: 'list',\n    name: 'framework',\n    message: 'Select a framework:',\n    choices: ['React', 'Vue', 'Angular', 'Svelte'],\n  }\n]);\n\n// \u591a\u9009\nconst { features } = await inquirer.prompt([\n  {\n    type: 'checkbox',\n    name: 'features',\n    message: 'Select features:',\n    choices: [\n      { name: 'TypeScript', value: 'ts', checked: true },\n      { name: 'ESLint', value: 'eslint' },\n      { name: 'Prettier', value: 'prettier' },\n      { name: 'Testing', value: 'test' },\n    ],\n  }\n]);\n\n// \u786e\u8ba4\nconst { confirmed } = await inquirer.prompt([\n  {\n    type: 'confirm',\n    name: 'confirmed',\n    message: 'Are you sure?',\n    default: false,\n  }\n]);\n\n// \u5bc6\u7801\nconst { password } = await inquirer.prompt([\n  {\n    type: 'password',\n    name: 'password',\n    message: 'Enter password:',\n    mask: '*',\n  }\n]);\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u6761\u4ef6\u95ee\u9898",children:"\u6761\u4ef6\u95ee\u9898"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"const answers = await inquirer.prompt([\n  {\n    type: 'confirm',\n    name: 'useTypeScript',\n    message: 'Use TypeScript?',\n  },\n  {\n    type: 'confirm',\n    name: 'strict',\n    message: 'Enable strict mode?',\n    when: (answers) => answers.useTypeScript, // \u6761\u4ef6\u663e\u793a\n  }\n]);\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"-\u6587\u4ef6\u64cd\u4f5c",children:"\ud83d\udcc1 \u6587\u4ef6\u64cd\u4f5c"}),"\n",(0,s.jsx)(e.h3,{id:"fs-extra",children:"fs-extra"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"import fs from 'fs-extra';\n\n// \u590d\u5236\u6587\u4ef6/\u76ee\u5f55\nawait fs.copy('src', 'dist');\n\n// \u786e\u4fdd\u76ee\u5f55\u5b58\u5728\nawait fs.ensureDir('dist/assets');\n\n// \u5199\u5165 JSON\nawait fs.writeJson('config.json', { name: 'my-app' }, { spaces: 2 });\n\n// \u8bfb\u53d6 JSON\nconst config = await fs.readJson('config.json');\n\n// \u79fb\u52a8\nawait fs.move('old-path', 'new-path');\n\n// \u5220\u9664\nawait fs.remove('dist');\n\n// \u68c0\u67e5\u5b58\u5728\nconst exists = await fs.pathExists('file.txt');\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u6a21\u677f\u6587\u4ef6\u5904\u7406",children:"\u6a21\u677f\u6587\u4ef6\u5904\u7406"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"import fs from 'fs-extra';\nimport path from 'path';\n\nasync function copyTemplate(templateDir, targetDir, variables) {\n  const files = await fs.readdir(templateDir);\n\n  for (const file of files) {\n    const srcPath = path.join(templateDir, file);\n    const destPath = path.join(targetDir, file);\n    const stat = await fs.stat(srcPath);\n\n    if (stat.isDirectory()) {\n      await fs.ensureDir(destPath);\n      await copyTemplate(srcPath, destPath, variables);\n    } else {\n      // \u8bfb\u53d6\u5e76\u66ff\u6362\u53d8\u91cf\n      let content = await fs.readFile(srcPath, 'utf-8');\n      \n      for (const [key, value] of Object.entries(variables)) {\n        content = content.replace(new RegExp(`{{${key}}}`, 'g'), value);\n      }\n\n      await fs.writeFile(destPath, content);\n    }\n  }\n}\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"-\u6267\u884c\u547d\u4ee4",children:"\ud83d\udd27 \u6267\u884c\u547d\u4ee4"}),"\n",(0,s.jsx)(e.h3,{id:"execa",children:"Execa"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"import { execa, $ } from 'execa';\n\n// \u57fa\u672c\u7528\u6cd5\nconst { stdout } = await execa('npm', ['--version']);\nconsole.log('npm version:', stdout);\n\n// \u7b80\u5199\u8bed\u6cd5\nconst result = await $`npm install lodash`;\n\n// \u6d41\u5f0f\u8f93\u51fa\nawait execa('npm', ['install'], { stdio: 'inherit' });\n\n// \u6355\u83b7\u9519\u8bef\ntry {\n  await execa('npm', ['run', 'build']);\n} catch (error) {\n  console.error('Build failed:', error.stderr);\n  process.exit(1);\n}\n\n// \u5728\u7279\u5b9a\u76ee\u5f55\u6267\u884c\nawait execa('npm', ['install'], { cwd: './project' });\n\n// \u73af\u5883\u53d8\u91cf\nawait execa('npm', ['start'], {\n  env: { NODE_ENV: 'production' }\n});\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\ufe0f-\u5b8c\u6574\u793a\u4f8b",children:"\ud83c\udfd7\ufe0f \u5b8c\u6574\u793a\u4f8b"}),"\n",(0,s.jsx)(e.h3,{id:"init-\u547d\u4ee4",children:"init \u547d\u4ee4"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"// src/commands/init.js\nimport path from 'path';\nimport fs from 'fs-extra';\nimport chalk from 'chalk';\nimport ora from 'ora';\nimport inquirer from 'inquirer';\nimport { execa } from 'execa';\n\nexport async function init(options) {\n  console.log(chalk.blue('\\n\ud83d\ude80 Create a new project\\n'));\n\n  // 1. \u6536\u96c6\u4fe1\u606f\n  const answers = await inquirer.prompt([\n    {\n      type: 'input',\n      name: 'name',\n      message: 'Project name:',\n      default: 'my-project',\n      validate: (input) => {\n        if (!/^[a-z0-9-]+$/.test(input)) {\n          return 'Name can only contain lowercase letters, numbers, and hyphens';\n        }\n        return true;\n      },\n    },\n    {\n      type: 'list',\n      name: 'template',\n      message: 'Select a template:',\n      choices: ['react', 'vue', 'vanilla'],\n      default: options.template,\n    },\n    {\n      type: 'checkbox',\n      name: 'features',\n      message: 'Select features:',\n      choices: [\n        { name: 'TypeScript', value: 'typescript', checked: true },\n        { name: 'ESLint', value: 'eslint' },\n        { name: 'Prettier', value: 'prettier' },\n      ],\n    },\n  ]);\n\n  const projectDir = path.resolve(process.cwd(), answers.name);\n\n  // 2. \u68c0\u67e5\u76ee\u5f55\n  if (await fs.pathExists(projectDir)) {\n    const { overwrite } = await inquirer.prompt([\n      {\n        type: 'confirm',\n        name: 'overwrite',\n        message: `Directory ${answers.name} already exists. Overwrite?`,\n        default: false,\n      },\n    ]);\n\n    if (!overwrite) {\n      console.log(chalk.yellow('Cancelled'));\n      return;\n    }\n    await fs.remove(projectDir);\n  }\n\n  // 3. \u521b\u5efa\u9879\u76ee\n  const spinner = ora('Creating project...').start();\n\n  try {\n    await fs.ensureDir(projectDir);\n\n    // \u590d\u5236\u6a21\u677f\n    const templateDir = path.join(__dirname, '..', 'templates', answers.template);\n    await fs.copy(templateDir, projectDir);\n\n    // \u66f4\u65b0 package.json\n    const pkgPath = path.join(projectDir, 'package.json');\n    const pkg = await fs.readJson(pkgPath);\n    pkg.name = answers.name;\n    await fs.writeJson(pkgPath, pkg, { spaces: 2 });\n\n    spinner.succeed('Project created');\n\n    // 4. \u5b89\u88c5\u4f9d\u8d56\n    spinner.start('Installing dependencies...');\n    await execa('npm', ['install'], { cwd: projectDir });\n    spinner.succeed('Dependencies installed');\n\n    // 5. \u5b8c\u6210\n    console.log(chalk.green('\\n\u2728 Done! Now run:\\n'));\n    console.log(chalk.cyan(`  cd ${answers.name}`));\n    console.log(chalk.cyan('  npm run dev\\n'));\n  } catch (error) {\n    spinner.fail('Failed to create project');\n    console.error(chalk.red(error.message));\n    process.exit(1);\n  }\n}\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"-\u53d1\u5e03",children:"\ud83d\udce6 \u53d1\u5e03"}),"\n",(0,s.jsx)(e.h3,{id:"\u672c\u5730\u6d4b\u8bd5",children:"\u672c\u5730\u6d4b\u8bd5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \u94fe\u63a5\u5230\u5168\u5c40\nnpm link\n\n# \u6d4b\u8bd5\u547d\u4ee4\nmycli --help\nmycli init\n\n# \u53d6\u6d88\u94fe\u63a5\nnpm unlink\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u53d1\u5e03\u5230-npm",children:"\u53d1\u5e03\u5230 npm"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \u767b\u5f55\nnpm login\n\n# \u53d1\u5e03\nnpm publish\n\n# \u53d1\u5e03 scoped \u5305\nnpm publish --access public\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"-\u6700\u4f73\u5b9e\u8df5",children:"\ud83d\udccb \u6700\u4f73\u5b9e\u8df5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-markdown",children:"1. \u63d0\u4f9b --help \u548c --version\n2. \u4f7f\u7528\u5f69\u8272\u8f93\u51fa\u533a\u5206\u4fe1\u606f\u7c7b\u578b\n3. \u663e\u793a\u8fdb\u5ea6\u548c\u52a0\u8f7d\u72b6\u6001\n4. \u5904\u7406\u9519\u8bef\u5e76\u7ed9\u51fa\u6709\u7528\u4fe1\u606f\n5. \u652f\u6301\u914d\u7f6e\u6587\u4ef6\n6. \u6dfb\u52a0 --verbose \u548c --quiet \u9009\u9879\n7. \u7f16\u5199\u6e05\u6670\u7684\u6587\u6863\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.p,{children:"CLI \u5de5\u5177\u80fd\u591f\u5927\u5e45\u63d0\u5347\u5de5\u4f5c\u6548\u7387\u3002\u4ece\u7b80\u5355\u7684\u811a\u672c\u5f00\u59cb\uff0c\u9010\u6b65\u5b8c\u5584\u529f\u80fd\u3002"})]})}function p(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}},8453:(n,e,r)=>{r.d(e,{R:()=>a,x:()=>l});var t=r(6540);const s={},i=t.createContext(s);function a(n){const e=t.useContext(i);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:a(n.components),t.createElement(i.Provider,{value:e},n.children)}}}]);